<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>åŸºäºSimulinkçš„é€šä¿¡ç³»ç»Ÿä»¿çœŸ</title>
      <link href="/2025/09/09/study/Simulink%E4%BB%BF%E7%9C%9F/"/>
      <url>/2025/09/09/study/Simulink%E4%BB%BF%E7%9C%9F/</url>
      
        <content type="html"><![CDATA[<h1 id="é€šä¿¡åŸç†â€”â€”Simulinkä»¿çœŸ"><a href="#é€šä¿¡åŸç†â€”â€”Simulinkä»¿çœŸ" class="headerlink" title="é€šä¿¡åŸç†â€”â€”Simulinkä»¿çœŸ"></a>é€šä¿¡åŸç†â€”â€”Simulinkä»¿çœŸ</h1><h2 id="æ¨¡æ‹Ÿè°ƒåˆ¶"><a href="#æ¨¡æ‹Ÿè°ƒåˆ¶" class="headerlink" title="æ¨¡æ‹Ÿè°ƒåˆ¶"></a>æ¨¡æ‹Ÿè°ƒåˆ¶</h2><h3 id="FM-â€”â€”-è§’åº¦è°ƒåˆ¶"><a href="#FM-â€”â€”-è§’åº¦è°ƒåˆ¶" class="headerlink" title="FM â€”â€” è§’åº¦è°ƒåˆ¶"></a>FM â€”â€” è§’åº¦è°ƒåˆ¶</h3><h4 id="FM-å‘å°„æœº"><a href="#FM-å‘å°„æœº" class="headerlink" title="FM å‘å°„æœº"></a>FM å‘å°„æœº</h4><p>Simulink FM è°ƒåˆ¶æ¡†å›¾å±•ç¤ºï¼š<br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250909001.png" alt="image">    </p><p>ä¸Šè¿°æ¡†å›¾æ˜¯ç¦»æ•£æ—¶é—´çš„è°ƒé¢‘è°ƒåˆ¶å™¨ï¼Œä¸»è¦æ¡†æ¶åŠåŸç†å¦‚ä¸‹ï¼š<br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250909004.png" alt="image">    </p><ol><li>æ¥è‡ª DSP çš„åŸºå¸¦æ¶ˆæ¯ä¿¡å·ï¼Œè¡¨ç¤ºè°ƒåˆ¶ä¿¡å·ï¼›é€šè¿‡ä¸€ä¸ªå¢ç›Šå—ï¼Œä¹˜ä¸Š $K_f$ï¼Œè¡¨ç¤ºæ¯ä¸€ä¼ç”µå‹å¯¹é¢‘ç‡çš„å½±å“å› ç´ ã€‚  </li><li>å¸¸é‡æ¨¡å— <code>2Ï€ * 300</code>ï¼Œè¡¨ç¤ºè½½æ³¢çš„è§’é¢‘ç‡éƒ¨åˆ†ã€‚<br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250909003.png" alt="image"></li></ol><p>å°†ä¸¤ä¸ªåˆ†é‡ç›¸åŠ å¾—åˆ°å·²è°ƒä¿¡å·çš„ç¬æ—¶é¢‘ç‡ï¼Œå†é€šè¿‡ç¦»æ•£æ—¶é—´åŸŸä¸Šçš„ç§¯åˆ†å™¨å®ç°è°ƒé¢‘ï¼š  </p><p>$$<br>H(z) &#x3D; \frac{K T_s}{z-1}<br>$$</p><p>å·²çŸ¥è°ƒé¢‘ä¿¡å·çš„ä¸€èˆ¬æ•°å­¦å½¢å¼ä¸ºï¼š  </p><p>$$<br>s(t) &#x3D; A_c \cos \Big( 2 \pi f_c t + K_f \int m(t) , dt \Big)<br>$$  </p><p>å·²è°ƒä¿¡å·çš„ç¬æ—¶é¢‘ç‡éšç€æ—¶é—´è€Œæ”¹å˜ã€‚ä¸Šè¿°å¼å­æ˜¯ä»¥ $PM$ çš„å½¢å¼å®ç°çš„ $FM$ï¼Œå¯¹æ•´ä¸ª $\phi (t)$ æ±‚å¯¼å¯ä»¥å‘ç°ç¬æ—¶é¢‘ç‡ä¸ $m(t)$ æœ‰å…³ï¼š  </p><p>$$<br>f_s &#x3D; 2\pi f_c + K_f m(t)<br>$$  </p><ul><li><strong>è½½æ³¢é¢‘ç‡</strong>ï¼š $f_c &#x3D; 300 ,\text{Hz}$  </li><li><strong>è°ƒåˆ¶ä¿¡å·</strong>ï¼š $m(t)$ï¼Œç”± DSP è¾“å‡º  </li><li><strong>è°ƒé¢‘çµæ•åº¦</strong>ï¼š $K_f &#x3D; 2\pi \cdot 300$  </li><li><strong>ç§¯åˆ†å™¨</strong>ï¼šå®ç° $\int m(t) , dt$ï¼Œç›¸ä½ä¸è¾“å…¥æ¶ˆæ¯ç›¸å…³  </li><li><strong>ä½™å¼¦å‡½æ•°</strong>ï¼šç”Ÿæˆè°ƒé¢‘ä¿¡å·  </li><li><strong>å¹…åº¦è°ƒåˆ¶</strong>ï¼šç”±ç³»æ•° $A_c$ æ§åˆ¶</li></ul><p>å› æ­¤ï¼Œè¾“å‡ºä¿¡å·å¯ä»¥è¡¨ç¤ºä¸ºï¼š  </p><p>$$<br>s(t) &#x3D; A_c \cos \Big( 2\pi f_c t + K_f \int m(t) dt \Big)<br>$$  </p><hr><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250909002.png" alt="image">    </p><h4 id="FM-è§£è°ƒæœº"><a href="#FM-è§£è°ƒæœº" class="headerlink" title="FM è§£è°ƒæœº"></a>FM è§£è°ƒæœº</h4><ol><li><p><strong>å·®åˆ†è¿ç®—</strong> $\dfrac{z-1}{z}$  </p><ul><li>å®ç°è¾“å…¥ä¿¡å·çš„å·®åˆ†ï¼ˆç±»ä¼¼å¾®åˆ†å™¨ï¼‰ã€‚  </li><li>åœ¨ç¦»æ•£æ—¶é—´ä¸­ï¼Œ$(z-1)&#x2F;z$ å¯¹åº”ï¼š  </li><li>ç‰©ç†æ„ä¹‰ï¼šä»è¾“å…¥ FM ä¿¡å·ä¸­æå–ç›¸ä½çš„å˜åŒ–ï¼ˆå³ç¬æ—¶é¢‘ç‡ï¼‰ã€‚</li></ul></li><li><p><strong>å–ç»å¯¹å€¼</strong> $|u|$  </p><ul><li>å¾—åˆ°å·®åˆ†ä¿¡å·çš„å¹…åº¦ï¼Œé¿å…ç›¸ä½æ­£è´Ÿå˜åŒ–å¸¦æ¥çš„ç¬¦å·ç¿»è½¬ã€‚</li></ul></li><li><p><strong>å¹³æ–¹</strong> ($u^v, v&#x3D;2$)  </p><ul><li>å¯¹ä¿¡å·å¹³æ–¹ï¼Œç­‰ä»·äºèƒ½é‡æ£€æµ‹ã€‚  </li><li>FM çš„ç¬æ—¶é¢‘ç‡ä¸ä¿¡å·ç›¸ä½çš„å˜åŒ–ç‡æœ‰å…³ï¼Œå¹³æ–¹åå¯ä»¥ç¨³å®šåœ°æ¢å¤ä¸æ¶ˆæ¯ä¿¡å·æˆæ¯”ä¾‹çš„åŒ…ç»œã€‚</li></ul></li><li><p><strong>ä½é€šæ»¤æ³¢å™¨ (Lowpass)</strong>  </p><ul><li>ç»è¿‡å·®åˆ†å’Œå¹³æ–¹åï¼Œä¿¡å·ä¸­åŒ…å«é«˜é¢‘åˆ†é‡ï¼ˆè½½æ³¢åˆ†é‡ï¼‰ã€‚  </li><li>ä½é€šæ»¤æ³¢å™¨å»é™¤é«˜é¢‘ï¼Œåªä¿ç•™åŸºå¸¦åˆ†é‡ï¼Œå³è§£è°ƒå‡ºçš„æ¶ˆæ¯ä¿¡å· $m(t)$ã€‚</li></ul></li></ol><hr><p>FM å·²è°ƒä¿¡å·é€šè¿‡å·®åˆ†å™¨åï¼š  </p><p>$$<br>\dot{s}(t)&#x3D;\frac{d}{dt}\big[A_c\cos\theta(t)\big]<br>&#x3D; -A_c\sin\theta(t),\dot{\theta}(t)<br>&#x3D; -A_c,\omega_i(t),\sin\theta(t)<br>$$  </p><p>ç›¸ä½ä¿¡æ¯é€šè¿‡æ±‚å¯¼æˆåŠŸä»ä½™å¼¦å‡½æ•°ä¸­æå–å‡ºæ¥ã€‚å¯¹è¾“å‡ºçš„ç»“æœè¿›è¡Œå¹³æ–¹ï¼š  </p><p>$$<br>y^2(t) \propto A_c^2,\omega_i^2(t),\sin^2\theta(t)<br>&#x3D; \frac{A_c^2}{2},\omega_i^2(t),\big(1-\cos 2\theta(t)\big)<br>$$  </p><p>å°†å¹³æ–¹åçš„ä¿¡å·é€šè¿‡ä½é€šæ»¤æ³¢ï¼Œå¯ä»¥æ»¤å»é«˜é¢‘çš„ä¿¡å·ï¼Œä»è€Œå¾—åˆ°ä¿¡æ¯ä¿¡å·ï¼ˆå¸¦æœ‰ç›´æµåç½®ï¼‰ï¼š  </p><p>$$<br>u_{\text{LP}}(t);\propto;\omega_i^2(t)<br>&#x3D; \big(2\pi f_c + K_f m(t)\big)^2<br>&#x3D; (2\pi f_c)^2 + 2(2\pi f_c)K_f,m(t) + K_f^2 m^2(t)<br>$$</p>]]></content>
      
      
      <categories>
          
          <category> é€šä¿¡åŸç† </category>
          
          <category> MATLAB </category>
          
          <category> Simulink </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MATLAB </tag>
            
            <tag> Knowledge </tag>
            
            <tag> communication </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€šä¿¡åŸç†â€”â€”æ¨¡æ‹Ÿè°ƒåˆ¶</title>
      <link href="/2025/09/07/study/%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86_%E6%A8%A1%E6%8B%9F%E8%B0%83%E5%88%B6/"/>
      <url>/2025/09/07/study/%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86_%E6%A8%A1%E6%8B%9F%E8%B0%83%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="é€šä¿¡åŸç†â€”â€”MATLABä»¿çœŸ"><a href="#é€šä¿¡åŸç†â€”â€”MATLABä»¿çœŸ" class="headerlink" title="é€šä¿¡åŸç†â€”â€”MATLABä»¿çœŸ"></a>é€šä¿¡åŸç†â€”â€”MATLABä»¿çœŸ</h1><h2 id="Analog-Modulation-æ¨¡æ‹Ÿè°ƒåˆ¶"><a href="#Analog-Modulation-æ¨¡æ‹Ÿè°ƒåˆ¶" class="headerlink" title="Analog Modulation æ¨¡æ‹Ÿè°ƒåˆ¶"></a>Analog Modulation æ¨¡æ‹Ÿè°ƒåˆ¶</h2><h3 id="å¹…åº¦è°ƒåˆ¶-â€”â€”-AM"><a href="#å¹…åº¦è°ƒåˆ¶-â€”â€”-AM" class="headerlink" title="å¹…åº¦è°ƒåˆ¶ â€”â€” AM"></a>å¹…åº¦è°ƒåˆ¶ â€”â€” AM</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250908005.png" alt="image"><br>ä¸Šå›¾ä¸ºMATLABä»¿çœŸçš„AMæ³¢å½¢ï¼Œä»£ç å¦‚ä¸‹ï¼š   </p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">f0 = <span class="number">50</span>;    <span class="comment">% Carrier Freq: 50Hz</span></span><br><span class="line">fm = <span class="number">15</span>;    <span class="comment">% Message Freq: 24Hz</span></span><br><span class="line"></span><br><span class="line">num_points = <span class="number">4096</span>;</span><br><span class="line">t0 = <span class="number">1</span> / f0;</span><br><span class="line">t = <span class="number">1</span>:t0:num_points*t0;</span><br><span class="line"></span><br><span class="line">Am = <span class="number">1</span>;     <span class="comment">% Amplitude of Message Signal</span></span><br><span class="line">Ac = <span class="number">1</span>;     <span class="comment">% Amplitude of Carrier Signal</span></span><br><span class="line"></span><br><span class="line">mt = Am * <span class="built_in">cos</span>(<span class="number">2</span> * <span class="built_in">pi</span> * fm * t);</span><br><span class="line">st = Ac * (<span class="number">1</span> + mt) .* <span class="built_in">cos</span>(<span class="number">2</span> * <span class="built_in">pi</span> * f0 * t);</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>;</span><br><span class="line"><span class="built_in">plot</span>(t, st, <span class="string">&#x27;-ob&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Time (s)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;Amplitude&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;Amplitude Modulated Signal&#x27;</span>);</span><br><span class="line">grid on;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬è®¾ç½®ä¿¡æ¯é¢‘ç‡ä¸è½½æ³¢é¢‘ç‡åˆ†åˆ«ä¸º $15Hz, 50Hz$ï¼Œå¯ä»¥è‡ªè¡Œå°è¯•ä¸åŒçš„é¢‘ç‡é€‰æ‹©ï¼Œä¸åŒçš„é¢‘ç‡å¾—åˆ°çš„è°ƒåˆ¶ä¿¡å·ä¸ç›¸åŒã€‚   </p><p>AMçš„è°ƒåˆ¶å…¬å¼å¦‚ä¸‹ï¼š   </p><p>$$S(t) &#x3D; A_{c} (1 + m(t)) \cos{2\pi f_{c}t}$$   </p><p>å¦‚æœä¿¡æ¯ $m(t)$ çš„å¹…åº¦è¶…è¿‡ $1$ï¼Œåˆ™ä¼šå‡ºç°è¿‡è°ƒåˆ¶çš„é—®é¢˜ï¼Œè¯¦è§ä¸‹ï¼š   </p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250908009.png" alt="image"><br>å¯¹æ¯”ä¸¤å¹…å›¾ç‰‡å¯ä»¥æ˜æ˜¾çš„å‘ç°çº¢è‰²æ–¹æ¡†å¤„å‡ºç°äº†è¿‡è°ƒåˆ¶çš„é—®é¢˜ã€‚   </p><p>ä¸‹é¢è®¡ç®—AMè°ƒåˆ¶çš„åŠŸç‡ã€å®é™…åŠŸç‡ã€è°ƒåˆ¶æ•ˆç‡ä»¥åŠåŠŸç‡è°±ï¼š   </p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">beta</span> = (<span class="built_in">max</span>(st) - Ac) / Ac;         <span class="comment">% Modulation Index</span></span><br><span class="line">mu = Am / Ac;                       <span class="comment">% Modulation Depth</span></span><br><span class="line">Ps = (<span class="number">1</span>/<span class="number">2</span>) * Ac^<span class="number">2</span> * <span class="built_in">mean</span>(<span class="number">1</span> + mt.^<span class="number">2</span>);<span class="comment">% Power of the Modulated Signal</span></span><br><span class="line">Pc = (<span class="number">1</span>/<span class="number">2</span>) * Ac^<span class="number">2</span>;                  <span class="comment">% Power of the Carrier Signal</span></span><br><span class="line">Pm = (<span class="number">1</span>/<span class="number">2</span>) * Ac^<span class="number">2</span> * <span class="built_in">mean</span>(mt.^<span class="number">2</span>);    <span class="comment">% Power of the Message Signal</span></span><br><span class="line">efficiency = (Pm / Ps) * <span class="number">100</span>;       <span class="comment">% Efficiency of the Modulated Signal</span></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">=== AMä¿¡å·åŠŸç‡åˆ†æ ===</span><br><span class="line">è°ƒåˆ¶æ·±åº¦ (Î¼): 1.200</span><br><span class="line">è½½æ³¢åŠŸç‡: 0.500 W</span><br><span class="line">ç†è®ºæ€»åŠŸç‡: 0.860 W</span><br><span class="line">å®é™…æ€»åŠŸç‡: 0.360 W</span><br><span class="line">è°ƒåˆ¶æ•ˆç‡: 41.84%</span><br></pre></td></tr></table></figure><p>åŠŸç‡è°±å¦‚ä¸‹ï¼š   </p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250908003.png" alt="image">    </p><hr><h3 id="DSB-SC-â€”â€”-åŒè¾¹å¸¦æŠ‘åˆ¶è½½æ³¢"><a href="#DSB-SC-â€”â€”-åŒè¾¹å¸¦æŠ‘åˆ¶è½½æ³¢" class="headerlink" title="DSB-SC â€”â€” åŒè¾¹å¸¦æŠ‘åˆ¶è½½æ³¢"></a>DSB-SC â€”â€” åŒè¾¹å¸¦æŠ‘åˆ¶è½½æ³¢</h3><p>æ˜¯ä¸€ç§<strong>çº¿æ€§å¹…åº¦è°ƒåˆ¶</strong>æ–¹å¼ï¼Œå±äº AM è°ƒåˆ¶å®¶æ—ï¼Œä½†ä¸å¸¸è§„ AM ä¸åŒï¼Œå®ƒ<strong>ä¸å‘é€è½½æ³¢åˆ†é‡</strong>ï¼Œä»…å‘é€<strong>ä¸Šä¸‹ä¸¤ä¸ªè¾¹å¸¦</strong>ã€‚   </p><p>ä»å…¬å¼ä¸Šè§‚å¯Ÿï¼ŒDSB-SCçš„è°ƒåˆ¶ä¿¡å·æ²¡æœ‰ç›´æµåç½®çš„å­˜åœ¨ï¼š   </p><p>$$s_{DSB-SC}(t) &#x3D; m(t) \cos(2 \pi f_c t)$$   </p><p>å¯¹åº”çš„é¢‘åŸŸå…¬å¼ä¸ºï¼š   </p><p>$$S_{DSB-SC}(f) &#x3D; \frac{1}{2} \left[ M(f - f_c) + M(f + f_c)  \right]$$   </p><p>è¿™æ ·çš„å¥½å¤„æ˜¯ï¼ŒèŠ‚çœäº†è½½æ³¢çš„åŠŸç‡ï¼Œä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´ç­‰ä»·äº<strong>è¿‡è°ƒåˆ¶</strong>çš„å­˜åœ¨ã€‚   </p><p>ä½†æ˜¯ç”±äºè¿‡è°ƒåˆ¶ï¼Œå¯¼è‡´DSB-SCçš„è§£è°ƒä¸èƒ½åƒAMä¸€æ ·é€šè¿‡ç®€å•çš„åŒ…ç»œæ£€æ³¢å®ç°ï¼Œå› ä¸ºæ­¤æ—¶çš„åŒ…ç»œä¸è°ƒåˆ¶ä¿¡å·ä¸æˆæ­£æ¯”ï¼›è€Œæ˜¯éœ€è¦ä½¿ç”¨ç›¸å¹²è§£è°ƒï¼Œè¿™å°±éœ€è¦æ¥æ”¶ç«¯äº§ç”Ÿæœ¬æŒ¯ï¼ŒèŠ‚çœçš„è½½æ³¢èƒ½é‡ä»¥å¦ä¸€ç§å½¢å¼æ¶ˆè€—äº†ã€‚   </p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250908004.png" alt="image">    </p><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š   </p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">num_points = <span class="number">16384</span>;</span><br><span class="line"></span><br><span class="line">Am = <span class="number">1</span>;</span><br><span class="line">fm = <span class="number">15</span>;</span><br><span class="line">Tm = <span class="number">1</span> / fm;</span><br><span class="line">t = <span class="built_in">linspace</span>(<span class="number">0</span>, <span class="number">4</span> * Tm, num_points);</span><br><span class="line"></span><br><span class="line">mt = Am * <span class="built_in">cos</span>(<span class="number">2</span> * <span class="built_in">pi</span> * fm * t);</span><br><span class="line"></span><br><span class="line">fc = <span class="number">200</span>;</span><br><span class="line">Ac = <span class="number">1</span>;</span><br><span class="line">st = Ac * mt .* <span class="built_in">cos</span>(<span class="number">2</span> * <span class="built_in">pi</span> * fc * t);</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>;</span><br><span class="line">subplot(<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">plot</span>(t, mt, <span class="string">&#x27;-k&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;Amplitude&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;Message Signal&#x27;</span>);</span><br><span class="line">grid on;</span><br><span class="line"></span><br><span class="line">subplot(<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">plot</span>(t, st, <span class="string">&#x27;-b&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Time (s)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;Amplitude&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;DSB-SC Modulated Signal&#x27;</span>);</span><br><span class="line">grid on;</span><br></pre></td></tr></table></figure><p>å¯¹åº”çš„é¢‘è°±å’ŒåŠŸç‡è°±å¦‚ä¸‹ï¼š   </p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250908007.png" alt="image">    </p><p>çºµè½´çš„æ•°å€¼å¼‚å¸¸æ˜¯ç”±äºæ²¡æœ‰åŠŸç‡å½’ä¸€åŒ–å¯¼è‡´çš„ï¼Œå…·ä½“è„šæœ¬å¦‚ä¸‹ï¼š   </p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">num_spectrum = num_points;</span><br><span class="line"></span><br><span class="line">fs = num_points / (<span class="number">4</span> * Tm);</span><br><span class="line">f = <span class="built_in">linspace</span>(-fs/<span class="number">2</span>, fs/<span class="number">2</span>, num_spectrum);</span><br><span class="line">St_fft = fftshift(fft(st));</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>;</span><br><span class="line">subplot(<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">plot</span>(f, <span class="built_in">abs</span>(St_fft), <span class="string">&#x27;r-&#x27;</span>, <span class="string">&#x27;LineWidth&#x27;</span>, <span class="number">1.5</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;é¢‘ç‡ (Hz)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;å¹…åº¦&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;DSB-SCä¿¡å·é¢‘è°±&#x27;</span>);</span><br><span class="line">grid on;</span><br><span class="line"></span><br><span class="line">subplot(<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">plot</span>(f, <span class="built_in">abs</span>(St_fft).^<span class="number">2</span>/<span class="built_in">length</span>(st), <span class="string">&#x27;r-&#x27;</span>, <span class="string">&#x27;LineWidth&#x27;</span>, <span class="number">1.5</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;é¢‘ç‡ (Hz)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;åŠŸç‡è°±å¯†åº¦&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;DSB-SCä¿¡å·åŠŸç‡è°±&#x27;</span>);</span><br><span class="line">grid on;</span><br></pre></td></tr></table></figure><p>é€šè¿‡å¯¹è°ƒåˆ¶ä¿¡å·å’Œå·²è°ƒä¿¡å·çš„åŠŸç‡åˆ†æï¼Œå‘ç°æ‰€æœ‰çš„åŠŸç‡å…¨éƒ¨ç”¨äºè°ƒåˆ¶ä¿¡å·å¹¶å‘é€ï¼Œ<strong>è°ƒåˆ¶æ•ˆç‡ç†è®ºä¸Šæ˜¯100%</strong>ï¼   </p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">BW_before = fm;</span><br><span class="line">BW_after = <span class="number">2</span> * fm;</span><br><span class="line">Ps = (<span class="number">1</span>/<span class="number">2</span>) * Ac^<span class="number">2</span> * <span class="built_in">mean</span>(mt.^<span class="number">2</span>);    <span class="comment">% Power of the Modulated Signal</span></span><br><span class="line">Pc = <span class="number">0</span>;                              <span class="comment">% Power of the Carrier Signal</span></span><br><span class="line">Pm = (<span class="number">1</span>/<span class="number">2</span>) * Ac^<span class="number">2</span> * <span class="built_in">mean</span>(mt.^<span class="number">2</span>);    <span class="comment">% Power of the Message Signal</span></span><br><span class="line">efficiency = (Pm / Ps) * <span class="number">100</span>;       <span class="comment">% Efficiency of the Modulated</span></span><br><span class="line"></span><br><span class="line">fprintf(<span class="string">&#x27;=== DSB-SCä¿¡å·åŠŸç‡åˆ†æ ===\n&#x27;</span>);</span><br><span class="line">fprintf(<span class="string">&#x27;è½½æ³¢åŠŸç‡: %.3f W\n&#x27;</span>, Pc);</span><br><span class="line">fprintf(<span class="string">&#x27;ç†è®ºæ€»åŠŸç‡: %.3f W\n&#x27;</span>, Ps);</span><br><span class="line">fprintf(<span class="string">&#x27;å®é™…æ€»åŠŸç‡: %.3f W\n&#x27;</span>, Pm);</span><br><span class="line">fprintf(<span class="string">&#x27;è°ƒåˆ¶æ•ˆç‡: %.2f%%\n&#x27;</span>, efficiency);</span><br></pre></td></tr></table></figure><h3 id="SSB-SC-â€”â€”-å•è¾¹å¸¦æŠ‘åˆ¶è½½æ³¢"><a href="#SSB-SC-â€”â€”-å•è¾¹å¸¦æŠ‘åˆ¶è½½æ³¢" class="headerlink" title="SSB-SC â€”â€” å•è¾¹å¸¦æŠ‘åˆ¶è½½æ³¢"></a>SSB-SC â€”â€” å•è¾¹å¸¦æŠ‘åˆ¶è½½æ³¢</h3><p>åŸºæœ¬åŸç†ä¸DSB-SCç›¸åŒï¼Œåªä¸è¿‡DSB-SCè°ƒåˆ¶å®ŒååŒ…å«æœ‰ä¸¤ä¸ªè¾¹å¸¦ï¼Œä¸Šè¾¹å¸¦ï¼ˆUSBï¼‰å’Œä¸‹è¾¹å¸¦ï¼ˆLSBï¼‰ï¼Œè€ŒSSB-SCå°±æ˜¯åªä¿ç•™å…¶ä¸­ä¸€ä¸ªè¾¹å¸¦ï¼ŒèŠ‚çœå¸¦å®½ã€‚   </p><p>åŸæ¥çš„DSB-SCé¢‘è°±å¦‚ä¸‹ï¼š   </p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250908010.png" alt="image">    </p><p>å¦‚ä½•å®ç°SSB-SCå‘¢ï¼Ÿæˆ‘ä»¬ä¸€èˆ¬ä»é¢‘åŸŸå…¥æ‰‹ï¼š   </p><ol><li>æ»¤æ³¢æ³•ï¼ˆæœ€ç›´è§‚ï¼‰</li></ol><ul><li>å…ˆç”Ÿæˆ DSB-SC ä¿¡å·   </li><li>ç”¨<strong>ç†æƒ³è¾¹å¸¦æ»¤æ³¢å™¨</strong>æ»¤é™¤ä¸€ä¸ªè¾¹å¸¦   </li><li>âš ï¸ ç¼ºç‚¹ï¼šå½“ $f_m$å¾ˆå°ï¼ˆå¦‚è¯­éŸ³ä¿¡å· $300Hz$ï¼‰è€Œ $f_c$å¾ˆå¤§ï¼ˆå¦‚ $1MHz$ï¼‰ï¼Œè¾¹å¸¦é å¾—å¤ªè¿‘ï¼Œç‰©ç†æ»¤æ³¢å™¨éš¾ä»¥å®ç°é™¡å³­æˆªæ­¢</li></ul><ol start="2"><li>ç›¸ç§»æ³•ï¼ˆHilbert å˜æ¢æ³•ï¼‰<br>åˆ©ç”¨ Hilbert å˜æ¢æ„é€ è§£æä¿¡å·ï¼š<br>$$s_{SSB}(t)&#x3D;\frac{1}{2}[m(t)cos(2Ï€f_c t) âˆ“ \hat{m}(t)sin(2Ï€f_c t)]$$</li></ol><ul><li>ä¸Šè¾¹å¸¦ï¼ˆUSBï¼‰å– â€œâˆ’â€   </li><li>ä¸‹è¾¹å¸¦ï¼ˆLSBï¼‰å– â€œ+â€   </li><li>$\hat{m}(t)$æ˜¯ $m(t)$çš„ $Hilbert$å˜æ¢ï¼ˆç›¸ç§» $-90Â°$ï¼‰</li></ul><p>ğŸ“Œ ä¼˜ç‚¹ï¼šæ— éœ€é™¡å³­æ»¤æ³¢å™¨ï¼Œé€‚åˆå®½å¸¦&#x2F;ä½é¢‘åŸºå¸¦ä¿¡å·   </p><p>çŸ¥è¯†ç‚¹è¡¥å……â€”â€”å¸Œå°”ä¼¯ç‰¹å˜æ¢å¾—åˆ°è§£æä¿¡å·ï¼š   </p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250908002.png" alt="image">    </p><p>é€šè¿‡ä¸Šè¿°å¯ä»¥å¾—åˆ°å•è¾¹å¸¦ä¿¡å·ï¼›   </p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250908008.png" alt="image">    </p><p>ä¸Šå›¾æ˜¯åŸºäºç›¸ç§»æ³•å¾—åˆ°çš„å•è¾¹å¸¦è°ƒåˆ¶ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š   </p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">num_points = <span class="number">16384</span>;</span><br><span class="line"></span><br><span class="line">Am = <span class="number">1</span>;</span><br><span class="line">fm = <span class="number">15</span>;</span><br><span class="line">Tm = <span class="number">1</span> / fm;</span><br><span class="line">t = <span class="built_in">linspace</span>(<span class="number">0</span>, <span class="number">4</span> * Tm, num_points);</span><br><span class="line">mt = Am * <span class="built_in">cos</span>(<span class="number">2</span> * <span class="built_in">pi</span> * fm * t);</span><br><span class="line"></span><br><span class="line">mt_hilbert = hilbert(mt);</span><br><span class="line">mt_hat = <span class="built_in">imag</span>(mt_hilbert);  <span class="comment">% Hilbert Transform</span></span><br><span class="line"></span><br><span class="line">fc = <span class="number">300</span>;</span><br><span class="line">Ac = <span class="number">1</span>;</span><br><span class="line">st_USB = (<span class="number">1</span> / <span class="number">2</span>) * Ac * (mt .* <span class="built_in">cos</span>(<span class="number">2</span> * <span class="built_in">pi</span> * fc * t) - mt_hat .* <span class="built_in">sin</span>(<span class="number">2</span> * <span class="built_in">pi</span> * fc * t));</span><br><span class="line">st_LSB = (<span class="number">1</span> / <span class="number">2</span>) * Ac * (mt .* <span class="built_in">cos</span>(<span class="number">2</span> * <span class="built_in">pi</span> * fc * t) + mt_hat .* <span class="built_in">sin</span>(<span class="number">2</span> * <span class="built_in">pi</span> * fc * t));</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>;</span><br><span class="line">subplot(<span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">plot</span>(t, st_USB, <span class="string">&#x27;-b&#x27;</span>);</span><br><span class="line"><span class="built_in">hold</span> on;</span><br><span class="line"><span class="built_in">plot</span>(t, st_LSB, <span class="string">&#x27;--r&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Time (s)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;Amplitude&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;SSB-SC Modulated Signal (USB &amp; LSB)&#x27;</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">&#x27;USB&#x27;</span>, <span class="string">&#x27;LSB&#x27;</span>);</span><br><span class="line"></span><br><span class="line">num_spectrum = num_points;</span><br><span class="line">fs = num_spectrum / (<span class="number">4</span> * Tm);</span><br><span class="line">f = <span class="built_in">linspace</span>(-fs/<span class="number">2</span>, fs/<span class="number">2</span>, num_spectrum);</span><br><span class="line">St_USB_fft = fftshift(fft(st_USB));</span><br><span class="line">St_LSB_fft = fftshift(fft(st_LSB));</span><br><span class="line"></span><br><span class="line">subplot(<span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">plot</span>(f, <span class="built_in">abs</span>(St_USB_fft) / num_spectrum, <span class="string">&#x27;b-&#x27;</span>, <span class="string">&#x27;LineWidth&#x27;</span>, <span class="number">1.5</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;Magnitude&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;SSB-SC Signal Spectrum (USB)&#x27;</span>);</span><br><span class="line">grid on;</span><br><span class="line"></span><br><span class="line">subplot(<span class="number">3</span>, <span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line"><span class="built_in">plot</span>(f, <span class="built_in">abs</span>(St_LSB_fft) / num_spectrum, <span class="string">&#x27;r-&#x27;</span>, <span class="string">&#x27;LineWidth&#x27;</span>, <span class="number">1.5</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;é¢‘ç‡ (Hz)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;Magnitude&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;SSB-SC Signal Spectrum (LSB)&#x27;</span>);</span><br><span class="line">grid on;</span><br></pre></td></tr></table></figure><h3 id="è§’åº¦è°ƒåˆ¶-â€”â€”-FM"><a href="#è§’åº¦è°ƒåˆ¶-â€”â€”-FM" class="headerlink" title="è§’åº¦è°ƒåˆ¶ â€”â€” FM"></a>è§’åº¦è°ƒåˆ¶ â€”â€” FM</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250908006.png" alt="image">    </p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">num_points = <span class="number">16384</span>;</span><br><span class="line"></span><br><span class="line">fm = <span class="number">60</span>;</span><br><span class="line">Tm = <span class="number">1</span> / fm;</span><br><span class="line">t = <span class="built_in">linspace</span>(<span class="number">0</span>, <span class="number">4</span> * Tm, num_points);</span><br><span class="line"></span><br><span class="line">Am = <span class="number">1</span>;</span><br><span class="line">Kf = <span class="number">100</span>;        <span class="comment">% Hz/Volt æ¯ä¼ç‰¹å¯¹åº”å¤šå°‘çš„é¢‘ç‡åç§»</span></span><br><span class="line">mt = Am * <span class="built_in">cos</span>(<span class="number">2</span> * <span class="built_in">pi</span> * fm * t);</span><br><span class="line"></span><br><span class="line">fc = <span class="number">300</span>;</span><br><span class="line">Ac = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">integral_mt = cumtrapz(t, mt);</span><br><span class="line">phi = <span class="number">2</span> * <span class="built_in">pi</span> * fc * t + <span class="number">2</span> * <span class="built_in">pi</span> * Kf * integral_mt;  <span class="comment">% ç›¸ä½ ä»¥PMçš„æ–¹å¼è°ƒåˆ¶FM</span></span><br><span class="line">st = Ac * <span class="built_in">cos</span>(phi);</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>;</span><br><span class="line">subplot(<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">plot</span>(t, mt, <span class="string">&#x27;-k&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;Amplitude&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;Message Signal&#x27;</span>);</span><br><span class="line">grid on;</span><br><span class="line"></span><br><span class="line">subplot(<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">plot</span>(t, st, <span class="string">&#x27;-r&#x27;</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;Time (s)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;Amplitude&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;Frequency Modulated Signal&#x27;</span>);</span><br><span class="line">grid on;</span><br></pre></td></tr></table></figure><p>è®¡ç®—åŠŸç‡è°±ï¼ˆé¢‘è°±ï¼‰å¯ä»¥çœ‹åˆ°æœ‰å¤šä¸ªè¾¹å¸¦ï¼š   </p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250908001.png" alt="image">    </p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">num_spectrum = num_points;</span><br><span class="line">fs = num_spectrum / (<span class="number">4</span> * Tm);</span><br><span class="line">f = <span class="built_in">linspace</span>(-fs/<span class="number">2</span>, fs/<span class="number">2</span>, num_spectrum);</span><br><span class="line">St_fft = fftshift(fft(st));</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>;</span><br><span class="line">subplot(<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">plot</span>(f, <span class="built_in">abs</span>(St_fft)/<span class="built_in">max</span>(<span class="built_in">abs</span>(St_fft)), <span class="string">&#x27;r-&#x27;</span>, <span class="string">&#x27;LineWidth&#x27;</span>, <span class="number">1.5</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;Magnitude&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;FMä¿¡å·é¢‘è°±&#x27;</span>);</span><br><span class="line">grid on;</span><br><span class="line"></span><br><span class="line">subplot(<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">plot</span>(f, <span class="number">20</span>*<span class="built_in">log10</span>(<span class="built_in">abs</span>(St_fft)/<span class="built_in">max</span>(<span class="built_in">abs</span>(St_fft))), <span class="string">&#x27;r-&#x27;</span>, <span class="string">&#x27;LineWidth&#x27;</span>, <span class="number">1.5</span>);</span><br><span class="line">xlabel(<span class="string">&#x27;é¢‘ç‡ (Hz)&#x27;</span>);</span><br><span class="line">ylabel(<span class="string">&#x27;åŠŸç‡è°±å¯†åº¦&#x27;</span>);</span><br><span class="line">title(<span class="string">&#x27;FMä¿¡å·åŠŸç‡è°±&#x27;</span>);</span><br><span class="line">grid on;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸º<strong>FM æ˜¯éçº¿æ€§è°ƒåˆ¶ï¼Œä¼šå¯¼è‡´åœ¨é¢‘è°±ä¸Šå‡ºç°é¢‘å</strong>ï¼Œå¯¼è‡´<strong>å¸¦å®½çš„æ‰©å±•</strong>ä»¥åŠ<strong>æ— é™å¤šçš„é¢‘è°±</strong>ï¼   </p><p>ä¸ AMï¼ˆå¹…åº¦è°ƒåˆ¶ï¼‰ä¸åŒï¼ŒFM æ˜¯ä¸€ç§<strong>éçº¿æ€§è°ƒåˆ¶æ–¹å¼</strong>ï¼Œå…¶å·²è°ƒä¿¡å·å¯ä»¥å±•å¼€ä¸ºä¸€ä¸ª<strong>æ— ç©·çº§æ•°</strong>ï¼ŒåŒ…å«è½½æ³¢å’Œæ— æ•°å¯¹è¾¹é¢‘åˆ†é‡ã€‚   </p><p>å¯¹äºå•éŸ³ FM ä¿¡å·ï¼š   </p><p>$$s(t) &#x3D; A_c \cos{(2 \pi f_c t + \beta \sin{2 \pi f_m t})}$$   </p><p>å¯¹äºä¸Šè¿°FMè°ƒåˆ¶ä¿¡å·æ¥è¯´ï¼Œå…¶å‚…é‡Œå¶å±•å¼€ä¸ºæ— ç©·çº§æ•°ï¼š   </p><p>$$s(t) &#x3D; A_c \sum_{n&#x3D;-\infty}^{\infty} J_n(\beta) \cos\left[2\pi (f_c + n f_m)t\right]$$   </p><p>å…¶ä¸­ï¼š   </p><ul><li>$Jn(Î²)$ï¼š<strong>ç¬¬$n$é˜¶ç¬¬ä¸€ç±»è´å¡å°”å‡½æ•°</strong>ï¼ˆBessel functionï¼‰   </li><li>$Î²$ï¼šè°ƒåˆ¶æŒ‡æ•°ï¼ˆä»£ç ä¸­çº¦ä¸º 0.67ï¼‰   </li><li>$fm$ï¼šè°ƒåˆ¶ä¿¡å·é¢‘ç‡ï¼ˆ30 Hzï¼‰   </li><li>$fc$ï¼šè½½æ³¢é¢‘ç‡ï¼ˆ100 Hzï¼‰</li></ul><p>å› ä¸ºå‚æ•°çš„è®¾å®šï¼ˆ1000Hzé‡‡æ ·ç‡ï¼Œ4096ä¸ªç‚¹ï¼Œé¢‘è°±åˆ†è¾¨ç‡0.24Hzï¼‰ï¼Œå› æ­¤å¯ä»¥æ¸…æ™°çš„çœ‹åˆ°ä¸åŒçš„å³°å€¼ã€‚   </p><ul><li>$Kf&#x3D;20Hz&#x2F;V, Am&#x3D;1â‡’Î”f&#x3D;20Hz$   </li><li>$Î²&#x3D;\frac{fm}{Î”f}&#x3D;\frac{30}{20}â‰ˆ0.67$</li></ul><p>æ‰€ä»¥è®¡ç®—ç¬¬ä¸€ç±»è´å¡å°”æ›²çº¿å‡½æ•°å¯å¾—ï¼š   </p><ul><li>$J0(0.67)â‰ˆ0.8$â†’ ä¸»è½½æ³¢è¾ƒå¼º   </li><li>$J1(0.67)â‰ˆ0.32$â†’ ç¬¬ä¸€é˜¶è¾¹å¸¦æ˜æ˜¾   </li><li>$J2(0.67)â‰ˆ0.06$â†’ ç¬¬äºŒé˜¶è¾ƒå¼±ä½†ä»å¯è§   </li><li>æ›´é«˜é˜¶è¿…é€Ÿè¡°å‡</li></ul><p>å› æ­¤è®¾ç½®ä¸åŒçš„å‚æ•°å¯ä»¥æœ‰å¾ˆæ˜æ˜¾çš„é¢‘è°±å·®å¼‚ã€‚   </p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% æœ€å¤§é¢‘å (Maximum Frequency Deviation)</span></span><br><span class="line">delta_f = Kf * Am;  <span class="comment">% Hz</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% æœ€å¤§ç›¸å (Maximum Phase Deviation)</span></span><br><span class="line">delta_phi = delta_f / fm;  <span class="comment">% rad</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% è°ƒé¢‘æŒ‡æ•° (Modulation Index)</span></span><br><span class="line">beta_fm = delta_f / fm;</span><br><span class="line"></span><br><span class="line"><span class="comment">% å¸¦å®½è®¡ç®—</span></span><br><span class="line"><span class="comment">% Carsonå¸¦å®½è§„åˆ™: BW = 2(Î”f + fm)</span></span><br><span class="line">BW_carson = <span class="number">2</span> * (delta_f + fm);  <span class="comment">% Hz</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% è¿‘ä¼¼å¸¦å®½ (å½“Î² &gt; 1æ—¶)</span></span><br><span class="line"><span class="keyword">if</span> beta_fm &gt; <span class="number">1</span></span><br><span class="line">    BW_approx = <span class="number">2</span> * delta_f;  <span class="comment">% å®½å¸¦FM</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    BW_approx = <span class="number">2</span> * fm;       <span class="comment">% çª„å¸¦FM</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% ç¬æ—¶é¢‘ç‡è®¡ç®—</span></span><br><span class="line">dt = t(<span class="number">2</span>) - t(<span class="number">1</span>);</span><br><span class="line">inst_freq = fc + Kf * mt;  <span class="comment">% ç¬æ—¶é¢‘ç‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% åŠŸç‡è®¡ç®—</span></span><br><span class="line">P_fm = <span class="built_in">mean</span>(st.^<span class="number">2</span>);         <span class="comment">% FMä¿¡å·åŠŸç‡</span></span><br><span class="line">P_carrier = Ac^<span class="number">2</span> / <span class="number">2</span>;       <span class="comment">% ç†è®ºè½½æ³¢åŠŸç‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% ç»“æœæ˜¾ç¤º</span></span><br><span class="line">fprintf(<span class="string">&#x27;=== FMä¿¡å·å‚æ•°åˆ†æ ===\n&#x27;</span>);</span><br><span class="line">fprintf(<span class="string">&#x27;è½½æ³¢é¢‘ç‡ (fc): %.1f Hz\n&#x27;</span>, fc);</span><br><span class="line">fprintf(<span class="string">&#x27;è°ƒåˆ¶é¢‘ç‡ (fm): %.1f Hz\n&#x27;</span>, fm);</span><br><span class="line">fprintf(<span class="string">&#x27;é¢‘ç‡çµæ•åº¦ (Kf): %.1f Hz/V\n&#x27;</span>, Kf);</span><br><span class="line">fprintf(<span class="string">&#x27;è°ƒåˆ¶ä¿¡å·å¹…åº¦ (Am): %.1f V\n&#x27;</span>, Am);</span><br><span class="line">fprintf(<span class="string">&#x27;æœ€å¤§é¢‘å (Î”f): %.1f Hz\n&#x27;</span>, delta_f);</span><br><span class="line">fprintf(<span class="string">&#x27;æœ€å¤§ç›¸å (Î”Ï†): %.2f rad\n&#x27;</span>, delta_phi);</span><br><span class="line">fprintf(<span class="string">&#x27;è°ƒé¢‘æŒ‡æ•° (Î²): %.2f\n&#x27;</span>, beta_fm);</span><br><span class="line">fprintf(<span class="string">&#x27;Carsonå¸¦å®½: %.1f Hz\n&#x27;</span>, BW_carson);</span><br><span class="line">fprintf(<span class="string">&#x27;è¿‘ä¼¼å¸¦å®½: %.1f Hz\n&#x27;</span>, BW_approx);</span><br><span class="line">fprintf(<span class="string">&#x27;ä¿¡å·åŠŸç‡: %.3f W\n&#x27;</span>, P_fm);</span><br><span class="line">fprintf(<span class="string">&#x27;ç†è®ºåŠŸç‡: %.3f W\n&#x27;</span>, P_carrier);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> beta_fm &gt; <span class="number">1</span></span><br><span class="line">    fprintf(<span class="string">&#x27;è°ƒåˆ¶ç±»å‹: å®½å¸¦FM\n&#x27;</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    fprintf(<span class="string">&#x27;è°ƒåˆ¶ç±»å‹: çª„å¸¦FM\n&#x27;</span>);</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>ç›¸å…³çš„å‚æ•°è®¡ç®—å¦‚ä¸Šï¼Œæœ¬è„šæœ¬çš„å‚æ•°å¦‚ä¸‹ï¼š   </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">=== FMä¿¡å·å‚æ•°åˆ†æ ===</span><br><span class="line">è½½æ³¢é¢‘ç‡ (fc): 300.0 Hz</span><br><span class="line">è°ƒåˆ¶é¢‘ç‡ (fm): 60.0 Hz</span><br><span class="line">é¢‘ç‡çµæ•åº¦ (Kf): 100.0 Hz/V</span><br><span class="line">è°ƒåˆ¶ä¿¡å·å¹…åº¦ (Am): 1.0 V</span><br><span class="line">æœ€å¤§é¢‘å (Î”f): 100.0 Hz</span><br><span class="line">æœ€å¤§ç›¸å (Î”Ï†): 1.67 rad</span><br><span class="line">è°ƒé¢‘æŒ‡æ•° (Î²): 1.67</span><br><span class="line">Carsonå¸¦å®½: 320.0 Hz</span><br><span class="line">è¿‘ä¼¼å¸¦å®½: 200.0 Hz</span><br><span class="line">ä¿¡å·åŠŸç‡: 0.500 W</span><br><span class="line">ç†è®ºåŠŸç‡: 0.500 W</span><br><span class="line">è°ƒåˆ¶ç±»å‹: å®½å¸¦FM</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é€šä¿¡åŸç† </category>
          
          <category> MATLAB </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MATLAB </tag>
            
            <tag> Knowledge </tag>
            
            <tag> communication </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºUbuntu22.04çš„UHDå®‰è£…æŒ‡å¼•</title>
      <link href="/2025/06/06/research/usrp_uhd_download/"/>
      <url>/2025/06/06/research/usrp_uhd_download/</url>
      
        <content type="html"><![CDATA[<h2 id="ï¼ï¼ï¼æœ¬æŒ‡å¼•æ˜¯åŸºäºä»¥ä¸‹ç¯å¢ƒå®ç°çš„ï¼ï¼ï¼"><a href="#ï¼ï¼ï¼æœ¬æŒ‡å¼•æ˜¯åŸºäºä»¥ä¸‹ç¯å¢ƒå®ç°çš„ï¼ï¼ï¼" class="headerlink" title="ï¼ï¼ï¼æœ¬æŒ‡å¼•æ˜¯åŸºäºä»¥ä¸‹ç¯å¢ƒå®ç°çš„ï¼ï¼ï¼"></a>ï¼ï¼ï¼æœ¬æŒ‡å¼•æ˜¯åŸºäºä»¥ä¸‹ç¯å¢ƒå®ç°çš„ï¼ï¼ï¼</h2><ol><li>Ubuntu22.04</li><li>æ³¨æ„ï¼šè‹±è¯­ç³»ç»Ÿ</li><li>éœ€è¦Linuxç³»ç»Ÿæ”¯æŒçš„VPNï¼Œæ¶‰åŠåˆ°ç½‘ç»œç¯å¢ƒ</li></ol><p>å¦‚æœå¯¹uhdé©±åŠ¨çš„ç‰ˆæœ¬æ²¡æœ‰è¦æ±‚çš„è¯ï¼Œæ¨èç›´æ¥ä½¿ç”¨é»˜è®¤å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> add-apt-repository ppa:ettusresearch/uhd</span><br><span class="line"><span class="built_in">sudo</span> apt-get update</span><br><span class="line"><span class="built_in">sudo</span> apt-get install libuhd-dev uhd-host</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°æŒ‡ä»¤æƒ³è¦ä¸æŠ¥é”™çš„è¿è¡Œå°±éœ€è¦ç³»ç»Ÿåœ¨å®‰è£…æ—¶é€‰æ‹©è‹±æ–‡ç³»ç»Ÿï¼Œè¿™å°±è·Ÿwindowç³»ç»Ÿçš„ä¸­æ–‡è·¯å¾„ä¸€æ ·ï¼›</p><hr><p>ä¸Šè¿°æŒ‡ä»¤åuhdé©±åŠ¨å°±å·²ç»å®‰è£…å¥½äº†ï¼å¦‚æœä½ ä½¿ç”¨çš„USRPè·Ÿæˆ‘ä¸€æ ·æ˜¯B210æˆ–è€…B200miniï¼ŒB200ç³»åˆ—çš„è¯ï¼Œä½ è¿˜éœ€è¦ä»¥ä¸‹æŒ‡ä»¤ç»™è¿™äº›USRPå®‰è£…é¢å¤–çš„é©±åŠ¨ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /lib/uhd/utils</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> uhd-usrp.rules /etc/udev/rules.d/</span><br><span class="line"><span class="built_in">sudo</span> udevadm control --reload-rules</span><br><span class="line"><span class="built_in">sudo</span> udevadm trigger</span><br></pre></td></tr></table></figure><p>åœ¨è¿è¡Œä¸Šè¿°ç¬¬ä¸€æ¡æŒ‡ä»¤æ—¶æ¨èåˆ°æ¡Œé¢çš„ä¸Šçº§ç›®å½•å¼€å§‹æ‰§è¡Œï¼Œåªéœ€è¦åœ¨å‰é¢åŠ ä¸€å¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br></pre></td></tr></table></figure><p>å³å¯è¾“å…¥åç»­çš„æŒ‡ä»¤ï¼š</p><h2 id="è¡¥å……ï¼š"><a href="#è¡¥å……ï¼š" class="headerlink" title="è¡¥å……ï¼š"></a>è¡¥å……ï¼š</h2><p>ç»™è®¾å¤‡ä¸‹è½½å›ºä»¶é•œåƒï¼Œä¸ç„¶ä½ çš„ç”µè„‘å¾ˆå¯èƒ½è¯†åˆ«ä¸åˆ°ä½ çš„è®¾å¤‡ï¼›</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="built_in">sudo</span> uhd_images_downloader</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°æŒ‡ä»¤ä¸­çš„ç¬¬ä¸€å¥æ˜¯æˆ‘ä¸ªäººè‡ªå·±æ·»åŠ çš„ï¼Œä¸æ¸…æ¥šæ˜¯å¦å¯è¡Œï¼›</p><p>å¦‚æœä½ æ˜¯ä¸€æ­¥ä¸€æ­¥æŒ‰ç…§ä¸Šé¢æ¥çš„è¯ï¼Œåœ¨è¿è¡Œå®Œå®‰è£…é©±åŠ¨çš„æŒ‡ä»¤åï¼Œä½ æ‰€å¤„çš„ç›®å½•åº”è¯¥æ˜¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/lib/uhd/utils</span><br></pre></td></tr></table></figure><p>æœ¬äººéªŒè¯è¿‡ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸‹å¯ä»¥ç›´æ¥è¿è¡Œå›ºä»¶çš„ä¸‹è½½æŒ‡ä»¤ï¼Œåç»­è¿è¡Œä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œå¦‚æœæ‹…å¿ƒç›®å½•æ”¹å˜å¯¼è‡´è¿è¡ŒæŠ¥é”™çš„è¯ï¼Œè¯·è‡ªè¡Œå¿½ç•¥ <code>cd ~</code> è¿™ä¸€å¥ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> USRP </tag>
            
            <tag> UHD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äººå·¥æ™ºèƒ½åŸºç¡€å¤ä¹ ç¬”è®°</title>
      <link href="/2025/06/01/study/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"/>
      <url>/2025/06/01/study/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/</url>
      
        <content type="html"><![CDATA[<h1 id="äººå·¥æ™ºèƒ½"><a href="#äººå·¥æ™ºèƒ½" class="headerlink" title="äººå·¥æ™ºèƒ½"></a>äººå·¥æ™ºèƒ½</h1><h1 id="èšç±»åˆ†æâ€”â€”æ— ç›‘ç£"><a href="#èšç±»åˆ†æâ€”â€”æ— ç›‘ç£" class="headerlink" title="èšç±»åˆ†æâ€”â€”æ— ç›‘ç£"></a>èšç±»åˆ†æâ€”â€”æ— ç›‘ç£</h1><h2 id="ä»€ä¹ˆæ˜¯èšç±»åˆ†æï¼š"><a href="#ä»€ä¹ˆæ˜¯èšç±»åˆ†æï¼š" class="headerlink" title="ä»€ä¹ˆæ˜¯èšç±»åˆ†æï¼š"></a>ä»€ä¹ˆæ˜¯èšç±»åˆ†æï¼š</h2><p><strong>é—®é¢˜ï¼šç»™ä½ ä¸€å †æ ·æœ¬ï¼Œå¦‚ä½•é€šè¿‡æ ·æœ¬é—´å¯èƒ½å­˜åœ¨çš„è”ç³»å°†è¿™äº›æ ·æœ¬åˆ†ä¸ºä¸åŒçš„ç±»åˆ«ï¼Ÿ</strong><br>è¿™äº›æ ·æœ¬æ²¡æœ‰åŸæœ¬<strong>æ­£ç¡®</strong>çš„ç±»åˆ«ï¼Œè¿™ç§æˆ‘ä»¬ç§°ä¸ºæ— ç›‘ç£ï¼ˆæ— æ ‡è®°çš„æ ·æœ¬ï¼‰ï¼Œå¸Œæœ›å¯»æ‰¾æ ·æœ¬ä¸­å­˜åœ¨çš„<strong>è‡ªç„¶</strong>çš„èšç±»ã€‚</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(5).png" alt="001"></p><p>è€Œå¯¹äºåŸæœ¬å°±<strong>æœ‰æ ‡è®°</strong>çš„èšç±»è¡Œä¸ºæˆ‘ä»¬ç§°ä¸ºåˆ†ç±»ï¼Œå¸Œæœ›èƒ½å¤Ÿå°†æ··åœ¨ä¸€èµ·çš„ä¸åŒæ ·æœ¬åŒºåˆ†å¼€æ¥ï¼Œè¿™äº›æ ·æœ¬çš„æŸå†™ç‰¹å¾å¯èƒ½å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯å› ä¸ºæ˜¯ä¸åŒæ ‡è®°ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åˆ†å¼€è¿™äº›æ ·æœ¬ï¼Œè¿™é‡Œä¸èšç±»çš„è¡Œä¸º<strong>å®Œå…¨ä¸åŒï¼</strong></p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(2).png" alt="002"></p><p>å¯¹äºä¸€ä¸ªè¯¦ç»†çš„å®ç‰©ï¼Œæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨è®¡ç®—æœºå¯¹ä»–ä»¬è¿›è¡Œå¤„ç†ï¼Œè¿™å°±è¦æ±‚æˆ‘ä»¬å¯¹å®ç‰©çš„æœ¬ä½“æˆ–è€…ç‰¹å¾æŠ½è±¡ä¸ºä¸€ä¸ªä¸ªç‰¹å¾å‘é‡ï¼Œé€šè¿‡<strong>ç‰¹å¾å‘é‡çš„è·ç¦»</strong>æ¥è¡¨å¾ç›¸ä¼¼æ€§ï¼æ‰€ä»¥ï¼Œå¦‚ä½•æŠ½è±¡å‡ºç‰¹å¾å‘é‡å†³å®šäº†èšç±»çš„å‡†ç¡®æ€§ã€‚</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(17).png" alt="003"></p><p>ä¸Šé¢çš„ä¾‹å­å°±ä½“ç°å‡ºäº†ç‰¹å¾çš„é€‰å–åœ¨èšç±»ä¸­èµ·åˆ°è‡³å…³é‡è¦çš„ä½œç”¨ï¼</p><h2 id="ç‰¹å¾ç›¸ä¼¼æ€§çš„æµ‹åº¦å’Œèšç±»å‡†åˆ™"><a href="#ç‰¹å¾ç›¸ä¼¼æ€§çš„æµ‹åº¦å’Œèšç±»å‡†åˆ™" class="headerlink" title="ç‰¹å¾ç›¸ä¼¼æ€§çš„æµ‹åº¦å’Œèšç±»å‡†åˆ™"></a>ç‰¹å¾ç›¸ä¼¼æ€§çš„æµ‹åº¦å’Œèšç±»å‡†åˆ™</h2><p>æœ€å¸¸è§çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¬§æ°è·ç¦»è¡¨å¾ä¸¤ä¸ªç‰¹å¾å‘é‡ä¹‹é—´çš„è·ç¦»ï¼š</p><p>$$<br>d(x, y) &#x3D; \sqrt{(x - y)^T (x - y)} &#x3D; \sqrt{\sum_{i&#x3D;1}^n (x_i - y_i)^2}<br>$$</p><p>æ³¨æ„ï¼Œè¿™é‡Œçš„è®¡ç®—éœ€è¦åœ¨åŒä¸€ä¸ªé‡çº²ä¸‹ã€‚</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(3).png" alt="004"></p><p>åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œä½ ä¼šå‘ç°å­¦ç”Ÿèº«é«˜å¯¹æ¬§æ°è·ç¦»çš„å½±å“åœ¨ä½“é‡é¢å‰å®Œå…¨ä¸å€¼ä¸€æï¼Œå°±ç®—æ­¤æ—¶èº«é«˜ç›¸å·®1må¯¹äºä¸¤ä¸ªå­¦ç”Ÿå¯¹åº”ç‰¹å¾å‘é‡ä¹‹é—´çš„æ¬§æ°è·ç¦»å½±å“ä¹Ÿå¾®ä¹å…¶å¾®ï¼›è€Œç¬¬äºŒç§ï¼Œä¸¤ç§ç‰¹å¾å¯¹æ¬§æ°è·ç¦»éƒ½æœ‰è¾ƒå¤§çš„å½±å“å› å­ï¼ˆç”¨äºè¡¨å¾è¯¥ç‰¹å¾å¯¹æ¬§æ°è·ç¦»çš„å½±å“åŠ›ï¼‰ã€‚</p><hr><p>å¯¹äºä¸Šé¢çš„è¿™ä¸ªé—®é¢˜ï¼Œæ¨å‡ºäº†é©¬æ°è·ç¦»å½’ä¸€åŒ–æ ·æœ¬ç‰¹å¾ä¹‹é—´çš„ç›¸å…³æ€§ï¼š</p><p>$$<br>d(x, y) &#x3D; \sqrt{(x - y)^T S^{-1} (x - y)}<br>$$</p><p>æ¬§å¼è·ç¦»ä¸­ï¼Œå®Œå…¨æ˜¯<strong>ç‰¹å¾å‘é‡ä¸­å¯¹åº”åˆ†é‡ç›¸ä¹˜</strong>ï¼Œå†ç›¸åŠ å¾—åˆ°ï¼Œå¦‚æœæŸä¸€é¡¹çš„å€¼éå¸¸å¤§ï¼Œé‚£ä¹ˆå…¶å€¼å°±ä¼šæ©ç›–å€¼å°çš„ä¸€é¡¹æ‰€èµ·åˆ°çš„ä½œç”¨ï¼Œè¿™æ˜¯æ¬§å¼è·ç¦»çš„ä¸è¶³ï¼›å½“é‡‡ç”¨é©¬æ°è·ç¦»ï¼Œå°±å¯ä»¥å±è”½è¿™ä¸€ç‚¹ï¼Œå› ä¸ºç›¸å…³æ€§å¼ºçš„ä¸€ä¸ªåˆ†é‡ï¼Œå¯¹åº”äº<strong>åæ–¹å·®çŸ©é˜µCä¸­å¯¹è§’çº¿ä¸Šçš„é‚£ä¸€é¡¹çš„å€¼å°±ä¼šå¤§</strong>ä¸€äº›ã€‚å†å°†è¿™ä¸€é¡¹<strong>å–å€’æ•°</strong>ï¼Œå‡å°è¯¥å½±å“ã€‚</p><p>é€šè¿‡ä¸Šé¢çš„æè¿°ä½ ä¹Ÿå¯ä»¥å‘ç°ï¼Œé©¬æ°è·ç¦»å¯¹ç‰¹å¾å‘é‡ä¸­æ¯ä¸€ä¸ªåˆ†é‡éƒ½åšäº†å½’ä¸€åŒ–ï¼Œå¹¶ä¸”ç”±äºåæ–¹å·®çš„é‡çº²ä¸åŸå§‹åˆ†é‡ç›¸åŒï¼Œæ‰€ä»¥é©¬æ°è·ç¦»çš„ç»“æœ<strong>ä¸åŸå§‹æ•°æ®çš„é‡çº²æ— å…³</strong>ã€‚</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(1).png" alt="005"></p><p>å·¦å›¾æ˜¯æ¬§æ°è·ç¦»ï¼Œå³å›¾æ˜¯é©¬æ°è·ç¦»ã€‚å·¦å›¾ä¸­ï¼ŒA, Båˆ°å‡å€¼çš„è·ç¦»ç›¸åŒï¼Œå› æ­¤éƒ½åœ¨åŒä¸€ä¸ªåœ†ä¸Šï¼Œå¿½ç•¥äº†æ•°æ®çš„åˆ†å¸ƒï¼ˆé‡çº²ï¼‰çš„ä¸åŒï¼›å³å›¾ä¸­ï¼Œé€šè¿‡åæ–¹å·®çŸ©é˜µè°ƒæ•´äº†$X_{1}, X_{2}$ä»è€Œä½¿å¾—è™½ç„¶A, Bä¹‹é—´çš„é©¬æ°è·ç¦»ä¸åŒä½†æ˜¯æ›´ç¬¦åˆæ•°æ®çš„åˆ†å¸ƒã€‚</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(19).png" alt="006"></p><p>ä¸Šå›¾ä¸­æ›´æ˜¯åæ˜ å‡ºï¼Œæ¬§æ°è·ç¦»çš„ç­‰é«˜çº¿æ˜¯ä»¥åŸç‚¹ä¸ºä¸­å¿ƒçš„åœ†åˆ†å¸ƒï¼Œå³è¾¹çš„é©¬æ°è·ç¦»ç­‰é«˜çº¿ä¸æ•°æ®çš„åˆ†å¸ƒç›¸ä¼¼ã€‚</p><hr><p>é™¤äº†ä¸Šè¿°ä¸¤ç§ç›¸ä¼¼æ€§çš„æµ‹é‡æ–¹å¼ï¼Œè¿˜æœ‰ï¼š</p><p>è§’åº¦ç›¸ä¼¼æ€§å‡½æ•°</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(16).png" alt="007"></p><p>ç”¨äºè¡¨å¾ä¸¤ä¸ªç‰¹å¾å‘é‡ä¹‹é—´çš„å¤¹è§’å¤§å°ï¼Œè¿™æ ·è¡¨è¿°ç›¸ä¼¼æ€§æœ‰ä¸¤ä¸ªå¥½å¤„ï¼š</p><ol><li>å½“ç‰¹å¾ç©ºé—´è¿›è¡Œå°ºåº¦å˜æ¢ï¼Œå¦‚æ”¾å¤§ç¼©å°æ—¶ï¼Œå¤¹è§’ä¿æŒä¸å˜ï¼›   </li><li>å½“åæ ‡ç³»æ—‹è½¬ï¼Œæˆ–è€…åæ ‡å˜æ¢ï¼Œå¦‚ä»¿å°„å˜æ¢ï¼ŒåŒçº¿æ€§å˜æ¢ï¼Œå¹³æ–¹å˜æ¢ã€åŒå¹³æ–¹å˜æ¢æ—¶ï¼Œå¤¹è§’ä¸å˜ï¼›</li></ol><p>Tanimotoæµ‹åº¦ï¼š</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(21).png" alt="008"></p><p>å…¶ä¸­xå’Œzçš„åˆ†é‡ç”¨äºŒå€¼æ¥è¡¨ç¤ºï¼Œ0è¡¨ç¤ºä¸å…·æœ‰æŸç§ç‰¹å¾ï¼Œ1è¡¨ç¤ºå…·æœ‰æŸç§ç‰¹å¾ã€‚è¿™æ ·å°±å¯ä»¥è¡¨ç¤ºä¸ºæ‰€æœ‰ç‰¹å¾ä¸­å…±æœ‰çš„ç‰¹å¾å æ¯”äº†ã€‚<br>è¡¨ç¤ºå‡ºä¸¤ä¸ªç‰¹å¾å‘é‡ä¹‹é—´çš„ç›¸ä¼¼åº¦åï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªèšç±»å‡†åˆ™å‡½æ•°ï¼Œä½¿èšç±»é—®é¢˜å˜æˆä¸€ä¸ªæœ€ä¼˜åŒ–é—®é¢˜ï¼Œæ¯”å¦‚è¯´è¯¯å·®å¹³æ–¹å’Œï¼š</p><p>$$<br>J &#x3D; \sum_{j&#x3D;1}^{c} \sum_{x \in S} |x - m_j|^2<br>$$</p><p>$m_{j}$æ˜¯å®šä¹‰çš„è´¨å¿ƒï¼Œä½¿èšç±»åçš„åŒç±»ä¹‹é—´åˆ°è´¨å¿ƒçš„è·ç¦»å’Œæœ€å°ï¼Œè´¨å¿ƒé€šè¿‡å¹³å‡æ±‚å¾—ã€‚</p><h2 id="åˆ†çº§èšç±»"><a href="#åˆ†çº§èšç±»" class="headerlink" title="åˆ†çº§èšç±»"></a>åˆ†çº§èšç±»</h2><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(9).png" alt="009"></p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(10).png" alt="0010"></p><p>ç±»é—´è·ç¦»å‡†åˆ™ï¼š</p><ol><li>æœ€è¿‘é‚»åŸŸï¼š<br>ä¸¤ä¸ªä¸åŒçš„ç±»åˆ«ä¹‹é—´æœ€è¿‘çš„ä¸¤ä¸ªæ ·æœ¬ä¹‹é—´çš„è·ç¦»ä»£è¡¨ä¸¤ä¸ªç±»åˆ«ä¹‹é—´çš„è·ç¦»ï¼›   </li><li>æœ€è¿œé‚»åŸŸï¼š<br>ä¸¤ä¸ªä¸åŒçš„ç±»åˆ«ä¹‹é—´æœ€è¿œçš„ä¸¤ä¸ªæ ·æœ¬ä¹‹é—´çš„è·ç¦»ä»£è¡¨ä¸¤ä¸ªç±»åˆ«ä¹‹é—´çš„è·ç¦»ï¼›</li><li>å¹³å‡é‚»åŸŸï¼š<br>ä¸¤ä¸ªç±»åˆ«çš„è´¨å¿ƒé—´çš„è·ç¦»è¡¨ç¤ºä¸¤ä¸ªç±»åˆ«ä¹‹é—´çš„è·ç¦»</li></ol><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(8).png" alt="0011"></p><p>ä»¥æœ€è¿‘é‚»åŸŸä¸ºä¾‹ï¼ˆå³ä¸Šï¼‰ï¼Œå…ˆåˆå§‹åŒ–æ‰€æœ‰æ ·æœ¬å„ä¸ºä¸€ä¸ªèšç±»ï¼Œç„¶åè®¡ç®—ä¸åŒç±»ä¹‹é—´çš„è·ç¦»ï¼Œå°†è·ç¦»æœ€è¿‘çš„ä¸¤ä¸ªç±»è¿›è¡Œ<strong>åˆå¹¶</strong>ï¼Œä¹‹åé‡æ–°è®¡ç®—ç±»ä¹‹é—´çš„è·ç¦»ï¼Œåˆå¹¶åçš„ç±»è®¡ç®—è·ç¦»æ—¶å–ç±»å†…æ ·æœ¬æœ€å°è·ç¦»ï¼›æŒ‰ç…§å¦‚æ­¤ç»§ç»­èšç±»åˆå¹¶ç›´åˆ°åªå‰©ä¸‹éœ€æ±‚çš„ç±»åˆ«æ•°é‡ï¼›</p><p>é€šè¿‡ä¸Šé¢çš„èšç±»ç»“æœå¯è§†åŒ–èƒ½å‘ç°ï¼Œç”±äºæ ·æœ¬ä¸­<strong>å­˜åœ¨ä¸€ä¸ªå™ªå£°</strong>ï¼Œå³è·ç¦»è¾ƒè¿œçš„æ ·æœ¬ï¼Œæ— è®ºå¦‚ä½•è®¡ç®—æœ€è¿‘è·ç¦»è¯¥æ ·æœ¬éƒ½ä¼šè¢«åˆ¤å®šä¸ºä¸€ä¸ªç±»ï¼Œè€Œç›¸è·è¾ƒè¿‘çš„ä¸åŒç±»åè€Œè¢«è¯¯åˆ¤ä¸ºåŒç±»ã€‚</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(18).png" alt="0012"></p><p>ä¸¾ä¸ªä¾‹å­ğŸ¤“ ï¼š</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(4).png" alt="0013"></p><p>ç­”æ¡ˆè§P43ã€‚</p><h2 id="Kå‡å€¼èšç±»æ³•"><a href="#Kå‡å€¼èšç±»æ³•" class="headerlink" title="Kå‡å€¼èšç±»æ³•"></a>Kå‡å€¼èšç±»æ³•</h2><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(15).png" alt="0014"></p><p>ä¸€ä¸ªæ¯”è¾ƒæ˜æ˜¾è·Ÿåˆ†çº§èšç±»ä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œç±»é—´çš„è·ç¦»ä¸æ˜¯å–æ ·æœ¬é—´è·ç¦»ä½œä¸ºåˆ¤æ–­ä¾æ®ï¼Œè€Œæ˜¯å–æ ·æœ¬çš„å‡å€¼å®šä¹‰ä¸ºç±»åˆ«é‡å¿ƒï¼Œæ±‚æ ·æœ¬åˆ°é‡å¿ƒçš„è·ç¦»æ¥åˆ¤æ–­è¯¥æ ·æœ¬å±äºå“ªä¸ªç±»åˆ«ï¼›</p><p>é—®é¢˜:   </p><ul><li>å¦‚æœkå€¼çš„é€‰å–ä¸æ­£ç¡®ï¼Œé‚£ä¹ˆèšç±»é”™è¯¯ï¼›   </li><li>é«˜åº¦ä¾èµ–äºåˆå§‹å€¼é€‰å–ï¼›   </li><li>æ›´é€‚ç”¨â€œçƒå½¢â€åˆ†å¸ƒçš„æ•°æ®ï¼Œéš¾å¤„ç†éçƒå½¢èšç±»ï¼›</li></ul><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(14).png" alt="0015"></p><p>å¦‚æœä¸€å¼€å§‹çš„ä¸­å¿ƒå–åœ¨ä¸Šä¸‹ä¸¤ç«¯åˆ™ä¼šå‡ºç°å³å›¾çš„åˆ†ç±»æƒ…å†µï¼Œå› æ­¤Kmeansèšç±»å¯¹åˆå§‹å€¼çš„é€‰æ‹©è¾ƒæ•æ„Ÿï¼›</p><p>å°è¯•ä¸‹é¢é¢˜ç›®ï¼š</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(6).png" alt="0016"></p><h2 id="åŸºäºå¯†åº¦å³°å€¼çš„èšç±»æ–¹å¼"><a href="#åŸºäºå¯†åº¦å³°å€¼çš„èšç±»æ–¹å¼" class="headerlink" title="åŸºäºå¯†åº¦å³°å€¼çš„èšç±»æ–¹å¼"></a>åŸºäºå¯†åº¦å³°å€¼çš„èšç±»æ–¹å¼</h2><p>ç”±äºKmeansåªé€‚åˆçƒçŠ¶åˆ†å¸ƒï¼Œå› æ­¤é’ˆå¯¹éçƒçŠ¶åˆ†å¸ƒæ¨å‡ºäº†å¯†åº¦å³°å€¼èšç±»ï¼›</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(11).png" alt="0017"></p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(12).png" alt="0018"></p><p>å±€éƒ¨å¯†åº¦å®šä¹‰ä¸º$\rho_i &#x3D; \sum_j \chi(d_{ij} - d_c)$ï¼Œå…¶ä¸­$d_{ij}$è¡¨ç¤ºæ•°æ®å¯¹ä¹‹é—´çš„è·ç¦»ï¼Œ$d_{c}$ä¸ºè·ç¦»é˜ˆå€¼ï¼Œå¦‚æœè·ç¦»å°äºé˜ˆå€¼åˆ™$\rho_{i}$åŠ ä¸€ï¼Œè¿™æ ·å¯ä»¥è®¡ç®—å‡ºå±€éƒ¨çš„å¯†åº¦ï¼›</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(20).png" alt="0019"></p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(13).png" alt="0020"></p><p>è¯•ç€è§£å†³ä»¥ä¸‹é—®é¢˜å§ğŸ¤“</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250601%20(7).png" alt="0021"></p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
          <category> Review </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI </tag>
            
            <tag> Knowledge </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PicoSceneså­¦ä¹ æ—¥å¿—</title>
      <link href="/2025/05/30/research/picoscenes_use_instruction/"/>
      <url>/2025/05/30/research/picoscenes_use_instruction/</url>
      
        <content type="html"><![CDATA[<h1 id="PicoScenesâ€”â€”ä½¿ç”¨æŒ‡å—"><a href="#PicoScenesâ€”â€”ä½¿ç”¨æŒ‡å—" class="headerlink" title="PicoScenesâ€”â€”ä½¿ç”¨æŒ‡å—"></a>PicoScenesâ€”â€”ä½¿ç”¨æŒ‡å—</h1><p>Descriptionï¼šè¿™æ˜¯ä¸€ç¯‡å¿«é€Ÿä¸Šæ‰‹çš„PicoScenesé£Ÿç”¨æŒ‡å—ï¼Œæˆ‘å°†ä»æ‰“å¼€ã€æŸ¥çœ‹é…ç½®ã€é…ç½®ã€ä»¥åŠæŠ“åŒ…å…¥æ‰‹ï¼Œå¯¹å®Œæ•´ä½¿ç”¨PicoScenesçš„æµç¨‹è¿›è¡Œä¸€ä¸ªå¿«é€Ÿçš„ä¸Šæ‰‹ä»‹ç»;</p><h2 id="æŒ‡å®šä½ç½®æ‰“å¼€ç»ˆç«¯"><a href="#æŒ‡å®šä½ç½®æ‰“å¼€ç»ˆç«¯" class="headerlink" title="æŒ‡å®šä½ç½®æ‰“å¼€ç»ˆç«¯"></a>æŒ‡å®šä½ç½®æ‰“å¼€ç»ˆç«¯</h2><p>åœ¨ä½ æƒ³è¦ä¿å­˜CSIå¾—æ–‡ä»¶å¤¹ä½ç½®ï¼Œå³é”®ç©ºç™½ä½ç½®ï¼Œé€‰æ‹©åœ¨ç»ˆç«¯ä¸­æ‰“å¼€ï¼Œä¹‹åå°±ä¼šåœ¨ä½ æƒ³è¦çš„ä½ç½®å¼€å¯ç»ˆç«¯ï¼Œå¹¶å¸®ä½ cdåˆ°æ‰“å¼€æ—¶çš„æ–‡ä»¶å¤¹ä½ç½®ã€‚</p><h2 id="æŸ¥çœ‹ä¿¡é“é…ç½®"><a href="#æŸ¥çœ‹ä¿¡é“é…ç½®" class="headerlink" title="æŸ¥çœ‹ä¿¡é“é…ç½®"></a>æŸ¥çœ‹ä¿¡é“é…ç½®</h2><p>ç¬¬ä¸€æ­¥ï¼šå…ˆæŸ¥çœ‹ç½‘å¡çš„ç‰©ç†IDï¼š</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/e19de6014f384fedfc52c1c78f7191ef.png" alt="array_status"></p><p>ç¬¬äºŒæ­¥ï¼šæŸ¥çœ‹åˆ°ç‰©ç†IDåå…ˆå°†ç½‘å¡é…ç½®ä¸ºç›‘å¬æ¨¡å¼ï¼Œè¿™æ—¶å€™é»˜è®¤é…ç½®å³å¯ï¼›</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/5f28ef35aeb55e65f49f36906c6d89cd.png" alt="prepare"></p><p>è¿™é‡Œæ˜¯ç»™äº†ä¸€ä¸ªé…ç½®ï¼Œä½†æ˜¯ä¸å½±å“ï¼Œå¯ä»¥ç›´æ¥å»æ‰åŒå¼•å·ä¸­çš„å†…å®¹</p><p>ç¬¬ä¸‰æ­¥ï¼šæŸ¥çœ‹ç›‘å¬æ¨¡å¼ä¸‹çš„ç½‘å¡æ”¯æŒä»€ä¹ˆé…ç½®ï¼ŒåŒ…æ‹¬ä¿¡é“ä»¥åŠå¸¦å®½ä¿¡æ¯ï¼›</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/8eba8c837ec696a9c2d5c739a45bbf06.png" alt="array_eval"></p><p><code>-h</code> æŸ¥çœ‹æ”¯æŒçš„æŒ‡ä»¤ï¼Œæˆ‘ä»¬é€‰æ‹©æ¡†èµ·æ¥çš„æŒ‡ä»¤ï¼š<br><code>array_eval phyid iw PHY info</code> å°†phyidæ”¹æˆä½ çš„ç½‘å¡å³å¯ï¼›</p><p>ç¬¬å››æ­¥ï¼šæŸ¥çœ‹æ”¯æŒçš„ä¿¡é“ä»¥åŠå¸¦å®½ï¼›</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/f76f2165d0e2c66f68fdfd52640d4181.png" alt="Band"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰æ”¯æŒHT20ä»¥åŠHT40;</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/fb9c4ff0cd53dbc38b9ee8f6d09bb29a.png" alt="Band"></p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/8bc9cf5c47f4cea7dcab830440c8d384.png" alt="Band"></p><p>ä»¥ä¸Šä¾¿æ˜¯æ”¯æŒçš„ä¿¡é“ä¸­å¿ƒé¢‘ç‡äº†ï¼Œç”±æ­¤æˆ‘ä»¬ä¾¿å¯ä»¥é‡æ–°å¯¹ç½‘å¡çš„ç›‘å¬ä¿¡é“è¿›è¡Œé…ç½®</p><h2 id="å¯¹PicoScenesè¿›è¡Œé…ç½®"><a href="#å¯¹PicoScenesè¿›è¡Œé…ç½®" class="headerlink" title="å¯¹PicoScenesè¿›è¡Œé…ç½®"></a>å¯¹PicoScenesè¿›è¡Œé…ç½®</h2><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/5f28ef35aeb55e65f49f36906c6d89cd.png" alt="prepare"></p><p>é‡æ–°ä½¿ç”¨è¯¥æŒ‡ä»¤ <code>array_prepare_for_picoscenes phyid</code> åé¢ç”¨åŒå¼•å·åŠ ä¸Šä½ éœ€è¦çš„é…ç½®ï¼Œè¿™é‡Œæˆ‘ä»¬è®¾ç½®ä¸ºä¸­å¿ƒé¢‘ç‡ä¸º5240MHzä»¥åŠå¸¦å®½ä¸º40MHzï¼Œæ³¨æ„40MHzå¸¦å®½è®¾ç½®ä¸º <code>HT40+</code> ï¼›</p><h2 id="ä½¿ç”¨PicoScenesè¿›è¡ŒæŠ“åŒ…å¹¶ä¸”ä¿å­˜"><a href="#ä½¿ç”¨PicoScenesè¿›è¡ŒæŠ“åŒ…å¹¶ä¸”ä¿å­˜" class="headerlink" title="ä½¿ç”¨PicoScenesè¿›è¡ŒæŠ“åŒ…å¹¶ä¸”ä¿å­˜"></a>ä½¿ç”¨PicoScenesè¿›è¡ŒæŠ“åŒ…å¹¶ä¸”ä¿å­˜</h2><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/de616e970c83e30d82a204d4d8bc12e2.png" alt="Band"></p><p>åªéœ€è¦è°ƒç”¨è¯¥æŒ‡ä»¤ï¼Œä¾¿å¯ä»¥å®ç°CSIçš„æŠ“å–</p><p><code>PicoScenes&quot;-d debug -i 3 --mode logger --plot&quot;</code> æ³¨æ„è¦ä¿®æ”¹ä¸ºå¯¹åº”çš„phyid</p><h2 id="ç»ˆæ­¢PicoScenesæŠ“åŒ…"><a href="#ç»ˆæ­¢PicoScenesæŠ“åŒ…" class="headerlink" title="ç»ˆæ­¢PicoScenesæŠ“åŒ…"></a>ç»ˆæ­¢PicoScenesæŠ“åŒ…</h2><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/15813146a5b431a40489f9fa8abe75eb.png" alt="Band"></p><p>åªéœ€è¦ctrl+Cä¾¿å¯ä»¥ç»ˆæ­¢æŠ“åŒ…ï¼Œæ­¤æ—¶æŠ“å–çš„CSIä¾¿ä¼šå‡ºç°åœ¨ä½ æ‰“å¼€ç»ˆç«¯æ—¶çš„æ–‡ä»¶å¤¹ä¸­ã€‚å¦‚æœæ˜¯åœ¨æ¡Œé¢ä¸­æ‰“å¼€çš„ç»ˆç«¯ï¼Œåˆ™ä¼šä¿å­˜åˆ°æ–‡ä»¶çš„ä¸€çº§ç›®å½•é‡Œã€‚</p><h2 id="ä½¿ç”¨ä¸­å‡ºç°çš„ç°è±¡ï¼š"><a href="#ä½¿ç”¨ä¸­å‡ºç°çš„ç°è±¡ï¼š" class="headerlink" title="ä½¿ç”¨ä¸­å‡ºç°çš„ç°è±¡ï¼š"></a>ä½¿ç”¨ä¸­å‡ºç°çš„ç°è±¡ï¼š</h2><p>å½“ä½ é…ç½®å®Œä¿¡é“å¹¶å¼€å§‹æŠ“å–CSIæ—¶ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°æ²¡æœ‰plotçš„å›¾åƒï¼Œæˆ–è€…plotå›¾åƒæ›´æ–°å¾ˆæ…¢çš„é—®é¢˜ï¼Œè¿™æ˜¯å› ä¸ºå½“å‰çš„ä¿¡é“WiFiæ´»åŠ¨æ¯”è¾ƒå¼±ï¼Œæˆ–è€…æ²¡æœ‰APåœ¨è¿™ä¸ªä¿¡é“ä¸­æ´»åŠ¨ï¼Œæ˜¯æ­£å¸¸ç°è±¡ã€‚</p><h1 id="PicoScenesç›‘å¬ä¸é‡å¯åçš„æŠ“åŒ…æ¥æº"><a href="#PicoScenesç›‘å¬ä¸é‡å¯åçš„æŠ“åŒ…æ¥æº" class="headerlink" title="PicoScenesç›‘å¬ä¸é‡å¯åçš„æŠ“åŒ…æ¥æº"></a>PicoScenesç›‘å¬ä¸é‡å¯åçš„æŠ“åŒ…æ¥æº</h1><p>å·²çŸ¥ï¼ŒPicoScenesæœ‰å†…ç½®çš„æŒ‡ä»¤å¯ä»¥å¼€å¯ç›‘å¬æ¨¡å¼ï¼Œåœ¨ç›‘å¬æ¨¡å¼ä¸‹å¯ä»¥æŠ“å–ç¯å¢ƒä¸­WIFIçš„CSIï¼Œè¿™ä¸€ç‚¹å¯ä»¥é€šè¿‡è§‚å¯Ÿ802.11.acçš„MACå¸§å¤´ç»“æ„å¾—åˆ°ï¼š</p><blockquote><p>å¼€å¯ç›‘å¬æ¨¡å¼åçš„æºåœ°å€ï¼ˆ5200HT20ï¼‰<br><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/25053005.png" alt="Mon"></p></blockquote><p>å¯ä»¥è§‚å¯Ÿåˆ°å¤šä¸ªä¸åŒçš„åœ°å€ï¼›</p><p>ç›‘å¬æ¨¡å¼ä¸‹å¯ä»¥æ¥æ”¶åˆ°ç¯å¢ƒä¸­çš„CSI</p><p>å¼€å¯ç›‘å¬æŒ‡ä»¤: array_prepare_for_picoscenes PhyPathï¼ˆç½‘å¡çš„idï¼‰   </p><blockquote><p>é‡å¯ç”µè„‘åçš„æºåœ°å€ï¼ˆ2422-40BWï¼‰<br><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/25053002.png" alt="Non-Mon"></p></blockquote><p>åªæœ‰ä¸€ä¸ªæºåœ°å€çš„CSIï¼Œé‡å¯å¯ä»¥å…³é—­ç›‘å¬æ¨¡å¼ï¼›   </p><blockquote><p>å¼€å¯ç›‘å¬æ¨¡å¼ï¼ˆ2422-20BWï¼‰<br><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/25053001.png" alt="Mon-2422"></p></blockquote><blockquote><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/25053004.png" alt="Mon-2422"></p></blockquote><p>ä¸åŒçš„æºåœ°å€çš„CSIï¼›   </p><blockquote><p>ä½¿ç”¨airmon-ngå·¥å…·æ‰‹åŠ¨å…³é—­monå¹¶ä¸”é‡å¯ï¼ˆ2422-40BWï¼‰<br><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/25053002.png" alt="Mon-2422"></p></blockquote><p>åªæœ‰ä¸€ä¸ªæºåœ°å€çš„CSIï¼Œé‡å¯å¯ä»¥å…³é—­ç›‘å¬æ¨¡å¼ï¼›   </p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 5G </tag>
            
            <tag> Linux </tag>
            
            <tag> CSI </tag>
            
            <tag> Positioning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fisherâ€”â€”FisheræŠ•å½±åˆ†ç±»</title>
      <link href="/2025/05/29/study/Fisher/"/>
      <url>/2025/05/29/study/Fisher/</url>
      
        <content type="html"><![CDATA[<h1 id="FisheræŠ•å½±åŠ é€Ÿåˆ†ç±»"><a href="#FisheræŠ•å½±åŠ é€Ÿåˆ†ç±»" class="headerlink" title="FisheræŠ•å½±åŠ é€Ÿåˆ†ç±»"></a>FisheræŠ•å½±åŠ é€Ÿåˆ†ç±»</h1><h2 id="çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAï¼‰è¯¦è§£ï¼šä»ç†è®ºåˆ°ä»£ç å®ç°"><a href="#çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAï¼‰è¯¦è§£ï¼šä»ç†è®ºåˆ°ä»£ç å®ç°" class="headerlink" title="çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAï¼‰è¯¦è§£ï¼šä»ç†è®ºåˆ°ä»£ç å®ç°"></a>çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAï¼‰è¯¦è§£ï¼šä»ç†è®ºåˆ°ä»£ç å®ç°</h2><h3 id="ä¸€ã€å¼•è¨€"><a href="#ä¸€ã€å¼•è¨€" class="headerlink" title="ä¸€ã€å¼•è¨€"></a>ä¸€ã€å¼•è¨€</h3><p>çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLinear Discriminant Analysis, LDAï¼‰æ˜¯ä¸€ç§ç»å…¸çš„ç›‘ç£å­¦ä¹ é™ç»´ä¸åˆ†ç±»æ–¹æ³•ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡æœ€å¤§åŒ–ç±»é—´æ•£åº¦ã€æœ€å°åŒ–ç±»å†…æ•£åº¦ï¼Œå°†é«˜ç»´æ•°æ®æŠ•å½±åˆ°ä½ç»´ç©ºé—´å¹¶å®ç°é«˜æ•ˆåˆ†ç±»ã€‚æœ¬æ–‡ä»¥é¸¢å°¾èŠ±æ•°æ®é›†ä¸ºä¾‹ï¼Œè¯¦è§£LDAçš„æ•°å­¦åŸç†ï¼Œå¹¶é€è¡Œè§£æä»£ç å®ç°ã€‚</p><h3 id="äºŒã€LDAçš„æ ¸å¿ƒåŸç†"><a href="#äºŒã€LDAçš„æ ¸å¿ƒåŸç†" class="headerlink" title="äºŒã€LDAçš„æ ¸å¿ƒåŸç†"></a>äºŒã€LDAçš„æ ¸å¿ƒåŸç†</h3><h4 id="1-æ ¸å¿ƒç›®æ ‡"><a href="#1-æ ¸å¿ƒç›®æ ‡" class="headerlink" title="1. æ ¸å¿ƒç›®æ ‡"></a>1. æ ¸å¿ƒç›®æ ‡</h4><p>LDAçš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªæœ€ä¼˜æŠ•å½±æ–¹å‘ $ W $ï¼Œä½¿å¾—ä»¥ä¸‹å‡†åˆ™æˆç«‹ï¼š</p><ul><li>ç±»å†…æ•£åº¦æœ€å°ï¼šåŒä¸€ç±»æ ·æœ¬åœ¨æŠ•å½±åçš„ç©ºé—´å°½å¯èƒ½ç´§å‡‘ã€‚</li><li>ç±»é—´æ•£åº¦æœ€å¤§ï¼šä¸åŒç±»æ ·æœ¬åœ¨æŠ•å½±åçš„ç©ºé—´å°½å¯èƒ½åˆ†ç¦»ã€‚</li></ul><p>æ•°å­¦è¡¨è¾¾å¼ä¸ºï¼š</p><p>$$<br>J(W) &#x3D; \frac{W^T S_B W}{W^T S_W W}<br>$$</p><p>å…¶ä¸­ï¼š</p><ul><li>$ S_W $ï¼šç±»å†…æ•£åº¦çŸ©é˜µï¼ˆWithin-class Scatter Matrixï¼‰</li><li>$ S_B $ï¼šç±»é—´æ•£åº¦çŸ©é˜µï¼ˆBetween-class Scatter Matrixï¼‰</li></ul><h4 id="2-æ•°å­¦æ¨å¯¼"><a href="#2-æ•°å­¦æ¨å¯¼" class="headerlink" title="2. æ•°å­¦æ¨å¯¼"></a>2. æ•°å­¦æ¨å¯¼</h4><h4 id="1-ç±»å‡å€¼å‘é‡"><a href="#1-ç±»å‡å€¼å‘é‡" class="headerlink" title="(1) ç±»å‡å€¼å‘é‡"></a>(1) ç±»å‡å€¼å‘é‡</h4><p>å¯¹æ¯ä¸ªç±»åˆ« $ c $ï¼Œè®¡ç®—å…¶ç‰¹å¾å‡å€¼å‘é‡ $ \mu_c $ï¼š</p><p>$$<br>\mu_c &#x3D; \frac{1}{N_c} \sum_{x \in C_c} x<br>$$</p><p>å…¶ä¸­ $ N_c $ æ˜¯ç±»åˆ« $ c $ çš„æ ·æœ¬æ•°ã€‚</p><h4 id="2-ç±»å†…æ•£åº¦çŸ©é˜µ-S-W"><a href="#2-ç±»å†…æ•£åº¦çŸ©é˜µ-S-W" class="headerlink" title="(2) ç±»å†…æ•£åº¦çŸ©é˜µ $ S_W $"></a>(2) ç±»å†…æ•£åº¦çŸ©é˜µ $ S_W $</h4><p>è¡¡é‡åŒä¸€ç±»æ ·æœ¬çš„ç¦»æ•£ç¨‹åº¦ï¼š</p><p>$$<br>S_W &#x3D; \sum_{c} \sum_{x \in C_c} (x - \mu_c)(x - \mu_c)^T<br>$$</p><h4 id="3-ç±»é—´æ•£åº¦çŸ©é˜µ-S-B"><a href="#3-ç±»é—´æ•£åº¦çŸ©é˜µ-S-B" class="headerlink" title="(3) ç±»é—´æ•£åº¦çŸ©é˜µ $ S_B $"></a>(3) ç±»é—´æ•£åº¦çŸ©é˜µ $ S_B $</h4><p>è¡¡é‡ä¸åŒç±»ä¸­å¿ƒä¹‹é—´çš„è·ç¦»ï¼š</p><p>$$<br>S_B &#x3D; \sum_{c} N_c (\mu_c - \mu)(\mu_c - \mu)^T<br>$$</p><p>å…¶ä¸­ $ \mu $ æ˜¯å…¨å±€å‡å€¼å‘é‡ã€‚</p><h4 id="4-æŠ•å½±çŸ©é˜µè®¡ç®—"><a href="#4-æŠ•å½±çŸ©é˜µè®¡ç®—" class="headerlink" title="(4) æŠ•å½±çŸ©é˜µè®¡ç®—"></a>(4) æŠ•å½±çŸ©é˜µè®¡ç®—</h4><p>é€šè¿‡å¹¿ä¹‰ç‰¹å¾å€¼é—®é¢˜æ±‚è§£æœ€ä¼˜æŠ•å½±æ–¹å‘ï¼š</p><p>$$<br>S_W^{-1} S_B w &#x3D; \lambda w<br>$$</p><p>é€‰æ‹©æœ€å¤§ç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡ $ w $ ä½œä¸ºæŠ•å½±æ–¹å‘ã€‚</p><h3 id="ä¸‰ã€ä»£ç è¯¦è§£ä¸å®ç°"><a href="#ä¸‰ã€ä»£ç è¯¦è§£ä¸å®ç°" class="headerlink" title="ä¸‰ã€ä»£ç è¯¦è§£ä¸å®ç°"></a>ä¸‰ã€ä»£ç è¯¦è§£ä¸å®ç°</h3><h4 id="1-æ•°æ®å‡†å¤‡ä¸é¢„å¤„ç†"><a href="#1-æ•°æ®å‡†å¤‡ä¸é¢„å¤„ç†" class="headerlink" title="1. æ•°æ®å‡†å¤‡ä¸é¢„å¤„ç†"></a>1. æ•°æ®å‡†å¤‡ä¸é¢„å¤„ç†</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line">iris = load_iris()</span><br><span class="line">X = iris.data[y != <span class="number">2</span>]  <span class="comment"># ç­›é€‰å‰ä¸¤ç±»ï¼ˆ0å’Œ1ï¼‰</span></span><br><span class="line">y = y[y != <span class="number">2</span>]</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.2</span>, random_state=<span class="number">42</span>)</span><br></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šåŠ è½½é¸¢å°¾èŠ±æ•°æ®é›†å¹¶ç­›é€‰å‰ä¸¤ç±»ï¼Œæ„é€ äºŒåˆ†ç±»ä»»åŠ¡ã€‚</li><li>åŸç†ï¼šLDAé€‚ç”¨äºå¤šåˆ†ç±»ï¼Œä½†äºŒåˆ†ç±»æ›´ç®€å•ç›´è§‚ã€‚</li></ul><h4 id="2-ç±»å‡å€¼è®¡ç®—"><a href="#2-ç±»å‡å€¼è®¡ç®—" class="headerlink" title="2. ç±»å‡å€¼è®¡ç®—"></a>2. ç±»å‡å€¼è®¡ç®—</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">class_means</span>(<span class="params">X, y</span>):</span><br><span class="line">    classes = np.unique(y)</span><br><span class="line">    means = [np.mean(X[y == c], axis=<span class="number">0</span>) <span class="keyword">for</span> c <span class="keyword">in</span> classes]</span><br><span class="line">    <span class="keyword">return</span> np.array(means)</span><br></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šè®¡ç®—æ¯ä¸ªç±»åˆ«çš„å‡å€¼å‘é‡ã€‚</li><li>æ•°å­¦å¯¹åº”ï¼šå®ç°å…¬å¼ $ \mu_c $ çš„è®¡ç®—ã€‚</li></ul><h4 id="3-ç±»å†…æ•£åº¦çŸ©é˜µ"><a href="#3-ç±»å†…æ•£åº¦çŸ©é˜µ" class="headerlink" title="3. ç±»å†…æ•£åº¦çŸ©é˜µ"></a>3. ç±»å†…æ•£åº¦çŸ©é˜µ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">within_class_scatter</span>(<span class="params">X, y</span>):</span><br><span class="line">    means = class_means(X, y)</span><br><span class="line">    num_features = X.shape[<span class="number">1</span>]</span><br><span class="line">    S_w = np.zeros((num_features, num_features))</span><br><span class="line">    <span class="keyword">for</span> c, mean <span class="keyword">in</span> <span class="built_in">zip</span>(np.unique(y), means):</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> X[y == c]:</span><br><span class="line">            x = x.reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">            mean = mean.reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">            S_w += (x - mean).dot((x - mean).T)</span><br><span class="line">    <span class="keyword">return</span> S_w</span><br></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šè®¡ç®—ç±»å†…æ•£åº¦çŸ©é˜µ $ S_W $ã€‚</li><li>å…³é”®ç‚¹ï¼šé€šè¿‡å¤–ç§¯ç´¯åŠ æ¯ä¸ªæ ·æœ¬ä¸ç±»å‡å€¼çš„åå·®ã€‚</li></ul><h4 id="4-ç±»é—´æ•£åº¦çŸ©é˜µ"><a href="#4-ç±»é—´æ•£åº¦çŸ©é˜µ" class="headerlink" title="4. ç±»é—´æ•£åº¦çŸ©é˜µ"></a>4. ç±»é—´æ•£åº¦çŸ©é˜µ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">between_class_scatter</span>(<span class="params">X, y</span>):</span><br><span class="line">    means = class_means(X, y)</span><br><span class="line">    mean1, mean2 = means[<span class="number">0</span>].reshape(-<span class="number">1</span>, <span class="number">1</span>), means[<span class="number">1</span>].reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> (mean1 - mean2).dot((mean1 - mean2).T)</span><br></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šè®¡ç®—ç±»é—´æ•£åº¦çŸ©é˜µ $ S_B $ã€‚</li><li>å±€é™æ€§ï¼šä»…é€‚ç”¨äºäºŒåˆ†ç±»ï¼Œå¤šåˆ†ç±»éœ€æ‰©å±•ã€‚</li></ul><h4 id="5-æŠ•å½±çŸ©é˜µæ±‚è§£"><a href="#5-æŠ•å½±çŸ©é˜µæ±‚è§£" class="headerlink" title="5. æŠ•å½±çŸ©é˜µæ±‚è§£"></a>5. æŠ•å½±çŸ©é˜µæ±‚è§£</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">projection_matrix</span>(<span class="params">X, y</span>):</span><br><span class="line">    S_w = within_class_scatter(X, y)</span><br><span class="line">    S_b = between_class_scatter(X, y)</span><br><span class="line">    eig_vals, eig_vecs = np.linalg.eig(np.linalg.inv(S_w).dot(S_b))</span><br><span class="line">    <span class="keyword">return</span> eig_vecs[:, np.argsort(eig_vals)[::-<span class="number">1</span>][:<span class="number">1</span>]]</span><br></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šæ±‚è§£å¹¿ä¹‰ç‰¹å¾å€¼é—®é¢˜ï¼Œå–æœ€å¤§ç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡ä½œä¸ºæŠ•å½±æ–¹å‘ã€‚</li><li>æ•°å­¦å¯¹åº”ï¼šæ±‚è§£ $ S_W^{-1} S_B $ çš„æœ€å¤§ç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡ã€‚</li></ul><h4 id="6-æ•°æ®æŠ•å½±ä¸åˆ†ç±»"><a href="#6-æ•°æ®æŠ•å½±ä¸åˆ†ç±»" class="headerlink" title="6. æ•°æ®æŠ•å½±ä¸åˆ†ç±»"></a>6. æ•°æ®æŠ•å½±ä¸åˆ†ç±»</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">W = projection_matrix(X_train, y_train)</span><br><span class="line">X_train_lda = X_train.dot(W)  <span class="comment"># é™ç»´åçš„è®­ç»ƒæ•°æ®</span></span><br><span class="line">X_test_lda = X_test.dot(W)    <span class="comment"># é™ç»´åçš„æµ‹è¯•æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—é˜ˆå€¼å¹¶åˆ†ç±»</span></span><br><span class="line">threshold = (X_train_lda[y_train == <span class="number">0</span>].mean() + X_train_lda[y_train == <span class="number">1</span>].mean()) / <span class="number">2</span></span><br><span class="line">y_pred = (X_test_lda &gt;= threshold).astype(<span class="built_in">int</span>)</span><br></pre></td></tr></table></figure><ul><li>å†³ç­–è§„åˆ™ï¼šä½¿ç”¨ä¸¤ç±»å‡å€¼çš„ä¸­ç‚¹ä½œä¸ºé˜ˆå€¼è¿›è¡Œåˆ†ç±»ã€‚</li></ul><h3 id="å››ã€å®éªŒç»“æœä¸å¯è§†åŒ–"><a href="#å››ã€å®éªŒç»“æœä¸å¯è§†åŒ–" class="headerlink" title="å››ã€å®éªŒç»“æœä¸å¯è§†åŒ–"></a>å››ã€å®éªŒç»“æœä¸å¯è§†åŒ–</h3><h4 id="1-å¯è§†åŒ–è®¾è®¡"><a href="#1-å¯è§†åŒ–è®¾è®¡" class="headerlink" title="1. å¯è§†åŒ–è®¾è®¡"></a>1. å¯è§†åŒ–è®¾è®¡</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fig, (ax1, ax2, ax3) = plt.subplots(<span class="number">1</span>, <span class="number">3</span>, figsize=(<span class="number">18</span>, <span class="number">6</span>))</span><br><span class="line"><span class="comment"># ç»˜åˆ¶è®­ç»ƒé›†ã€æµ‹è¯•é›†åŠåˆå¹¶ç»“æœ</span></span><br><span class="line"><span class="keyword">for</span> ax, X_lda, y_true, title <span class="keyword">in</span> <span class="built_in">zip</span>([ax1, ax2, ax3], </span><br><span class="line">                                   [X_train_lda, X_test_lda, X_train_lda], </span><br><span class="line">                                   [y_train, y_test, y_train], </span><br><span class="line">                                   [<span class="string">&quot;Train&quot;</span>, <span class="string">&quot;Test&quot;</span>, <span class="string">&quot;Combined&quot;</span>]):</span><br><span class="line">    <span class="keyword">for</span> cls, color <span class="keyword">in</span> <span class="built_in">zip</span>(np.unique(y), [<span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;b&#x27;</span>]):</span><br><span class="line">        ax.scatter(X_lda[y_true == cls], np.zeros(np.<span class="built_in">sum</span>(y_true == cls)), </span><br><span class="line">                   c=color, label=<span class="string">f&#x27;Class <span class="subst">&#123;cls&#125;</span>&#x27;</span>)</span><br><span class="line">    ax.axvline(x=threshold, c=<span class="string">&#x27;g&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">    ax.set_title(<span class="string">f&quot;<span class="subst">&#123;title&#125;</span> (Acc: <span class="subst">&#123;accuracy_score(y_true, y_pred):<span class="number">.2</span>%&#125;</span>)&quot;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><ul><li>å›¾å½¢è¯´æ˜ï¼š<ul><li>æ¨ªè½´ï¼šæŠ•å½±åçš„ç‰¹å¾å€¼ï¼›çºµè½´ï¼šè¾…åŠ©å¯è§†åŒ–ï¼ˆå›ºå®šä¸º0ï¼‰ã€‚</li><li>ç»¿è‰²è™šçº¿ï¼šåˆ†ç±»é˜ˆå€¼ã€‚</li><li>é¢œè‰²åŒºåˆ†ç±»åˆ«ï¼Œæ•£ç‚¹åˆ†å¸ƒåæ˜ åˆ†ç¦»æ•ˆæœã€‚</li></ul></li></ul><h4 id="2-è¾“å‡ºç¤ºä¾‹"><a href="#2-è¾“å‡ºç¤ºä¾‹" class="headerlink" title="2. è¾“å‡ºç¤ºä¾‹"></a>2. è¾“å‡ºç¤ºä¾‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Train Accuracy: <span class="number">0.9875</span></span><br><span class="line">Test Accuracy: <span class="number">1.0</span></span><br></pre></td></tr></table></figure><ul><li>ç»“æœåˆ†æï¼šåœ¨é¸¢å°¾èŠ±äºŒåˆ†ç±»ä»»åŠ¡ä¸­ï¼ŒLDAé€šå¸¸èƒ½è¾¾åˆ°95%ä»¥ä¸Šçš„å‡†ç¡®ç‡ã€‚</li></ul><h3 id="å››ã€å…³é”®é—®é¢˜ä¸æ”¹è¿›å»ºè®®"><a href="#å››ã€å…³é”®é—®é¢˜ä¸æ”¹è¿›å»ºè®®" class="headerlink" title="å››ã€å…³é”®é—®é¢˜ä¸æ”¹è¿›å»ºè®®"></a>å››ã€å…³é”®é—®é¢˜ä¸æ”¹è¿›å»ºè®®</h3><h4 id="1-ç±»é—´æ•£åº¦çŸ©é˜µçš„æ”¹è¿›"><a href="#1-ç±»é—´æ•£åº¦çŸ©é˜µçš„æ”¹è¿›" class="headerlink" title="1. ç±»é—´æ•£åº¦çŸ©é˜µçš„æ”¹è¿›"></a>1. ç±»é—´æ•£åº¦çŸ©é˜µçš„æ”¹è¿›</h4><ul><li>å½“å‰å®ç°ï¼šä»…ä½¿ç”¨ä¸¤ç±»å‡å€¼å·®çš„å¤–ç§¯ï¼Œæœªè€ƒè™‘æ ·æœ¬æ•°æ¯”ä¾‹ã€‚</li><li>æ”¹è¿›å»ºè®®ï¼š</li></ul><p>å¯¹äºäºŒåˆ†ç±»é—®é¢˜ï¼Œæ­£ç¡®çš„ $ S_B $ åº”ä¸ºï¼š</p><p>$$<br>S_B &#x3D; \frac{n_1 n_2}{n} (\mu_1 - \mu_2)(\mu_1 - \mu_2)^T<br>$$</p><h4 id="2-ç‰¹å¾å€¼é—®é¢˜çš„ç¨³å®šæ€§"><a href="#2-ç‰¹å¾å€¼é—®é¢˜çš„ç¨³å®šæ€§" class="headerlink" title="2. ç‰¹å¾å€¼é—®é¢˜çš„ç¨³å®šæ€§"></a>2. ç‰¹å¾å€¼é—®é¢˜çš„ç¨³å®šæ€§</h4><ul><li>æ½œåœ¨é—®é¢˜ï¼šè‹¥ $ S_W $ å¥‡å¼‚ï¼ˆå¦‚é«˜ç»´å°æ ·æœ¬ï¼‰ï¼Œæ±‚é€†ä¼šå¯¼è‡´æ•°å€¼ä¸ç¨³å®šã€‚</li><li>æ”¹è¿›å»ºè®®ï¼šæ·»åŠ æ­£åˆ™åŒ–é¡¹ $ \lambda I $ åˆ° $ S_W $ã€‚</li></ul><h4 id="3-é˜ˆå€¼é€‰æ‹©çš„ä¼˜åŒ–"><a href="#3-é˜ˆå€¼é€‰æ‹©çš„ä¼˜åŒ–" class="headerlink" title="3. é˜ˆå€¼é€‰æ‹©çš„ä¼˜åŒ–"></a>3. é˜ˆå€¼é€‰æ‹©çš„ä¼˜åŒ–</h4><ul><li>å½“å‰æ–¹æ³•ï¼šå›ºå®šé˜ˆå€¼ä¸ºå‡å€¼ä¸­ç‚¹ã€‚</li><li>æ”¹è¿›å»ºè®®ï¼šé€šè¿‡äº¤å‰éªŒè¯é€‰æ‹©æœ€ä¼˜é˜ˆå€¼ã€‚</li></ul><h3 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h3><ul><li>æ ¸å¿ƒè´¡çŒ®ï¼šæœ¬æ–‡ä»æ•°å­¦å…¬å¼åˆ°ä»£ç å®ç°ï¼Œå®Œæ•´è§£æäº†LDAçš„åŸç†ä¸åº”ç”¨ã€‚</li><li>ä»£ç ç‰¹ç‚¹ï¼šåŸºäºNumPyå®ç°ï¼Œæ— éœ€ä¾èµ– sklearn.discriminant_analysis.LinearDiscriminantAnalysisï¼Œé€‚åˆç†è§£åº•å±‚æœºåˆ¶ã€‚</li><li>æ‰©å±•æ–¹å‘ï¼šå¯æ¨å¹¿åˆ°å¤šåˆ†ç±»ä»»åŠ¡ï¼Œç»“åˆéçº¿æ€§æ ¸å‡½æ•°å¤„ç†å¤æ‚åˆ†å¸ƒã€‚</li></ul><p>å®Œæ•´çš„å·¥ç¨‹è¯·è§<img src="https://github.com/" alt="Github"></p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SVMâ€”â€”Pythonä»£ç å®ç°ä»¥åŠè§£æ</title>
      <link href="/2025/05/29/study/SVM/"/>
      <url>/2025/05/29/study/SVM/</url>
      
        <content type="html"><![CDATA[<h2 id="æ”¯æŒå‘é‡æœº-SVM-åŸç†è¯¦è§£ä¸ä»£ç è§£æ"><a href="#æ”¯æŒå‘é‡æœº-SVM-åŸç†è¯¦è§£ä¸ä»£ç è§£æ" class="headerlink" title="æ”¯æŒå‘é‡æœº(SVM)åŸç†è¯¦è§£ä¸ä»£ç è§£æ"></a>æ”¯æŒå‘é‡æœº(SVM)åŸç†è¯¦è§£ä¸ä»£ç è§£æ</h2><h3 id="ä¸€ã€SVMç®—æ³•åŸç†è¯¦è§£"><a href="#ä¸€ã€SVMç®—æ³•åŸç†è¯¦è§£" class="headerlink" title="ä¸€ã€SVMç®—æ³•åŸç†è¯¦è§£"></a>ä¸€ã€SVMç®—æ³•åŸç†è¯¦è§£</h3><h4 id="1-æ ¸å¿ƒæ€æƒ³"><a href="#1-æ ¸å¿ƒæ€æƒ³" class="headerlink" title="1. æ ¸å¿ƒæ€æƒ³"></a>1. æ ¸å¿ƒæ€æƒ³</h4><p>æ”¯æŒå‘é‡æœºé€šè¿‡æœ€å¤§åŒ–åˆ†ç±»é—´éš”å®ç°æœ€ä¼˜åˆ†ç±»ï¼Œå…¶æ•°å­¦æœ¬è´¨æ˜¯æ±‚è§£ä¸€ä¸ªå‡¸äºŒæ¬¡ä¼˜åŒ–é—®é¢˜ã€‚æ ¸å¿ƒæ€æƒ³åŒ…æ‹¬ï¼š</p><ul><li>æœ€å¤§é—´éš”åŸåˆ™ï¼šå¯»æ‰¾ä½¿ç±»åˆ«é—´è·ç¦»æœ€å¤§çš„åˆ†ç±»è¶…å¹³é¢</li><li>æ”¯æŒå‘é‡ï¼šå†³å®šåˆ†ç±»è¾¹ç•Œçš„å…³é”®æ ·æœ¬ç‚¹</li><li>æ ¸æŠ€å·§ï¼šé€šè¿‡æ ¸å‡½æ•°å°†ä½ç»´ä¸å¯åˆ†æ•°æ®æ˜ å°„åˆ°é«˜ç»´ç©ºé—´</li></ul><h4 id="2-æ•°å­¦åŸºç¡€"><a href="#2-æ•°å­¦åŸºç¡€" class="headerlink" title="2. æ•°å­¦åŸºç¡€"></a>2. æ•°å­¦åŸºç¡€</h4><h4 id="1-çº¿æ€§å¯åˆ†æƒ…å†µ"><a href="#1-çº¿æ€§å¯åˆ†æƒ…å†µ" class="headerlink" title="(1) çº¿æ€§å¯åˆ†æƒ…å†µ"></a>(1) çº¿æ€§å¯åˆ†æƒ…å†µ</h4><p>$$<br>\min_{w,b} \frac{1}{2}||w||^2 \quad \text{s.t.} \quad y_i(w^T x_i + b) \geq 1<br>$$</p><ul><li>$ w $ï¼šè¶…å¹³é¢æ³•å‘é‡</li><li>$ b $ï¼šåç½®é¡¹</li><li>$ y_i \in {-1,1} $ï¼šç±»åˆ«æ ‡ç­¾</li></ul><h4 id="2-éçº¿æ€§æƒ…å†µï¼ˆä½¿ç”¨æ ¸å‡½æ•°ï¼‰"><a href="#2-éçº¿æ€§æƒ…å†µï¼ˆä½¿ç”¨æ ¸å‡½æ•°ï¼‰" class="headerlink" title="(2) éçº¿æ€§æƒ…å†µï¼ˆä½¿ç”¨æ ¸å‡½æ•°ï¼‰"></a>(2) éçº¿æ€§æƒ…å†µï¼ˆä½¿ç”¨æ ¸å‡½æ•°ï¼‰</h4><p>$$<br>K(x_i,x_j) &#x3D; \phi(x_i)^T\phi(x_j)<br>$$</p><p>å¸¸ç”¨æ ¸å‡½æ•°ï¼š</p><ul><li>çº¿æ€§æ ¸ï¼š$ K(x,y) &#x3D; x^Ty $</li><li>å¤šé¡¹å¼æ ¸ï¼š$ K(x,y) &#x3D; (x^Ty + c)^d $</li><li>RBFæ ¸ï¼š$ K(x,y) &#x3D; e^{-\gamma ||x-y||^2} $</li></ul><h4 id="3-æ­£åˆ™åŒ–å‚æ•°C"><a href="#3-æ­£åˆ™åŒ–å‚æ•°C" class="headerlink" title="(3) æ­£åˆ™åŒ–å‚æ•°C"></a>(3) æ­£åˆ™åŒ–å‚æ•°C</h4><p>$$<br>\min_{w,b,\xi} \frac{1}{2}||w||^2 + C\sum_{i&#x3D;1}^n \xi_i<br>$$</p><ul><li>$ C $ï¼šæ§åˆ¶è¯¯åˆ†ç±»æƒ©ç½šå¼ºåº¦</li><li>$ \xi_i $ï¼šæ¾å¼›å˜é‡ï¼Œå…è®¸ä¸€å®šç¨‹åº¦çš„è¯¯åˆ†ç±»</li></ul><h3 id="äºŒã€ä»£ç é€å¥è§£æ"><a href="#äºŒã€ä»£ç é€å¥è§£æ" class="headerlink" title="äºŒã€ä»£ç é€å¥è§£æ"></a>äºŒã€ä»£ç é€å¥è§£æ</h3><h4 id="1-æ•°æ®é¢„å¤„ç†é˜¶æ®µ"><a href="#1-æ•°æ®é¢„å¤„ç†é˜¶æ®µ" class="headerlink" title="1. æ•°æ®é¢„å¤„ç†é˜¶æ®µ"></a>1. æ•°æ®é¢„å¤„ç†é˜¶æ®µ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Iris_label</span>(<span class="params">s</span>):</span><br><span class="line">    it = &#123;<span class="string">b&#x27;Iris-setosa&#x27;</span>:<span class="number">0</span>, <span class="string">b&#x27;Iris-versicolor&#x27;</span>:<span class="number">1</span>, <span class="string">b&#x27;Iris-virginica&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> it[s]</span><br></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šå°†åŸå§‹æ–‡æœ¬æ ‡ç­¾è½¬æ¢ä¸ºæ•°å­—ç¼–ç </li><li>åŸç†ï¼šæœºå™¨å­¦ä¹ æ¨¡å‹éœ€è¦æ•°å€¼è¾“å…¥ï¼Œå°†ç±»åˆ«æ ‡ç­¾è½¬æ¢ä¸º0-1ç¼–ç </li><li>æ”¹è¿›å»ºè®®ï¼šä½¿ç”¨LabelEncoderæ›´é€šç”¨çš„æ ‡ç­¾ç¼–ç æ–¹å¼</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv(<span class="string">&#x27;iris.txt&#x27;</span>, header=<span class="literal">None</span>)</span><br><span class="line">df[<span class="number">4</span>] = df[<span class="number">4</span>].<span class="built_in">map</span>(&#123;<span class="string">&#x27;Iris-setosa&#x27;</span>: <span class="number">0</span>, <span class="string">&#x27;Iris-versicolor&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;Iris-virginica&#x27;</span>: <span class="number">2</span>&#125;)</span><br><span class="line">data = df.values</span><br></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šè¯»å–æ•°æ®å¹¶è½¬æ¢æ ‡ç­¾</li><li>å…³é”®ç‚¹ï¼šä½¿ç”¨pandasè¿›è¡Œæ•°æ®æ¸…æ´—ï¼Œæ›¿ä»£np.loadtxtæ›´çµæ´»</li><li>æ³¨æ„ï¼šåŸå§‹æ•°æ®é›†åŒ…å«5åˆ—ï¼ˆ4ä¸ªç‰¹å¾+1ä¸ªæ ‡ç­¾ï¼‰ï¼Œç´¢å¼•0-4ï¼Œå› æ­¤ä¸å­˜åœ¨åˆ—è¶Šç•Œé—®é¢˜</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x, y = np.split(data, (<span class="number">4</span>,), axis=<span class="number">1</span>)</span><br><span class="line">x = x[:, :<span class="number">2</span>]</span><br><span class="line">y = y.ravel()</span><br></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šç‰¹å¾ä¸æ ‡ç­¾åˆ†ç¦»</li><li>åŸç†ï¼šnp.splitæŒ‰åˆ—åˆ†å‰²æ•°æ®ï¼Œx[:, :2]é€‰æ‹©å‰ä¸¤ä¸ªç‰¹å¾ç”¨äºå¯è§†åŒ–</li><li>æ³¨æ„ï¼šravel()ç¡®ä¿æ ‡ç­¾ä¸º1Dæ•°ç»„ï¼Œç¬¦åˆscikit-learnè¾“å…¥è¦æ±‚</li></ul><h4 id="2-æ•°æ®é›†åˆ’åˆ†"><a href="#2-æ•°æ®é›†åˆ’åˆ†" class="headerlink" title="2. æ•°æ®é›†åˆ’åˆ†"></a>2. æ•°æ®é›†åˆ’åˆ†</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=<span class="number">0.3</span>, random_state=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šæŒ‰7:3åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†</li><li>åŸç†ï¼štrain_test_splitå†…éƒ¨æ‰§è¡Œæ•°æ®æ‰“ä¹±å’Œåˆ†å‰²</li><li>å‚æ•°è¯´æ˜ï¼š<ul><li>test_size&#x3D;0.3ï¼šæµ‹è¯•é›†å æ¯”30%</li><li>random_state&#x3D;1ï¼šç¡®ä¿ç»“æœå¯å¤ç°</li></ul></li></ul><h4 id="3-SVMæ¨¡å‹æ„å»º"><a href="#3-SVMæ¨¡å‹æ„å»º" class="headerlink" title="3. SVMæ¨¡å‹æ„å»º"></a>3. SVMæ¨¡å‹æ„å»º</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model = svm.SVC(C=<span class="number">2</span>, kernel=<span class="string">&#x27;rbf&#x27;</span>, gamma=<span class="number">10</span>, decision_function_shape=<span class="string">&#x27;ovo&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°è¯¦è§£ï¼š<ul><li>C&#x3D;2ï¼šæ­£åˆ™åŒ–å‚æ•°ï¼Œå€¼è¶Šå¤§å¯¹è¯¯åˆ†ç±»çš„æƒ©ç½šè¶Šå¼º</li><li>kernel&#x3D;â€™rbfâ€™ï¼šä½¿ç”¨å¾„å‘åŸºå‡½æ•°(RBF)ä½œä¸ºæ ¸å‡½æ•°</li><li>gamma&#x3D;10ï¼šæ ¸å‡½æ•°ç³»æ•°ï¼Œå€¼è¶Šå¤§æ¨¡å‹å¤æ‚åº¦è¶Šé«˜</li><li>decision_function_shape&#x3D;â€™ovoâ€™ï¼šé‡‡ç”¨ä¸€å¯¹ä¸€çš„å¤šåˆ†ç±»ç­–ç•¥</li></ul></li></ul><h4 id="4-æ¨¡å‹è®­ç»ƒ"><a href="#4-æ¨¡å‹è®­ç»ƒ" class="headerlink" title="4. æ¨¡å‹è®­ç»ƒ"></a>4. æ¨¡å‹è®­ç»ƒ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.fit(x_train, y_train.ravel())</span><br></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šè®­ç»ƒSVMæ¨¡å‹</li><li>åŸç†ï¼šå†…éƒ¨è°ƒç”¨SMOç®—æ³•æ±‚è§£ä¼˜åŒ–é—®é¢˜</li><li>æ•°å­¦å¯¹åº”ï¼šä¼˜åŒ–ç›®æ ‡æ˜¯æœ€å¤§åŒ–åˆ†ç±»é—´éš”åŒæ—¶æœ€å°åŒ–åˆ†ç±»è¯¯å·®</li></ul><h4 id="5-æ¨¡å‹è¯„ä¼°"><a href="#5-æ¨¡å‹è¯„ä¼°" class="headerlink" title="5. æ¨¡å‹è¯„ä¼°"></a>5. æ¨¡å‹è¯„ä¼°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">train_score = model.score(x_train, y_train)</span><br><span class="line">test_score = model.score(x_test, y_test)</span><br></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šè®¡ç®—åˆ†ç±»å‡†ç¡®ç‡</li><li>åŸç†ï¼šå‡†ç¡®ç‡å…¬å¼ $ Accuracy &#x3D; \frac{TP+TN}{TP+FP+TN+FN} $</li><li>è®­ç»ƒé›†å‡†ç¡®ç‡ï¼š98.57%; æµ‹è¯•é›†å‡†ç¡®ç‡ï¼š95.56%</li></ul><h3 id="ä¸‰ã€å…³é”®æ¦‚å¿µä¸ä»£ç å¯¹åº”å…³ç³»"><a href="#ä¸‰ã€å…³é”®æ¦‚å¿µä¸ä»£ç å¯¹åº”å…³ç³»" class="headerlink" title="ä¸‰ã€å…³é”®æ¦‚å¿µä¸ä»£ç å¯¹åº”å…³ç³»"></a>ä¸‰ã€å…³é”®æ¦‚å¿µä¸ä»£ç å¯¹åº”å…³ç³»</h3><table><thead><tr><th align="left">ä»£ç å®ç°</th><th align="left">æ•°å­¦åŸç†</th></tr></thead><tbody><tr><td align="left"><code>kernel=&#39;rbf&#39;</code></td><td align="left">æ ¸æŠ€å·§ $ K(x,y) &#x3D; e^{-\gamma} $</td></tr><tr><td align="left"><code>C=2</code></td><td align="left">æ­£åˆ™åŒ–å‚æ•° $ \min \frac{1}{2} $</td></tr><tr><td align="left"><code>gamma=10</code></td><td align="left">æ ¸å‡½æ•°å‚æ•° $ \gamma $ æ§åˆ¶æ¨¡å‹å¤æ‚åº¦</td></tr><tr><td align="left"><code>decision\_function\_shape=&#39;ovo&#39;</code></td><td align="left">ä¸€å¯¹ä¸€å¤šåˆ†ç±»ç­–ç•¥</td></tr><tr><td align="left"><code>train\_test\_split(...)</code></td><td align="left">æ•°æ®é›†åˆ’åˆ†ä¿è¯æ³›åŒ–æ€§</td></tr></tbody></table><h3 id="å››ã€æ¨¡å‹å¯è§†åŒ–å®ç°ï¼ˆè¡¥å……ï¼‰"><a href="#å››ã€æ¨¡å‹å¯è§†åŒ–å®ç°ï¼ˆè¡¥å……ï¼‰" class="headerlink" title="å››ã€æ¨¡å‹å¯è§†åŒ–å®ç°ï¼ˆè¡¥å……ï¼‰"></a>å››ã€æ¨¡å‹å¯è§†åŒ–å®ç°ï¼ˆè¡¥å……ï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">plot_decision_regions</span>(<span class="params">X, y, classifier</span>):</span><br><span class="line">    <span class="keyword">from</span> matplotlib.colors <span class="keyword">import</span> ListedColormap</span><br><span class="line">    X1, X2 = np.meshgrid(np.arange(X[:,<span class="number">0</span>].<span class="built_in">min</span>()-<span class="number">1</span>, X[:,<span class="number">0</span>].<span class="built_in">max</span>()+<span class="number">1</span>, <span class="number">0.02</span>),</span><br><span class="line">                           np.arange(X[:,<span class="number">1</span>].<span class="built_in">min</span>()-<span class="number">1</span>, X[:,<span class="number">1</span>].<span class="built_in">max</span>()+<span class="number">1</span>, <span class="number">0.02</span>))</span><br><span class="line">    Z = classifier.predict(np.c_[X1.ravel(), X2.ravel()])</span><br><span class="line">    Z = Z.reshape(X1.shape)</span><br><span class="line">    plt.contourf(X1, X2, Z, alpha=<span class="number">0.4</span>, cmap=ListedColormap([<span class="string">&#x27;lightcoral&#x27;</span>,<span class="string">&#x27;lightblue&#x27;</span>,<span class="string">&#x27;lightgreen&#x27;</span>]))</span><br><span class="line">    plt.scatter(X[y==<span class="number">0</span>,<span class="number">0</span>], X[y==<span class="number">0</span>,<span class="number">1</span>], c=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&#x27;Setosa&#x27;</span>)</span><br><span class="line">    plt.scatter(X[y==<span class="number">1</span>,<span class="number">0</span>], X[y==<span class="number">1</span>,<span class="number">1</span>], c=<span class="string">&#x27;blue&#x27;</span>, label=<span class="string">&#x27;Versicolor&#x27;</span>)</span><br><span class="line">    plt.scatter(X[y==<span class="number">2</span>,<span class="number">0</span>], X[y==<span class="number">2</span>,<span class="number">1</span>], c=<span class="string">&#x27;green&#x27;</span>, label=<span class="string">&#x27;Virginica&#x27;</span>)</span><br><span class="line">    plt.title(<span class="string">&#x27;SVM Result&#x27;</span>)</span><br><span class="line">    plt.xlabel(<span class="string">&#x27;Sepal Length&#x27;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">&#x27;Sepal Width&#x27;</span>)</span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">plot_decision_regions(x_test, y_test, model)</span><br></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šç»˜åˆ¶å†³ç­–è¾¹ç•Œ</li><li>åŸç†ï¼š<ol><li>ç”Ÿæˆç½‘æ ¼ç‚¹ä½œä¸ºæµ‹è¯•ç‚¹</li><li>å¯¹æ¯ä¸ªç‚¹è¿›è¡Œé¢„æµ‹</li><li>å°†é¢„æµ‹ç»“æœå¯è§†åŒ–ä¸ºèƒŒæ™¯é¢œè‰²</li></ol></li><li>å¯è§†åŒ–è¦ç´ ï¼š<ul><li>èƒŒæ™¯è‰²ï¼šè¡¨ç¤ºæ¨¡å‹çš„å†³ç­–åŒºåŸŸ</li><li>æ•£ç‚¹ï¼šå®é™…æµ‹è¯•é›†æ ·æœ¬åˆ†å¸ƒ</li><li>æ ‡é¢˜ï¼šæ˜¾ç¤ºæ¨¡å‹åç§°</li></ul></li></ul><h3 id="äº”ã€å‚æ•°è°ƒä¼˜å»ºè®®"><a href="#äº”ã€å‚æ•°è°ƒä¼˜å»ºè®®" class="headerlink" title="äº”ã€å‚æ•°è°ƒä¼˜å»ºè®®"></a>äº”ã€å‚æ•°è°ƒä¼˜å»ºè®®</h3><ol><li>æ ¸å‡½æ•°é€‰æ‹©ï¼š<ul><li>çº¿æ€§å¯åˆ†æ•°æ®ä½¿ç”¨linearæ ¸</li><li>éçº¿æ€§æ•°æ®ä½¿ç”¨rbfæ ¸ï¼ˆé»˜è®¤ï¼‰</li><li>å¤šé¡¹å¼æ ¸é€‚ç”¨äºç‰¹å®šåœºæ™¯</li></ul></li><li>å‚æ•°è°ƒä¼˜ï¼š <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line">param_grid = &#123;<span class="string">&#x27;C&#x27;</span>: [<span class="number">0.1</span>, <span class="number">1</span>, <span class="number">10</span>], <span class="string">&#x27;gamma&#x27;</span>: [<span class="number">0.1</span>, <span class="number">1</span>, <span class="number">10</span>]&#125;</span><br><span class="line">grid = GridSearchCV(svm.SVC(), param_grid, cv=<span class="number">5</span>)</span><br><span class="line">grid.fit(x_train, y_train)</span><br></pre></td></tr></table></figure></li><li>å¤šåˆ†ç±»ç­–ç•¥ï¼š<ul><li>decision_function_shape&#x3D;â€™ovoâ€™ï¼šä¸€å¯¹ä¸€ï¼ˆé€‚åˆå°æ•°æ®é›†ï¼‰</li><li>decision_function_shape&#x3D;â€™ovrâ€™ï¼šä¸€å¯¹å¤šï¼ˆé€‚åˆå¤§æ•°æ®é›†ï¼‰</li></ul></li></ol><h3 id="å…­ã€å®Œæ•´å·¥ä½œæµç¨‹å›¾"><a href="#å…­ã€å®Œæ•´å·¥ä½œæµç¨‹å›¾" class="headerlink" title="å…­ã€å®Œæ•´å·¥ä½œæµç¨‹å›¾"></a>å…­ã€å®Œæ•´å·¥ä½œæµç¨‹å›¾</h3><figure class="highlight plaintext"><figcaption><span>text</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ•°æ®é¢„å¤„ç† â†’ ç‰¹å¾é€‰æ‹© â†’ æ¨¡å‹åˆå§‹åŒ– â†’ å‚æ•°è°ƒä¼˜ â†’ æ¨¡å‹è®­ç»ƒ â†’ å¯è§†åŒ– â†’ æ€§èƒ½è¯„ä¼°</span><br></pre></td></tr></table></figure><h3 id="ä¸ƒã€æ³¨æ„äº‹é¡¹"><a href="#ä¸ƒã€æ³¨æ„äº‹é¡¹" class="headerlink" title="ä¸ƒã€æ³¨æ„äº‹é¡¹"></a>ä¸ƒã€æ³¨æ„äº‹é¡¹</h3><ol><li>ç‰¹å¾æ ‡å‡†åŒ–ï¼š <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line">sc = StandardScaler()</span><br><span class="line">x_train = sc.fit_transform(x_train)</span><br></pre></td></tr></table></figure><ul><li>åŸå› ï¼šSVMå¯¹ç‰¹å¾å°ºåº¦æ•æ„Ÿ</li><li>æ–¹æ³•ï¼šZ-scoreæ ‡å‡†åŒ–</li></ul></li><li>ç‰¹å¾é€‰æ‹©ï¼š<ul><li>ä»…ä½¿ç”¨å‰ä¸¤ä¸ªç‰¹å¾ä¼šæŸå¤±éƒ¨åˆ†ä¿¡æ¯</li><li>å»ºè®®ä½¿ç”¨PCAé™ç»´ä»£æ›¿äººå·¥é€‰æ‹©</li></ul></li><li>è¿‡æ‹Ÿåˆé¢„é˜²ï¼š<ul><li>å½“gammaè¿‡å¤§æ—¶å¯èƒ½å¯¼è‡´è¿‡æ‹Ÿåˆ</li><li>å¯é€šè¿‡äº¤å‰éªŒè¯é€‰æ‹©æœ€ä¼˜å‚æ•°</li></ul></li></ol><h3 id="å…«ã€æ‰©å±•åº”ç”¨"><a href="#å…«ã€æ‰©å±•åº”ç”¨" class="headerlink" title="å…«ã€æ‰©å±•åº”ç”¨"></a>å…«ã€æ‰©å±•åº”ç”¨</h3><ol><li>å¤šåˆ†ç±»é—®é¢˜ï¼š<ul><li>é¸¢å°¾èŠ±æœ‰3ä¸ªç±»åˆ«</li><li>SVMåŸç”Ÿæ”¯æŒå¤šåˆ†ç±»ï¼ˆéäºŒåˆ†ç±»æ‰©å±•ï¼‰</li></ul></li><li>éçº¿æ€§åˆ†ç±»ï¼š<ul><li>RBFæ ¸å¤„ç†éçº¿æ€§å¯åˆ†é—®é¢˜</li><li>å†³ç­–è¾¹ç•Œå¯ä»¥æ˜¯éçº¿æ€§çš„</li></ul></li><li>è½¯é—´éš”ï¼š<ul><li>C&#x3D;2å…è®¸éƒ¨åˆ†æ ·æœ¬ä½äºé—´éš”å¸¦å†…</li><li>å¹³è¡¡åˆ†ç±»ç²¾åº¦å’Œæ³›åŒ–èƒ½åŠ›</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºCIFARæ•°æ®é›†å®ç°çš„å›¾åƒåˆ†ç±»</title>
      <link href="/2025/05/29/study/%E5%9F%BA%E4%BA%8ECIFAR%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB/"/>
      <url>/2025/05/29/study/%E5%9F%BA%E4%BA%8ECIFAR%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h2 id="CIFAR-10æ•°æ®é›†ä»‹ç»"><a href="#CIFAR-10æ•°æ®é›†ä»‹ç»" class="headerlink" title="CIFAR-10æ•°æ®é›†ä»‹ç»"></a>CIFAR-10æ•°æ®é›†ä»‹ç»</h2><p>CIFAR10åŒ…å«æœ‰ä¸€å…±60000å¼ 32x32çš„å½©è‰²å›¾åƒï¼Œè¿™äº›å›¾ç‰‡ä¸­ä¸€å…±æœ‰10ç±»ä¸åŒçš„äº‹ç‰©ï¼Œæ¯ä¸€ç±»æœ‰6000å¼ æ ·æœ¬ã€‚è¿™äº›å›¾ç‰‡æŒ‰ç…§5:1çš„æ¯”ä¾‹éšæœºåˆ†ä¸ºè®­ç»ƒé›†ä»¥åŠæµ‹è¯•é›†ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/25060103.png" alt="CIFAR-10"></p><p>ä¸‹é¢å°†åœ¨è¿™ä¸ªå¼€æºçš„æ•°æ®é›†ä¸Šå®ç°å›¾åƒçš„åˆ†ç±»ï¼Œç›®å‰è®¡åˆ’é€šè¿‡ResNet-18æ¨¡å‹å®ç°ä¸Šè¿°çš„åˆ†ç±»åŠŸèƒ½ï¼›</p><h2 id="Pythonä»£ç å®ç°ä»¥åŠè¯¦è§£"><a href="#Pythonä»£ç å®ç°ä»¥åŠè¯¦è§£" class="headerlink" title="Pythonä»£ç å®ç°ä»¥åŠè¯¦è§£"></a>Pythonä»£ç å®ç°ä»¥åŠè¯¦è§£</h2><h3 id="å¯¼å…¥å¿…è¦çš„åº“ä»¥åŠä¾èµ–"><a href="#å¯¼å…¥å¿…è¦çš„åº“ä»¥åŠä¾èµ–" class="headerlink" title="å¯¼å…¥å¿…è¦çš„åº“ä»¥åŠä¾èµ–"></a>å¯¼å…¥å¿…è¦çš„åº“ä»¥åŠä¾èµ–</h3><p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨Pytorchæ¡†æ¶å®ç°æ¨¡å‹çš„è®­ç»ƒä»¥åŠç»“æœçš„é¢„æµ‹ï¼›</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch </span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn </span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm </span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> transforms </span><br><span class="line"><span class="keyword">import</span> torchvision </span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br></pre></td></tr></table></figure><p>å¯¼å…¥ <code>tdqm</code> åº“å°†è®­ç»ƒçš„è¿‡ç¨‹å¯è§†åŒ–ï¼Œè¯¥åº“èƒ½å¤Ÿå°†è®­ç»ƒçš„è¿›åº¦ä»¥è¿›åº¦æ¡çš„å½¢å¼æ˜¾ç¤ºå‡ºæ¥ï¼›ç”±äºæˆ‘ä»¬è¦å®ç°çš„æ˜¯å›¾ç‰‡çš„è¯†åˆ«åˆ†ç±»åŠŸèƒ½ï¼Œè¿™é‡Œé€‰æ‹©å¯¼å…¥ <code>torchvision</code> åº“å¹¶ä½¿ç”¨é¢„è®­ç»ƒçš„æ¨¡å‹å‚æ•°æé«˜è®­ç»ƒçš„æ­£ç¡®ç‡ä»¥åŠé€Ÿåº¦ï¼›</p><h3 id="æ•°æ®é¢„å¤„ç†"><a href="#æ•°æ®é¢„å¤„ç†" class="headerlink" title="æ•°æ®é¢„å¤„ç†"></a>æ•°æ®é¢„å¤„ç†</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">transform = transforms.Compose([ </span><br><span class="line">    transforms.ToTensor(), </span><br><span class="line">    transforms.Normalize((<span class="number">0.4914</span>, <span class="number">0.4822</span>, <span class="number">0.4465</span>), (<span class="number">0.2023</span>, <span class="number">0.1994</span>, <span class="number">0.2010</span>)), </span><br><span class="line">    <span class="comment"># CIFAR-10 æ•°æ®é›†çš„å‡å€¼å’Œæ ‡å‡†å·® </span></span><br><span class="line">]) </span><br><span class="line"></span><br><span class="line">batch_size = <span class="number">32</span></span><br><span class="line"></span><br><span class="line">train_set = torchvision.datasets.CIFAR10(root=<span class="string">&#x27;./CIFAR&#x27;</span>, train=<span class="literal">True</span>, download=<span class="literal">True</span>, transform=transform)  <span class="comment">#rootæ ¹æ®å®é™…è¿›è¡Œä¿®æ”¹ </span></span><br><span class="line">train_loader = DataLoader(train_set, batch_size=batch_size, shuffle=<span class="literal">True</span>, num_workers=<span class="number">0</span>) </span><br><span class="line"> </span><br><span class="line">val_dataset = torchvision.datasets.CIFAR10(root=<span class="string">&#x27;./CIFAR&#x27;</span>, train=<span class="literal">False</span>, download=<span class="literal">True</span>, transform=transform)  <span class="comment">#rootæ ¹æ®å®é™…è¿›è¡Œä¿®æ”¹ </span></span><br><span class="line">val_loader = DataLoader(val_dataset, batch_size=batch_size, shuffle=<span class="literal">True</span>, num_workers=<span class="number">0</span>) </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é¦–å…ˆæˆ‘ä»¬å…ˆå®šä¹‰äº†ä¸€ä¸ªå›¾ç‰‡å˜æ¢ç»“æ„ï¼Œä½œç”¨æ˜¯å°†å›¾ç‰‡ï¼Œå‘é‡çŸ©é˜µè½¬æ¢ä¸ºPytorchä¸­å®šä¹‰çš„ä¸€ä¸ªå…¨æ–°çš„æ•°æ®ç»“æ„â€”â€”å¼ é‡ï¼ˆTensorï¼‰ï¼›ä¹‹åæ ¹æ®è¯¥æ•°æ®é›†çš„æ ‡å‡†å·®å¯¹æ‰€æœ‰å¼ é‡æ ‡å‡†åŒ–å½’ä¸€åŒ–ï¼›</p><p>ä¹‹åå®šä¹‰äº†è®­ç»ƒé›†æ•°æ®ä»¥åŠéªŒè¯é›†æ•°æ®çš„åŠ è½½å™¨ï¼Œèƒ½å¤Ÿè®¾ç½®ä¸€å®šçš„ <code>batch\_size</code> æ¯ä¸€æ¬¡å–æ•°æ®è¿›è¡Œè®­ç»ƒæˆ–è€…éªŒè¯çš„æ—¶å€™å–ä¸€æ•´ä¸ª <code>batch</code> ï¼Œæé«˜è®­ç»ƒçš„é€Ÿåº¦ï¼›åŒæ—¶è¿˜èƒ½å¤Ÿè®¾ç½®æ˜¯å¦éšæœºé€‰æ‹©æ ·æœ¬ï¼Œä»¥åŠçº¿ç¨‹æ•°é‡ï¼›</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">device = torch.device(<span class="string">&#x27;cuda&#x27;</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">&#x27;cpu&#x27;</span>) </span><br><span class="line"><span class="built_in">print</span>(device)</span><br></pre></td></tr></table></figure><p>å®šä¹‰è®¾å¤‡ï¼Œå¦‚æœå½“å‰æ”¯æŒCUDAåˆ™ä½¿ç”¨CUDAä½œä¸ºè®­ç»ƒçš„è®¾å¤‡ï¼Œå¦åˆ™ä¸ºCPUï¼›CUDAçš„è®­ç»ƒé€Ÿåº¦è¦æ¯”CPUçš„è®­ç»ƒé€Ÿåº¦å¿«ï¼Œè€Œä¸”è®­ç»ƒçš„æ•ˆæœä¼šæ›´å¥½ä¸€äº›ï¼›</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">net = torchvision.models.resnet18(pretrained=<span class="literal">True</span>)  <span class="comment"># åŠ è½½é¢„è®­ç»ƒçš„æ¨¡å‹å‚æ•°</span></span><br><span class="line">num_ftrs = net.fc.in_features                       <span class="comment"># å…¨è¿æ¥å±‚çš„ç‰¹å¾</span></span><br><span class="line"><span class="comment"># ä¿®æ”¹å…¨è¿æ¥å±‚çš„è¾“å‡ºç»´åº¦ä¸º10 </span></span><br><span class="line">net.fc = nn.Linear(num_ftrs, <span class="number">10</span>)                    <span class="comment"># äººä¸ºä¿®æ”¹è¿æ¥å±‚çš„è¾“å‡º</span></span><br><span class="line">net = net.to(device)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ <code>ResNet-18</code> æ¨¡å‹è¿›è¡Œè®­ç»ƒä»¥åŠè¯†åˆ«ï¼Œä¸ºäº†åŠ å¿«è®­ç»ƒçš„é€Ÿåº¦ä»¥åŠæé«˜è®­ç»ƒçš„å‡†ç¡®ç‡ï¼Œé€‰æ‹©å¯¼å…¥Pytorchä¸­é¢„è®­ç»ƒçš„æ¨¡å‹å‚æ•°ï¼›ç”±äºè¯¥æ•°æ®é›†ä¸­åªæœ‰10ä¸ªç±»åˆ«ï¼Œç½‘ç»œåªéœ€è¦10ä¸ªè¾“å‡ºï¼Œå› æ­¤æˆ‘ä»¬å•ç‹¬å¯¹ç½‘ç»œçš„æœ€åä¸€å±‚è¿›è¡Œä¿®æ”¹ï¼Œå°†å…¨è¿æ¥å±‚çš„è¾“å‡ºä¿®æ”¹ä¸º10ï¼›æœ€åå°†æ¨¡å‹å¯¼å…¥åˆ°è®¾å¤‡åœ¨ã€‚</p><p>æ³¨æ„ï¼šCUDAä¸CPUä¸äº’é€šï¼Œæ¨¡å‹ä»¥åŠæ•°æ®åˆ°éœ€è¦åœ¨åŒä¸€ä¸ªè®¾å¤‡ä¸­ï¼›</p><p>Netçš„ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/25060104.png" alt="ResNet-18"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">criterion = nn.CrossEntropyLoss() </span><br><span class="line">optimizer = torch.optim.AdamW(lr=<span class="number">0.0001</span>, params=net.parameters()) </span><br><span class="line">epochs = <span class="number">10</span></span><br></pre></td></tr></table></figure><p>å®šä¹‰æ¯”è¾ƒå¸¸è§çš„ä¸¤ä¸ªå‡½æ•°ä½œä¸ºèµç½šå‡½æ•°ï¼ŒæŸå¤±å‡½æ•°ä¸º<strong>äº¤å‰æŸå¤±</strong>ï¼Œä¼˜åŒ–å‡½æ•°å®šä¹‰ä¸º<strong>AdamWå‡½æ•°</strong>ï¼Œæƒ³è¯¦ç»†äº†è§£å¯ä»¥å»å‚è€ƒä¸€ä¸‹æ–‡ç« ï¼š</p><p><a href="https://arxiv.org/abs/1711.05101">[1711.05101] Decoupled Weight Decay Regularization</a></p><p>è®­ç»ƒè½®æ•°ä¸º10è½®ï¼Œè®­ç»ƒè½®æ•°çš„é€‰å–æ¯”è¾ƒæœ‰è®²ç©¶ï¼Œå¦‚æœè®­ç»ƒæ¬¡æ•°è¿‡å°‘åˆ™æ¨¡å‹çš„æ€§èƒ½æ²¡æœ‰åˆ°æœ€ä¼˜ï¼›å¦‚æœè®­ç»ƒæ¬¡æ•°è¿‡å¤šï¼Œåˆ™åˆä¼šå¯¼è‡´<strong>è¿‡æ‹Ÿåˆ</strong>ï¼Œè®­ç»ƒæ•ˆæœä¸‹é™ã€‚å› æ­¤é€šå¸¸é€‰æ‹©ä¸€ä¸ªé€‚ä¸­çš„æ¬¡æ•°ï¼Œæˆ–è€…å¯¹æ¯æ¬¡è®­ç»ƒçš„å‡†ç¡®ç‡è¿›è¡Œåˆ¤æ–­ï¼Œå‘ç°å¦‚æœå‡†ç¡®ç‡çš„ä¼˜åŒ–å‡ç¼“æ—¶ï¼Œæ„å‘³ç€å½“å‰æ¨¡å‹æ¥è¿‘æ”¶æ•›ï¼Œä¾¿æå‰ç»“æŸè®­ç»ƒå¹¶ä¿å­˜æ¨¡å‹å‚æ•°ï¼›</p><hr><p>ä¸‹é¢æ˜¯è®­ç»ƒä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(epochs): </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;--------------------Epoch: <span class="subst">&#123;epoch&#125;</span>--------------------\n&#x27;</span>) </span><br><span class="line">     </span><br><span class="line">    <span class="comment"># è®­ç»ƒé˜¶æ®µ </span></span><br><span class="line">    net.train() </span><br><span class="line">    running_loss = <span class="number">0.0</span> </span><br><span class="line">    correct_train = <span class="number">0</span> </span><br><span class="line">    total_train = <span class="number">0</span> </span><br><span class="line">    <span class="keyword">for</span> inputs, labels <span class="keyword">in</span> tqdm(train_loader): </span><br><span class="line">        inputs = inputs.to(device) </span><br><span class="line">        labels = labels.to(device) </span><br><span class="line"> </span><br><span class="line">        optimizer.zero_grad()   <span class="comment"># æ¸…ç©ºæ¢¯åº¦</span></span><br><span class="line">        outputs = net(inputs)   <span class="comment"># é¢„æµ‹è¾“å‡º</span></span><br><span class="line">        loss = criterion(outputs, labels) </span><br><span class="line">        loss.backward()         <span class="comment"># æ¢¯åº¦ä¸‹é™</span></span><br><span class="line">        optimizer.step()        <span class="comment"># ä¼˜åŒ–</span></span><br><span class="line"> </span><br><span class="line">        running_loss += loss.item() </span><br><span class="line">        _, predicted = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>) </span><br><span class="line">        total_train += labels.size(<span class="number">0</span>) </span><br><span class="line">        correct_train += (predicted == labels).<span class="built_in">sum</span>().item() </span><br><span class="line">        train_loss = running_loss / <span class="built_in">len</span>(train_loader) </span><br><span class="line"></span><br><span class="line">    train_acc = correct_train / total_train </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;è®­ç»ƒæŸå¤±ï¼š&#123;:.4f&#125;ï¼Œè®­ç»ƒå‡†ç¡®ç‡ï¼š&#123;:.4f&#125;%&#x27;</span>.<span class="built_in">format</span>(train_loss, train_acc * <span class="number">100</span>)) </span><br><span class="line"> </span><br><span class="line">    <span class="comment"># éªŒè¯é˜¶æ®µ </span></span><br><span class="line">    net.<span class="built_in">eval</span>() </span><br><span class="line">    correct_val = <span class="number">0</span> </span><br><span class="line">    total_val = <span class="number">0</span> </span><br><span class="line">    val_loss = <span class="number">0.0</span> </span><br><span class="line">    <span class="comment"># ä¸æ›´æ–°æ¢¯åº¦</span></span><br><span class="line">    <span class="keyword">with</span> torch.no_grad(): </span><br><span class="line">        <span class="keyword">for</span> inputs, labels <span class="keyword">in</span> tqdm(val_loader): </span><br><span class="line">            inputs = inputs.to(device) </span><br><span class="line">         </span><br><span class="line">            labels = labels.to(device) </span><br><span class="line"> </span><br><span class="line">            outputs = net(inputs) </span><br><span class="line">            loss = criterion(outputs, labels) </span><br><span class="line">            val_loss += loss.item() </span><br><span class="line">            _, predicted = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>) </span><br><span class="line">            total_val += labels.size(<span class="number">0</span>) </span><br><span class="line">            correct_val += (predicted == labels).<span class="built_in">sum</span>().item() </span><br><span class="line"> </span><br><span class="line">    val_loss /= <span class="built_in">len</span>(val_loader) </span><br><span class="line">    val_acc = correct_val / total_val </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;éªŒè¯æŸå¤±ï¼š&#123;:.4f&#125;ï¼ŒéªŒè¯å‡†ç¡®ç‡ï¼š&#123;:.4f&#125;%&#x27;</span>.<span class="built_in">format</span>(val_loss, val_acc * <span class="number">100</span>)) </span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/25060101.png" alt="CIFAR-10"></p><p>ä»¥ä¸Šå°±æ˜¯è¾“å‡ºçš„ç»“æœã€‚</p><h2 id="åœ¨CIFAR-100ä¸Šå®ç°å›¾åƒçš„è¯†åˆ«åˆ†ç±»"><a href="#åœ¨CIFAR-100ä¸Šå®ç°å›¾åƒçš„è¯†åˆ«åˆ†ç±»" class="headerlink" title="åœ¨CIFAR-100ä¸Šå®ç°å›¾åƒçš„è¯†åˆ«åˆ†ç±»"></a>åœ¨CIFAR-100ä¸Šå®ç°å›¾åƒçš„è¯†åˆ«åˆ†ç±»</h2><p>CIFAR-100ï¼ŒåŒCIFAR-10ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯è¯¥æ•°æ®é›†åŒ…å«æœ‰100ç§ä¸åŒçš„å®ç‰©ï¼Œè¦å¯¹100ä¸ªæ ·æœ¬ç±»åˆ«è¿›è¡ŒåŒºåˆ†ï¼Œå¯¹åº”çš„æ•°æ®é‡ä¹Ÿæ°´æ¶¨èˆ¹é«˜ï¼›</p><p>ç†è®ºä¸Šä¸¤è€…çš„æ¨¡å‹éƒ½å·®ä¸å¤šï¼Œä½†æ˜¯ResNet-18å¯¹100ä¸ªä»»åŠ¡çš„åŒºåˆ†æ•ˆç‡ä½ã€æ•ˆæœå·®ï¼Œå› æ­¤æˆ‘ä»¬è¿™é‡Œå°è¯•ä½¿ç”¨MobileNet_v2æ¨¡å‹å¯¹CIFAR-100æ•°æ®é›†è¿›è¡Œè®­ç»ƒï¼Œåœ¨æŸå¤±å‡½æ•°ä»¥åŠä¼˜åŒ–å‡½æ•°çš„é…ç½®ä¸Šç•¥æœ‰ä¸åŒï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨</span></span><br><span class="line">criterion = nn.CrossEntropyLoss()</span><br><span class="line"><span class="comment"># ä½¿ç”¨ä¸åŒçš„å­¦ä¹ ç‡</span></span><br><span class="line">optimizer = torch.optim.AdamW([</span><br><span class="line">    &#123;<span class="string">&#x27;params&#x27;</span>: model.features.parameters(), <span class="string">&#x27;lr&#x27;</span>: <span class="number">1e-4</span>&#125;,    <span class="comment"># ç‰¹å¾æå–å±‚ä½¿ç”¨è¾ƒå°çš„å­¦ä¹ ç‡</span></span><br><span class="line">    &#123;<span class="string">&#x27;params&#x27;</span>: model.classifier.parameters(), <span class="string">&#x27;lr&#x27;</span>: <span class="number">1e-3</span>&#125;   <span class="comment"># åˆ†ç±»å±‚ä½¿ç”¨è¾ƒå¤§çš„å­¦ä¹ ç‡</span></span><br><span class="line">])</span><br><span class="line"></span><br><span class="line"><span class="comment"># å­¦ä¹ ç‡è°ƒåº¦å™¨</span></span><br><span class="line">scheduler = torch.optim.lr_scheduler.ReduceLROnPlateau(optimizer, mode=<span class="string">&#x27;min&#x27;</span>, factor=<span class="number">0.1</span>, patience=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">epochs = <span class="number">20</span>  <span class="comment"># å¢åŠ è®­ç»ƒè½®æ•°</span></span><br></pre></td></tr></table></figure><p>æŸå¤±å‡½æ•°ä»ç„¶ä½¿ç”¨äº¤å‰æŸå¤±å‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨ä¸åŒçš„é˜¶æ®µä½¿ç”¨ä¸åŒçš„å­¦ä¹ ç‡ï¼Œåœ¨ç‰¹å¾æå–é˜¶æ®µä½¿ç”¨å°çš„å­¦ä¹ ç‡ï¼Œåˆ†ç±»æ—¶ä½¿ç”¨å¤§çš„å­¦ä¹ ç‡ã€‚åˆ†ç±»çš„æŸå¤±ç›´æ¥ä¸æ¨¡å‹çš„è¡¨ç°æœ‰å…³ï¼Œå› æ­¤è¾ƒé«˜çš„å­¦ä¹ ç‡å¯ä»¥æ›´å¿«çš„æ”¶æ•›ï¼›</p><p>ä½¿ç”¨**åˆ†å±‚å­¦ä¹ ç‡ï¼ˆlayer-wise learning rate decayï¼‰**çš„ç­–ç•¥ï¼Œå®ƒçš„å¥½å¤„åŒ…æ‹¬ï¼š</p><ol><li><strong>ä¿ç•™é¢„è®­ç»ƒç‰¹å¾</strong>ï¼šè¾ƒå°çš„å­¦ä¹ ç‡ç”¨äº <code>features</code>ï¼Œå¯ä¿æŒé¢„è®­ç»ƒæ¨¡å‹å­¦åˆ°çš„é€šç”¨ç‰¹å¾ã€‚</li><li><strong>å¿«é€Ÿé€‚åº”æ–°ä»»åŠ¡</strong>ï¼šè¾ƒå¤§çš„å­¦ä¹ ç‡ç”¨äº <code>classifier</code>ï¼Œæœ‰åˆ©äºå¿«é€Ÿé€‚åº” CIFAR-100 æ–°ä»»åŠ¡ã€‚</li><li><strong>è®­ç»ƒæ›´ç¨³å®šã€æ”¶æ•›æ›´å¿«</strong>ï¼šå°¤å…¶åœ¨è½»é‡ç½‘ç»œä¸­ï¼Œæ›´èƒ½ä½“ç°è®­ç»ƒçµæ´»æ€§ã€‚</li></ol><hr><p>ä¸‹é¢æ˜¯è®­ç»ƒä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">best_val_acc = <span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(epochs):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;\nEpoch <span class="subst">&#123;epoch+<span class="number">1</span>&#125;</span>/<span class="subst">&#123;epochs&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span> * <span class="number">30</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è®­ç»ƒé˜¶æ®µ</span></span><br><span class="line">    model.train()</span><br><span class="line">    running_loss = <span class="number">0.0</span></span><br><span class="line">    correct_train = <span class="number">0</span></span><br><span class="line">    total_train = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> inputs, labels <span class="keyword">in</span> tqdm(train_loader, desc=<span class="string">&#x27;Training&#x27;</span>):</span><br><span class="line">        inputs = inputs.to(device)</span><br><span class="line">        labels = labels.to(device)</span><br><span class="line">        </span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        outputs = model(inputs)</span><br><span class="line">        loss = criterion(outputs, labels)</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line">        </span><br><span class="line">        running_loss += loss.item()</span><br><span class="line">        _, predicted = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>)</span><br><span class="line">        total_train += labels.size(<span class="number">0</span>)</span><br><span class="line">        correct_train += (predicted == labels).<span class="built_in">sum</span>().item()</span><br><span class="line">    </span><br><span class="line">    train_loss = running_loss / <span class="built_in">len</span>(train_loader)</span><br><span class="line">    train_acc = correct_train / total_train</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;Train Loss: <span class="subst">&#123;train_loss:<span class="number">.4</span>f&#125;</span> | Train Acc: <span class="subst">&#123;train_acc*<span class="number">100</span>:<span class="number">.2</span>f&#125;</span>%&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># éªŒè¯é˜¶æ®µ</span></span><br><span class="line">    model.<span class="built_in">eval</span>()</span><br><span class="line">    val_loss = <span class="number">0.0</span></span><br><span class="line">    correct_val = <span class="number">0</span></span><br><span class="line">    total_val = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">        <span class="keyword">for</span> inputs, labels <span class="keyword">in</span> tqdm(val_loader, desc=<span class="string">&#x27;Validation&#x27;</span>):</span><br><span class="line">            inputs = inputs.to(device)</span><br><span class="line">            labels = labels.to(device)</span><br><span class="line">            </span><br><span class="line">            outputs = model(inputs)</span><br><span class="line">            loss = criterion(outputs, labels)</span><br><span class="line">            val_loss += loss.item()</span><br><span class="line">            </span><br><span class="line">            _, predicted = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>)</span><br><span class="line">            total_val += labels.size(<span class="number">0</span>)</span><br><span class="line">            correct_val += (predicted == labels).<span class="built_in">sum</span>().item()</span><br><span class="line">    </span><br><span class="line">    val_loss = val_loss / <span class="built_in">len</span>(val_loader)</span><br><span class="line">    val_acc = correct_val / total_val</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;Val Loss: <span class="subst">&#123;val_loss:<span class="number">.4</span>f&#125;</span> | Val Acc: <span class="subst">&#123;val_acc*<span class="number">100</span>:<span class="number">.2</span>f&#125;</span>%&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ›´æ–°å­¦ä¹ ç‡</span></span><br><span class="line">    scheduler.step(val_loss)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ä¿å­˜æœ€ä½³æ¨¡å‹</span></span><br><span class="line">    <span class="keyword">if</span> val_acc &gt; best_val_acc:</span><br><span class="line">        best_val_acc = val_acc</span><br><span class="line">        torch.save(model.state_dict(), <span class="string">&#x27;best_mobilenetv2_cifar100.pth&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;Best validation accuracy: <span class="subst">&#123;best_val_acc*<span class="number">100</span>:<span class="number">.2</span>f&#125;</span>%&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/25060102.png" alt="CIFAR-10"></p><h2 id="âœ…-MobileNetV2-ç›¸å¯¹äº-ResNet-18-çš„ä¼˜åŠ¿ä¸é€‚ç”¨åœºæ™¯"><a href="#âœ…-MobileNetV2-ç›¸å¯¹äº-ResNet-18-çš„ä¼˜åŠ¿ä¸é€‚ç”¨åœºæ™¯" class="headerlink" title="âœ… MobileNetV2 ç›¸å¯¹äº ResNet-18 çš„ä¼˜åŠ¿ä¸é€‚ç”¨åœºæ™¯"></a>âœ… MobileNetV2 ç›¸å¯¹äº ResNet-18 çš„ä¼˜åŠ¿ä¸é€‚ç”¨åœºæ™¯</h2><table><thead><tr><th align="left">æ–¹é¢</th><th align="left">ResNet-18</th><th align="left">MobileNetV2</th><th align="left">å¯¹æ¯”ä¸è§£é‡Š</th></tr></thead><tbody><tr><td align="left"><strong>æ¨¡å‹å¤§å°</strong></td><td align="left">çº¦ 44.6M å‚æ•°</td><td align="left">çº¦ 3.5M å‚æ•°</td><td align="left">MobileNetV2 è½»é‡å¾ˆå¤šï¼Œé€‚åˆéƒ¨ç½²åœ¨èµ„æºå—é™è®¾å¤‡ï¼ˆå¦‚åµŒå…¥å¼ã€æ‰‹æœºç«¯ï¼‰ã€‚</td></tr><tr><td align="left"><strong>è®¡ç®—æ•ˆç‡</strong></td><td align="left">ä¸­ç­‰</td><td align="left">æ›´å¿«ï¼ˆä½ FLOPsï¼‰</td><td align="left">MobileNetV2 ä½¿ç”¨ <strong>æ·±åº¦å¯åˆ†ç¦»å·ç§¯</strong>ï¼Œå¤§å¤§é™ä½è®¡ç®—å¤æ‚åº¦ã€‚</td></tr><tr><td align="left"><strong>æ¨ç†é€Ÿåº¦</strong></td><td align="left">ä¸­</td><td align="left">æ›´å¿«</td><td align="left">æ¨ç†å»¶è¿Ÿæ›´ä½ï¼Œå°¤å…¶åœ¨ CPU æˆ–è¾¹ç¼˜è®¾å¤‡ä¸Šã€‚</td></tr><tr><td align="left"><strong>å‡†ç¡®ç‡ï¼ˆImageNetï¼‰</strong></td><td align="left">Top-1: ~69.8%</td><td align="left">Top-1: ~71.8%</td><td align="left">MobileNetV2 æœ‰æ›´ä¼˜çš„å‚æ•°æ•ˆç‡ã€‚å¾®è°ƒååœ¨ CIFAR-100 ä¸Šè¡¨ç°å·®è·ä¸å¤§ã€‚</td></tr><tr><td align="left"><strong>ç»“æ„æ·±åº¦</strong></td><td align="left">ResNet æ®‹å·®ç»“æ„</td><td align="left">Inverted Residual + Linear Bottleneck</td><td align="left">MobileNetV2 æ›´ç°ä»£ã€ç»“æ„ç´§å‡‘ï¼Œæœ‰åˆ©äºç‰¹å¾ä¼ é€’ä¸è®­ç»ƒã€‚</td></tr><tr><td align="left"><strong>è®­ç»ƒç¨³å®šæ€§</strong></td><td align="left">éå¸¸ç¨³å®š</td><td align="left">ç¨æ•æ„Ÿäºå­¦ä¹ ç‡ã€è°ƒåº¦å™¨</td><td align="left">MobileNetV2 ç»“æ„æµ…ï¼Œè¿‡å¤§å­¦ä¹ ç‡å®¹æ˜“éœ‡è¡ï¼Œä½†ä½ è®¾ç½®äº†åˆç†çš„ <code>lr</code> å’Œ <code>scheduler</code>ï¼Œå¯ä»¥å¾ˆå¥½æ§åˆ¶ã€‚</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºè´å¶æ–¯å†³ç­–çš„åˆ†ç±»å™¨</title>
      <link href="/2025/05/24/study/Bayes/"/>
      <url>/2025/05/24/study/Bayes/</url>
      
        <content type="html"><![CDATA[<h1 id="æœ€å°é”™è¯¯ç‡è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®æˆ˜ï¼šä»£ç è§£æä¸ç†è®ºè¯¦è§£"><a href="#æœ€å°é”™è¯¯ç‡è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®æˆ˜ï¼šä»£ç è§£æä¸ç†è®ºè¯¦è§£" class="headerlink" title="æœ€å°é”™è¯¯ç‡è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®æˆ˜ï¼šä»£ç è§£æä¸ç†è®ºè¯¦è§£"></a>æœ€å°é”™è¯¯ç‡è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®æˆ˜ï¼šä»£ç è§£æä¸ç†è®ºè¯¦è§£</h1><h2 id="ä¸€ã€èƒŒæ™¯ä¸åº”ç”¨åœºæ™¯"><a href="#ä¸€ã€èƒŒæ™¯ä¸åº”ç”¨åœºæ™¯" class="headerlink" title="ä¸€ã€èƒŒæ™¯ä¸åº”ç”¨åœºæ™¯"></a>ä¸€ã€èƒŒæ™¯ä¸åº”ç”¨åœºæ™¯</h2><p>è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨æ˜¯ä¸€ç§åŸºäº**è´å¶æ–¯å®šç†**çš„ç»Ÿè®¡åˆ†ç±»æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡æœ€å¤§åŒ–åéªŒæ¦‚ç‡æ¥æœ€å°åŒ–åˆ†ç±»é”™è¯¯ç‡ã€‚è¯¥æ–¹æ³•å¹¿æ³›åº”ç”¨äºåŒ»å­¦è¯Šæ–­ã€é‡‘èé£æ§ç­‰åœºæ™¯ï¼Œå°¤å…¶é€‚åˆç‰¹å¾åˆ†å¸ƒç¬¦åˆæ­£æ€åˆ†å¸ƒçš„å°è§„æ¨¡æ•°æ®é›†ã€‚æœ¬æ–‡ä»¥é¸¢å°¾èŠ±ï¼ˆIrisï¼‰æ•°æ®é›†ä¸ºä¾‹ï¼Œè¯¦è§£å¦‚ä½•å®ç°ä¸€ä¸ªåŸºäºè´å¶æ–¯å†³ç­–çš„åˆ†ç±»å™¨ ã€‚  </p><h2 id="äºŒã€æ ¸å¿ƒä»£ç è§£æ"><a href="#äºŒã€æ ¸å¿ƒä»£ç è§£æ" class="headerlink" title="äºŒã€æ ¸å¿ƒä»£ç è§£æ"></a>äºŒã€æ ¸å¿ƒä»£ç è§£æ</h2><h2 id="1-æ•°æ®å‡†å¤‡ä¸åˆ’åˆ†"><a href="#1-æ•°æ®å‡†å¤‡ä¸åˆ’åˆ†" class="headerlink" title="1. æ•°æ®å‡†å¤‡ä¸åˆ’åˆ†"></a>1. æ•°æ®å‡†å¤‡ä¸åˆ’åˆ†</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from sklearn import datasets</span><br><span class="line">X, y = datasets.load_iris().data, datasets.load_iris().target</span><br></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šåŠ è½½é¸¢å°¾èŠ±æ•°æ®é›†ï¼ŒåŒ…å«4ä¸ªç‰¹å¾ï¼ˆèŠ±è¼&#x2F;èŠ±ç“£é•¿åº¦å’Œå®½åº¦ï¼‰å’Œ3ä¸ªç±»åˆ«ï¼ˆSetosa, Versicolor, Virginicaï¼‰ã€‚   </li><li><strong>ç†è®ºåŸºç¡€</strong>ï¼šæ•°æ®é›†éœ€æ»¡è¶³<strong>ç‹¬ç«‹åŒåˆ†å¸ƒ</strong>å‡è®¾ï¼Œå³æ ·æœ¬é—´ç›¸äº’ç‹¬ç«‹ä¸”ç‰¹å¾åˆ†å¸ƒä¸€è‡´ ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=42)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>ä½œç”¨</strong>ï¼šæŒ‰7:3æ¯”ä¾‹åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œ<code>random\_state</code>ç¡®ä¿å®éªŒå¯å¤ç° ã€‚</li></ul><hr><h3 id="2-å…ˆéªŒæ¦‚ç‡ä¸ç±»åˆ«æ¡ä»¶æ¦‚ç‡ä¼°è®¡"><a href="#2-å…ˆéªŒæ¦‚ç‡ä¸ç±»åˆ«æ¡ä»¶æ¦‚ç‡ä¼°è®¡" class="headerlink" title="2. å…ˆéªŒæ¦‚ç‡ä¸ç±»åˆ«æ¡ä»¶æ¦‚ç‡ä¼°è®¡"></a>2. å…ˆéªŒæ¦‚ç‡ä¸ç±»åˆ«æ¡ä»¶æ¦‚ç‡ä¼°è®¡</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class_counts = np.bincount(y_train)</span><br><span class="line">priors = class_counts / len(y_train)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>åŸç†</strong>ï¼šå…ˆéªŒæ¦‚ç‡ $ P(Y) $ åæ˜ ç±»åˆ«åœ¨è®­ç»ƒé›†ä¸­çš„åˆ†å¸ƒæ¯”ä¾‹ã€‚ä¾‹å¦‚ï¼Œè‹¥æŸç±»åˆ«å 30%æ ·æœ¬ï¼Œåˆ™ $ P(Y&#x3D;\text{class}) &#x3D; 0.3 $ ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class_conditional_probs = []</span><br><span class="line">for class_idx in range(3):</span><br><span class="line">    class_data = X_train[y_train == class_idx]</span><br><span class="line">    class_mean = np.mean(class_data, axis=0)</span><br><span class="line">    class_cov = np.cov(class_data, rowvar=False)</span><br><span class="line">    class_conditional_probs.append(multivariate_normal(mean=class_mean, cov=class_cov))</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>å…³é”®æ­¥éª¤</strong>ï¼š   <ol><li><strong>ç±»åˆ«æ¡ä»¶æ¦‚ç‡å»ºæ¨¡</strong>ï¼šå‡è®¾æ¯ä¸ªç±»åˆ«çš„ç‰¹å¾æœä»å¤šå…ƒæ­£æ€åˆ†å¸ƒï¼Œé€šè¿‡å‡å€¼å‘é‡ï¼ˆ<code>class\_mean</code>ï¼‰å’Œåæ–¹å·®çŸ©é˜µï¼ˆ<code>class\_cov</code>ï¼‰æè¿°åˆ†å¸ƒç‰¹æ€§ã€‚   </li><li><strong>å‚æ•°ä¼°è®¡</strong>ï¼šä½¿ç”¨æœ€å¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMLEï¼‰è®¡ç®—å‡å€¼å’Œåæ–¹å·®çŸ©é˜µï¼Œè¿™æ˜¯å‚æ•°åŒ–æ–¹æ³•çš„æ ¸å¿ƒ ã€‚</li></ol></li></ul><hr><h3 id="3-è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®ç°"><a href="#3-è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®ç°" class="headerlink" title="3. è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®ç°"></a>3. è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®ç°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class MinimumErrorRateBayesianDecision:</span><br><span class="line">    def classify(self, features):</span><br><span class="line">        posterior_probs = [self.priors[i] * prob.pdf(features) for i, prob in enumerate(self.class_conditional_probs)]</span><br><span class="line">        return np.argmax(posterior_probs)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>å†³ç­–é€»è¾‘</strong>ï¼š   <ul><li><strong>åéªŒæ¦‚ç‡è®¡ç®—</strong>ï¼šæ ¹æ®è´å¶æ–¯å…¬å¼ $ P(Y|X) \propto P(Y) \cdot P(X|Y) $ï¼Œè®¡ç®—æ¯ä¸ªç±»åˆ«çš„åéªŒæ¦‚ç‡ã€‚   </li><li><strong>æœ€å°é”™è¯¯ç‡å†³ç­–</strong>ï¼šé€‰æ‹©åéªŒæ¦‚ç‡æœ€å¤§çš„ç±»åˆ«ä½œä¸ºé¢„æµ‹ç»“æœï¼Œæ­¤å†³ç­–è§„åˆ™ç†è®ºä¸Šæœ€å°åŒ–åˆ†ç±»é”™è¯¯ç‡ ã€‚</li></ul></li></ul><hr><h3 id="4-æ¨¡å‹è¯„ä¼°"><a href="#4-æ¨¡å‹è¯„ä¼°" class="headerlink" title="4. æ¨¡å‹è¯„ä¼°"></a>4. æ¨¡å‹è¯„ä¼°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">correct_predictions = 0</span><br><span class="line">class_correct_predictions = [0]*3</span><br><span class="line">class_total_samples = [0]*3</span><br><span class="line"></span><br><span class="line">for i in range(len(X_test)):</span><br><span class="line">    predicted_class = classifier.classify(X_test[i])</span><br><span class="line">    class_total_samples[y_test[i]] += 1</span><br><span class="line">    if predicted_class == y_test[i]:</span><br><span class="line">        correct_predictions += 1</span><br><span class="line">        class_correct_predictions[y_test[i]] += 1</span><br><span class="line"></span><br><span class="line">accuracy = correct_predictions / len(X_test)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>è¯„ä¼°æŒ‡æ ‡</strong>ï¼šè®¡ç®—æ•´ä½“å‡†ç¡®ç‡å’Œç±»åˆ«çº§åˆ«çš„å‡†ç¡®ç‡ï¼ŒéªŒè¯åˆ†ç±»å™¨æ€§èƒ½ ã€‚</li></ul><hr><h2 id="ä¸‰ã€æ•°å­¦åŸç†è¯¦è§£"><a href="#ä¸‰ã€æ•°å­¦åŸç†è¯¦è§£" class="headerlink" title="ä¸‰ã€æ•°å­¦åŸç†è¯¦è§£"></a>ä¸‰ã€æ•°å­¦åŸç†è¯¦è§£</h2><h3 id="1-è´å¶æ–¯å®šç†"><a href="#1-è´å¶æ–¯å®šç†" class="headerlink" title="1. è´å¶æ–¯å®šç†"></a>1. è´å¶æ–¯å®šç†</h3><p>è´å¶æ–¯å…¬å¼å®šä¹‰ä¸ºï¼š<br>$$<br>P(Y|X) &#x3D; \frac{P(X|Y) \cdot P(Y)}{P(X)}<br>$$   </p><ul><li><strong>å…ˆéªŒæ¦‚ç‡</strong> $ P(Y) $ï¼šç±»åˆ«åœ¨è®­ç»ƒé›†ä¸­çš„åˆ†å¸ƒæ¯”ä¾‹ã€‚   </li><li><strong>ä¼¼ç„¶</strong> $ P(X|Y) $ï¼šç±»åˆ«æ¡ä»¶æ¦‚ç‡å¯†åº¦ï¼Œé€šè¿‡å¤šå…ƒæ­£æ€åˆ†å¸ƒå»ºæ¨¡ã€‚   </li><li><strong>è¯æ®</strong> $ P(X) $ï¼šå¸¸æ•°é¡¹ï¼ˆå¯¹æ‰€æœ‰ç±»åˆ«ç›¸åŒï¼‰ï¼Œä¸å½±å“æ¯”è¾ƒåéªŒæ¦‚ç‡å¤§å° ã€‚</li></ul><h3 id="2-å¤šå…ƒæ­£æ€åˆ†å¸ƒå‡è®¾"><a href="#2-å¤šå…ƒæ­£æ€åˆ†å¸ƒå‡è®¾" class="headerlink" title="2. å¤šå…ƒæ­£æ€åˆ†å¸ƒå‡è®¾"></a>2. å¤šå…ƒæ­£æ€åˆ†å¸ƒå‡è®¾</h3><p>å‡è®¾ç‰¹å¾å‘é‡ $ X \sim \mathcal{N}(\mu, \Sigma) $ï¼Œå…¶æ¦‚ç‡å¯†åº¦å‡½æ•°ä¸ºï¼š<br>$$<br>f(X) &#x3D; \frac{1}{\sqrt{(2\pi)^k |\Sigma|}} \exp\left( -\frac{1}{2}(X-\mu)^T \Sigma^{-1}(X-\mu) \right)<br>$$   </p><ul><li><strong>å‡å€¼å‘é‡</strong> $ \mu $ï¼šåæ˜ ç‰¹å¾çš„é›†ä¸­è¶‹åŠ¿ã€‚   </li><li><strong>åæ–¹å·®çŸ©é˜µ</strong> $ \Sigma $ï¼šæè¿°ç‰¹å¾é—´çš„ç›¸å…³æ€§ ã€‚</li></ul><h3 id="3-å†³ç­–è¾¹ç•Œ"><a href="#3-å†³ç­–è¾¹ç•Œ" class="headerlink" title="3. å†³ç­–è¾¹ç•Œ"></a>3. å†³ç­–è¾¹ç•Œ</h3><h2 id="å½“ä¸¤ç±»çš„åéªŒæ¦‚ç‡ç›¸ç­‰æ—¶ï¼Œå³ï¼š-P-Y-1-cdot-P-X-Y-1-P-Y-2-cdot-P-X-Y-2-æ­¤æ—¶å¯¹åº”çš„è¶…å¹³é¢å³ä¸ºå†³ç­–è¾¹ç•Œï¼Œç”¨äºåˆ’åˆ†ä¸åŒç±»åˆ«çš„æ ·æœ¬ç©ºé—´-ã€‚"><a href="#å½“ä¸¤ç±»çš„åéªŒæ¦‚ç‡ç›¸ç­‰æ—¶ï¼Œå³ï¼š-P-Y-1-cdot-P-X-Y-1-P-Y-2-cdot-P-X-Y-2-æ­¤æ—¶å¯¹åº”çš„è¶…å¹³é¢å³ä¸ºå†³ç­–è¾¹ç•Œï¼Œç”¨äºåˆ’åˆ†ä¸åŒç±»åˆ«çš„æ ·æœ¬ç©ºé—´-ã€‚" class="headerlink" title="å½“ä¸¤ç±»çš„åéªŒæ¦‚ç‡ç›¸ç­‰æ—¶ï¼Œå³ï¼š$$P(Y_1) \cdot P(X|Y_1) &#x3D; P(Y_2) \cdot P(X|Y_2)$$æ­¤æ—¶å¯¹åº”çš„è¶…å¹³é¢å³ä¸ºå†³ç­–è¾¹ç•Œï¼Œç”¨äºåˆ’åˆ†ä¸åŒç±»åˆ«çš„æ ·æœ¬ç©ºé—´ ã€‚   "></a>å½“ä¸¤ç±»çš„åéªŒæ¦‚ç‡ç›¸ç­‰æ—¶ï¼Œå³ï¼š<br>$$<br>P(Y_1) \cdot P(X|Y_1) &#x3D; P(Y_2) \cdot P(X|Y_2)<br>$$<br>æ­¤æ—¶å¯¹åº”çš„è¶…å¹³é¢å³ä¸ºå†³ç­–è¾¹ç•Œï¼Œç”¨äºåˆ’åˆ†ä¸åŒç±»åˆ«çš„æ ·æœ¬ç©ºé—´ ã€‚   </h2><h2 id="å››ã€å®éªŒç»“æœä¸åˆ†æ"><a href="#å››ã€å®éªŒç»“æœä¸åˆ†æ" class="headerlink" title="å››ã€å®éªŒç»“æœä¸åˆ†æ"></a>å››ã€å®éªŒç»“æœä¸åˆ†æ</h2><h3 id="1-åˆ†ç±»å‡†ç¡®ç‡"><a href="#1-åˆ†ç±»å‡†ç¡®ç‡" class="headerlink" title="1. åˆ†ç±»å‡†ç¡®ç‡"></a>1. åˆ†ç±»å‡†ç¡®ç‡</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># è¾“å‡ºç¤ºä¾‹ï¼ˆå®é™…è¿è¡Œç»“æœå¯èƒ½ä¸åŒï¼‰</span><br><span class="line">print(&quot;Setosaå‡†ç¡®ç‡: 1.0&quot;)</span><br><span class="line">print(&quot;Versicolorå‡†ç¡®ç‡: 0.93&quot;)</span><br><span class="line">print(&quot;æ•´ä½“å‡†ç¡®ç‡: 0.95&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>ç»“æœåˆ†æ</strong>ï¼šæ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šè¡¨ç°ä¼˜å¼‚ï¼Œå°¤å…¶å¯¹Setosaç±»åˆ«å®ç°å®Œç¾åˆ†ç±»ï¼Œè¡¨æ˜æ­£æ€åˆ†å¸ƒå‡è®¾åœ¨è¯¥æ•°æ®é›†ä¸Šæˆç«‹ ã€‚</li></ul><h3 id="2-å¯è§†åŒ–å†³ç­–è¾¹ç•Œ"><a href="#2-å¯è§†åŒ–å†³ç­–è¾¹ç•Œ" class="headerlink" title="2. å¯è§†åŒ–å†³ç­–è¾¹ç•Œ"></a>2. å¯è§†åŒ–å†³ç­–è¾¹ç•Œ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">plt.scatter(X_test[:, 0], X_test[:, 1], c=y_test, cmap=&#x27;viridis&#x27;)</span><br><span class="line">plt.xlabel(&quot;Sepal Length&quot;)</span><br><span class="line">plt.ylabel(&quot;Sepal Width&quot;)</span><br><span class="line">plt.title(&quot;Bayesian Decision Boundary&quot;)</span><br><span class="line">plt.colorbar(label=&quot;Class&quot;)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250524_02.png" alt="Agglomerative Clustering"><br><em>å›¾2ï¼šåŸºäºè´å¶æ–¯å†³ç­–çš„åˆ†ç±»è¾¹ç•Œå¯è§†åŒ–ï¼ˆç¤ºä¾‹ï¼‰</em>   </p><hr><h2 id="äº”ã€æ€»ç»“ä¸æ‰©å±•"><a href="#äº”ã€æ€»ç»“ä¸æ‰©å±•" class="headerlink" title="äº”ã€æ€»ç»“ä¸æ‰©å±•"></a>äº”ã€æ€»ç»“ä¸æ‰©å±•</h2><h3 id="1-ä¼˜åŠ¿ä¸å±€é™æ€§"><a href="#1-ä¼˜åŠ¿ä¸å±€é™æ€§" class="headerlink" title="1. ä¼˜åŠ¿ä¸å±€é™æ€§"></a>1. ä¼˜åŠ¿ä¸å±€é™æ€§</h3><ul><li><strong>ä¼˜åŠ¿</strong>ï¼š   <ul><li>ç†è®ºåŸºç¡€æ‰å®ï¼Œé€‚ç”¨äºå°è§„æ¨¡æ•°æ®ã€‚   </li><li>é€šè¿‡å‚æ•°ä¼°è®¡å¯è§£é‡Šæ€§å¼º ã€‚</li></ul></li><li><strong>å±€é™æ€§</strong>ï¼š   <ul><li>ä¾èµ–æ­£æ€åˆ†å¸ƒå‡è®¾ï¼Œè‹¥å®é™…æ•°æ®åˆ†å¸ƒåç¦»è¾ƒå¤§å¯èƒ½å¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚   </li><li>åæ–¹å·®çŸ©é˜µå¯èƒ½å› æ ·æœ¬ä¸è¶³è€Œå¥‡å¼‚ï¼Œéœ€æ­£åˆ™åŒ–å¤„ç† ã€‚</li></ul></li></ul><h3 id="2-æ”¹è¿›æ–¹å‘"><a href="#2-æ”¹è¿›æ–¹å‘" class="headerlink" title="2. æ”¹è¿›æ–¹å‘"></a>2. æ”¹è¿›æ–¹å‘</h3><ul><li><strong>éå‚æ•°åŒ–æ–¹æ³•</strong>ï¼šä½¿ç”¨æ ¸å¯†åº¦ä¼°è®¡æ›¿ä»£æ­£æ€åˆ†å¸ƒå‡è®¾ã€‚   </li><li><strong>æ­£åˆ™åŒ–æŠ€æœ¯</strong>ï¼šåœ¨åæ–¹å·®çŸ©é˜µä¸­åŠ å…¥å¾®å°æ‰°åŠ¨ï¼ˆå¦‚ <code>class\_cov += 1e-6 \* np.eye(dim)</code>ï¼‰é˜²æ­¢å¥‡å¼‚ ã€‚</li></ul><blockquote><p>å®Œæ•´ä»£ç ä»“åº“ï¼š[GitHubé“¾æ¥]   </p></blockquote><h1 id="ğŸƒ-æœ´ç´ è´å¶æ–¯å®ç°å†³ç­–åˆ†ç±»"><a href="#ğŸƒ-æœ´ç´ è´å¶æ–¯å®ç°å†³ç­–åˆ†ç±»" class="headerlink" title="ğŸƒ æœ´ç´ è´å¶æ–¯å®ç°å†³ç­–åˆ†ç±»"></a>ğŸƒ æœ´ç´ è´å¶æ–¯å®ç°å†³ç­–åˆ†ç±»</h1><h3 id="1-å¯¼å…¥åº“"><a href="#1-å¯¼å…¥åº“" class="headerlink" title="1. å¯¼å…¥åº“"></a>1. å¯¼å…¥åº“</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.datasets import make_classification </span><br><span class="line">import matplotlib.pyplot as plt </span><br><span class="line">import numpy as np </span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>ä½œç”¨</strong>ï¼šå¯¼å…¥æ‰€éœ€çš„åº“ã€‚   <ul><li><code>make\_classification</code>ï¼šç”¨äºç”Ÿæˆåˆæˆçš„åˆ†ç±»æ•°æ®é›† ã€‚   </li><li><code>matplotlib.pyplot</code>ï¼šç”¨äºå¯è§†åŒ–ç»“æœã€‚   </li><li><code>numpy</code>ï¼šè¿›è¡Œæ•°å€¼è®¡ç®—ã€‚</li></ul></li></ul><hr><h3 id="2-å®šä¹‰é«˜æ–¯æ¦‚ç‡å¯†åº¦å‡½æ•°"><a href="#2-å®šä¹‰é«˜æ–¯æ¦‚ç‡å¯†åº¦å‡½æ•°" class="headerlink" title="2. å®šä¹‰é«˜æ–¯æ¦‚ç‡å¯†åº¦å‡½æ•°"></a>2. å®šä¹‰é«˜æ–¯æ¦‚ç‡å¯†åº¦å‡½æ•°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def gaussian_pdf(x, mean, std_dev): </span><br><span class="line">    return (1 / (np.sqrt(2 * np.pi) * std_dev)) * np.exp(-0.5 * ((x - mean) / std_dev)**2) </span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šè®¡ç®—å•ä¸ªç‰¹å¾å€¼åœ¨é«˜æ–¯åˆ†å¸ƒä¸‹çš„æ¦‚ç‡å¯†åº¦ã€‚   </li><li><strong>å…¬å¼è§£é‡Š</strong>ï¼š</li></ul><p>é«˜æ–¯åˆ†å¸ƒï¼ˆæ­£æ€åˆ†å¸ƒï¼‰çš„æ¦‚ç‡å¯†åº¦å‡½æ•°å…¬å¼ä¸ºï¼š<br>$$<br>f(x) &#x3D; \frac{1}{\sqrt{2\pi}\sigma} e^{-\frac{(x-\mu)^2}{2\sigma^2}}<br>$$<br>å…¶ä¸­ <code>mean</code> æ˜¯å‡å€¼ $ \mu $ï¼Œ<code>std\_dev</code> æ˜¯æ ‡å‡†å·® $ \sigma $ã€‚   </p><ul><li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šåœ¨æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ä¸­ï¼Œå‡è®¾æ¯ä¸ªç‰¹å¾åœ¨ç»™å®šç±»åˆ«ä¸‹æœä»é«˜æ–¯åˆ†å¸ƒã€‚</li></ul><hr><h3 id="3-è‡ªå®šä¹‰æ•°æ®é›†åˆ’åˆ†å‡½æ•°"><a href="#3-è‡ªå®šä¹‰æ•°æ®é›†åˆ’åˆ†å‡½æ•°" class="headerlink" title="3. è‡ªå®šä¹‰æ•°æ®é›†åˆ’åˆ†å‡½æ•°"></a>3. è‡ªå®šä¹‰æ•°æ®é›†åˆ’åˆ†å‡½æ•°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def train_test_split(X, y, test_size=0.2, random_state=None): </span><br><span class="line">    if random_state is not None: </span><br><span class="line">        np.random.seed(random_state)    </span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šå°†æ•°æ®é›†åˆ’åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚   </li><li><strong>å‚æ•°è¯´æ˜</strong>ï¼š   <ul><li><code>X</code>ï¼šç‰¹å¾æ•°æ®ã€‚   </li><li><code>y</code>ï¼šç›®æ ‡æ ‡ç­¾ã€‚   </li><li><code>test\_size</code>ï¼šæµ‹è¯•é›†æ¯”ä¾‹ï¼ˆé»˜è®¤ 20%ï¼‰ã€‚   </li><li><code>random\_state</code>ï¼šéšæœºç§å­ï¼Œç¡®ä¿ç»“æœå¯å¤ç° ã€‚</li></ul></li><li><strong>å®ç°é€»è¾‘</strong>ï¼š   <ul><li>ä½¿ç”¨ <code>np.random.permutation</code> æ‰“ä¹±æ•°æ®ç´¢å¼•ã€‚   </li><li>æŒ‰æ¯”ä¾‹åˆ’åˆ†æµ‹è¯•é›†å’Œè®­ç»ƒé›†ã€‚</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">m = X.shape[0]                              # è·å–æ•°æ®é›†çš„å¤§å° </span><br><span class="line">permutation = np.random.permutation(m)      # éšæœºç”Ÿæˆæ‰“ä¹±çš„æ•°ç»„ å¯¹åº”ä¸ºæ‰“ä¹±çš„ç´¢å¼•</span><br><span class="line">test_size = int(m * test_size)              # è®¡ç®—æµ‹è¯•é›†çš„å¤§å° </span><br><span class="line">test_indices = permutation[:test_size]      # å–test_sizeä¸ªæ‰“ä¹±çš„ç´¢å¼•</span><br><span class="line">train_indices = permutation[test_size:]     # å–åé¢æ‰€æœ‰ç´¢å¼•ä½œä¸ºè®­ç»ƒé›†    </span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>å…³é”®æ­¥éª¤</strong>ï¼š   <ul><li><code>X.shape[0]</code>ï¼šè·å–æ ·æœ¬æ€»æ•°ã€‚   </li><li><code>permutation</code>ï¼šç”Ÿæˆéšæœºç´¢å¼•ã€‚   </li><li><code>test\_indices</code>ï¼šå‰ <code>test\_size</code> ä¸ªç´¢å¼•ä½œä¸ºæµ‹è¯•é›†ã€‚   </li><li><code>train\_indices</code>ï¼šå‰©ä½™ç´¢å¼•ä½œä¸ºè®­ç»ƒé›†ã€‚</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">X_train = X[train_indices] </span><br><span class="line">X_test = X[test_indices] </span><br><span class="line">y_train = y[train_indices] </span><br><span class="line">y_test = y[test_indices] </span><br><span class="line"> </span><br><span class="line">return X_train, X_test, y_train, y_test </span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>è¾“å‡º</strong>ï¼šè¿”å›åˆ’åˆ†åçš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚</li></ul><hr><h3 id="4-è´å¶æ–¯åˆ†ç±»å™¨çš„é¢„æµ‹å‡½æ•°"><a href="#4-è´å¶æ–¯åˆ†ç±»å™¨çš„é¢„æµ‹å‡½æ•°" class="headerlink" title="4. è´å¶æ–¯åˆ†ç±»å™¨çš„é¢„æµ‹å‡½æ•°"></a>4. è´å¶æ–¯åˆ†ç±»å™¨çš„é¢„æµ‹å‡½æ•°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def predict_bayes(x, means, variances, priors): </span><br><span class="line">    posteriors = [] </span><br><span class="line">    for i in range(len(means)): </span><br><span class="line">        likelihood = np.prod(gaussian_pdf(x, means[i], np.sqrt(variances[i])))      </span><br><span class="line">        posterior = likelihood * priors[i]                                          </span><br><span class="line">        posteriors.append(posterior)                                                </span><br><span class="line">    return np.argmax(posteriors) </span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šåŸºäºæœ´ç´ è´å¶æ–¯ç®—æ³•é¢„æµ‹æ ·æœ¬ç±»åˆ«ã€‚   </li><li><strong>æ­¥éª¤è§£æ</strong>ï¼š   <ol><li><strong>ä¼¼ç„¶è®¡ç®—</strong>ï¼šå¯¹æ¯ä¸ªç‰¹å¾è®¡ç®—é«˜æ–¯æ¦‚ç‡å¯†åº¦ï¼Œå¹¶é€šè¿‡ <code>np.prod</code> è¿ä¹˜å¾—åˆ°è”åˆæ¦‚ç‡ï¼ˆå‡è®¾ç‰¹å¾æ¡ä»¶ç‹¬ç«‹ï¼‰ã€‚   </li><li><strong>åéªŒæ¦‚ç‡</strong>ï¼šä¼¼ç„¶ä¹˜ä»¥å…ˆéªŒæ¦‚ç‡ <code>priors[i]</code>ã€‚   </li><li><strong>åˆ†ç±»å†³ç­–</strong>ï¼šé€‰æ‹©åéªŒæ¦‚ç‡æœ€å¤§çš„ç±»åˆ«ä½œä¸ºé¢„æµ‹ç»“æœï¼ˆ<code>np.argmax</code>ï¼‰ã€‚</li></ol></li></ul><hr><h3 id="5-ç”Ÿæˆåˆæˆæ•°æ®é›†"><a href="#5-ç”Ÿæˆåˆæˆæ•°æ®é›†" class="headerlink" title="5. ç”Ÿæˆåˆæˆæ•°æ®é›†"></a>5. ç”Ÿæˆåˆæˆæ•°æ®é›†</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">X, y = make_classification(n_samples=1500, n_features=2, </span><br><span class="line">                            n_informative=2, n_redundant=0,  </span><br><span class="line">                            n_clusters_per_class=1, random_state=6) </span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šç”Ÿæˆä¸€ä¸ªäºŒç»´äºŒåˆ†ç±»æ•°æ®é›†ã€‚   </li><li><strong>å‚æ•°è§£é‡Š</strong>ï¼š   <ul><li><code>n\_samples=1500</code>ï¼šç”Ÿæˆ 1500 ä¸ªæ ·æœ¬ã€‚   </li><li><code>n\_features=2</code>ï¼šæ¯ä¸ªæ ·æœ¬æœ‰ 2 ä¸ªç‰¹å¾ï¼ˆx1, x2ï¼‰ã€‚   </li><li><code>n\_informative=2</code>ï¼šä¸¤ä¸ªç‰¹å¾å‡ä¸ºä¿¡æ¯æ€§ç‰¹å¾ï¼ˆç”¨äºåˆ†ç±»ï¼‰ã€‚   </li><li><code>n\_redundant=0</code>ï¼šæ— å†—ä½™ç‰¹å¾ã€‚   </li><li><code>n\_clusters\_per\_class=1</code>ï¼šæ¯ä¸ªç±»åˆ«æœ‰ 1 ä¸ªèšç±»ä¸­å¿ƒã€‚   </li><li><code>random\_state=6</code>ï¼šç¡®ä¿æ•°æ®ç”Ÿæˆå¯å¤ç° ã€‚</li></ul></li></ul><hr><h3 id="6-æ•°æ®é›†åˆ’åˆ†"><a href="#6-æ•°æ®é›†åˆ’åˆ†" class="headerlink" title="6. æ•°æ®é›†åˆ’åˆ†"></a>6. æ•°æ®é›†åˆ’åˆ†</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=2)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>ä½œç”¨</strong>ï¼šå°†æ•°æ®é›†æŒ‰ 80%&#x2F;20% åˆ’åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚</li></ul><hr><h3 id="7-è®¡ç®—ç±»åˆ«å‡å€¼å’Œæ–¹å·®"><a href="#7-è®¡ç®—ç±»åˆ«å‡å€¼å’Œæ–¹å·®" class="headerlink" title="7. è®¡ç®—ç±»åˆ«å‡å€¼å’Œæ–¹å·®"></a>7. è®¡ç®—ç±»åˆ«å‡å€¼å’Œæ–¹å·®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">unique_classes = np.unique(y_train) </span><br><span class="line"></span><br><span class="line">means = []          </span><br><span class="line">variances = []      </span><br><span class="line">for i in unique_classes: </span><br><span class="line">    X_train_class_i = X_train[y_train == i]                 </span><br><span class="line">    mean_class_i = np.mean(X_train_class_i, axis=0)         </span><br><span class="line">    variance_class_i = np.var(X_train_class_i, axis=0)     </span><br><span class="line">    means.append(mean_class_i) </span><br><span class="line">    variances.append(variance_class_i) </span><br><span class="line"> </span><br><span class="line">means = np.array(means) </span><br><span class="line">variances = np.array(variances) </span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šå¯¹æ¯ä¸ªç±»åˆ«è®¡ç®—ç‰¹å¾çš„å‡å€¼å’Œæ–¹å·®ã€‚   </li><li><strong>å…³é”®ç‚¹</strong>ï¼š   <ul><li><code>np.unique(y\_train)</code>ï¼šè·å–è®­ç»ƒé›†ä¸­æ‰€æœ‰ç±»åˆ«æ ‡ç­¾ã€‚   </li><li><code>X\_train[y\_train == i]</code>ï¼šç­›é€‰å½“å‰ç±»åˆ«çš„æ ·æœ¬ã€‚   </li><li><code>np.mean</code> å’Œ <code>np.var</code>ï¼šè®¡ç®—å‡å€¼å’Œæ–¹å·®ã€‚</li></ul></li></ul><hr><h3 id="8-è®¡ç®—å…ˆéªŒæ¦‚ç‡"><a href="#8-è®¡ç®—å…ˆéªŒæ¦‚ç‡" class="headerlink" title="8. è®¡ç®—å…ˆéªŒæ¦‚ç‡"></a>8. è®¡ç®—å…ˆéªŒæ¦‚ç‡</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">priors = [np.mean(y_train == i) for i in np.unique(y_train)] </span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šè®¡ç®—æ¯ä¸ªç±»åˆ«çš„å…ˆéªŒæ¦‚ç‡ $ P(Y) $ã€‚   </li><li><strong>å®ç°åŸç†</strong>ï¼š</li></ul><h2 id="å¯¹äºå¸ƒå°”æ•°ç»„-y-train-iï¼Œnp-mean-è¿”å›-Trueï¼ˆå³ç±»åˆ«-i-çš„æ ·æœ¬ï¼‰çš„æ¯”ä¾‹ã€‚"><a href="#å¯¹äºå¸ƒå°”æ•°ç»„-y-train-iï¼Œnp-mean-è¿”å›-Trueï¼ˆå³ç±»åˆ«-i-çš„æ ·æœ¬ï¼‰çš„æ¯”ä¾‹ã€‚" class="headerlink" title="å¯¹äºå¸ƒå°”æ•°ç»„ y\_train == iï¼Œnp.mean è¿”å› Trueï¼ˆå³ç±»åˆ« i çš„æ ·æœ¬ï¼‰çš„æ¯”ä¾‹ã€‚   "></a>å¯¹äºå¸ƒå°”æ•°ç»„ <code>y\_train == i</code>ï¼Œ<code>np.mean</code> è¿”å› <code>True</code>ï¼ˆå³ç±»åˆ« i çš„æ ·æœ¬ï¼‰çš„æ¯”ä¾‹ã€‚   </h2><h3 id="9-é¢„æµ‹ä¸è¯„ä¼°"><a href="#9-é¢„æµ‹ä¸è¯„ä¼°" class="headerlink" title="9. é¢„æµ‹ä¸è¯„ä¼°"></a>9. é¢„æµ‹ä¸è¯„ä¼°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">y_pred = [predict_bayes(x, means, variances, priors) for x in X_test] </span><br><span class="line">correct = np.sum(y_pred == y_test) / len(y_test)                            </span><br><span class="line">print(&quot;Accuracy: &#123;:.2f&#125;%&quot;.format(correct * 100)) </span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼š   <ul><li>å¯¹æµ‹è¯•é›†é€æ ·æœ¬é¢„æµ‹ç±»åˆ«ã€‚   </li><li>è®¡ç®—å‡†ç¡®ç‡ï¼šé¢„æµ‹æ­£ç¡®çš„æ ·æœ¬æ•°å æ€»æ ·æœ¬æ•°çš„æ¯”ä¾‹ã€‚</li></ul></li></ul><hr><h3 id="10-å¯è§†åŒ–ç»“æœ"><a href="#10-å¯è§†åŒ–ç»“æœ" class="headerlink" title="10. å¯è§†åŒ–ç»“æœ"></a>10. å¯è§†åŒ–ç»“æœ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(16, 8))</span><br><span class="line">scatter_true = plt.scatter(X_test[:, 0], X_test[:, 1], c=y_test,  </span><br><span class="line">                           s=30, cmap=&#x27;coolwarm&#x27;,label=&#x27;True class&#x27;) </span><br><span class="line">scatter_pred = plt.scatter(X_test[:, 0], X_test[:, 1], s=30,  </span><br><span class="line">                           facecolors=&#x27;none&#x27;,  </span><br><span class="line">                           edgecolors=np.array([&#x27;b&#x27;, &#x27;r&#x27;])[y_pred], </span><br><span class="line">                           label = &#x27;Predicted class&#x27;) </span><br><span class="line">plt.legend(handles=[scatter_true, scatter_pred]) </span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šå¯è§†åŒ–æµ‹è¯•é›†çš„çœŸå®æ ‡ç­¾å’Œé¢„æµ‹ç»“æœã€‚   </li><li><strong>å›¾å½¢è¯´æ˜</strong>ï¼š   <ul><li><code>c=y\_test</code>ï¼šé¢œè‰²è¡¨ç¤ºçœŸå®ç±»åˆ«ï¼ˆçº¢&#x2F;è“ï¼‰ã€‚   </li><li><code>edgecolors=np.array([&#39;b&#39;, &#39;r&#39;])[y\_pred]</code>ï¼šè¾¹ç¼˜é¢œè‰²è¡¨ç¤ºé¢„æµ‹ç±»åˆ«ã€‚   </li><li><code>facecolors=&#39;none&#39;</code>ï¼šä»…æ˜¾ç¤ºè¾¹ç¼˜ï¼Œä¾¿äºå¯¹æ¯”é¢„æµ‹ä¸çœŸå®æ ‡ç­¾ã€‚</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250524_03.png" alt="Accuracy&#x3D;95%"> </p><hr><h3 id="å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“"></a>å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“</h3><ol><li><strong>æœ´ç´ è´å¶æ–¯å‡è®¾</strong>ï¼šç‰¹å¾ä¹‹é—´æ¡ä»¶ç‹¬ç«‹ï¼Œé€šè¿‡è¿ä¹˜è®¡ç®—è”åˆæ¦‚ç‡ ã€‚   </li><li><strong>é«˜æ–¯åˆ†å¸ƒå»ºæ¨¡</strong>ï¼šå‡è®¾æ¯ä¸ªç‰¹å¾åœ¨ç»™å®šç±»åˆ«ä¸‹æœä»æ­£æ€åˆ†å¸ƒã€‚   </li><li><strong>å…ˆéªŒæ¦‚ç‡ä¼°è®¡</strong>ï¼šé€šè¿‡è®­ç»ƒé›†ä¸­ç±»åˆ«çš„é¢‘ç‡è®¡ç®— $ P(Y) $ã€‚   </li><li><strong>å†³ç­–è§„åˆ™</strong>ï¼šæœ€å¤§åŒ–åéªŒæ¦‚ç‡ $ P(Y|X) \propto P(X|Y)P(Y) $ã€‚</li></ol><hr><h1 id="æ ¸å‡½æ•°ä¼°è®¡æ¦‚ç‡å¯†åº¦å‡½æ•°çš„æœ´ç´ è´å¶æ–¯"><a href="#æ ¸å‡½æ•°ä¼°è®¡æ¦‚ç‡å¯†åº¦å‡½æ•°çš„æœ´ç´ è´å¶æ–¯" class="headerlink" title="æ ¸å‡½æ•°ä¼°è®¡æ¦‚ç‡å¯†åº¦å‡½æ•°çš„æœ´ç´ è´å¶æ–¯"></a>æ ¸å‡½æ•°ä¼°è®¡æ¦‚ç‡å¯†åº¦å‡½æ•°çš„æœ´ç´ è´å¶æ–¯</h1><h3 id="1-predict-bayes-å‡½æ•°ï¼šåŸºäºæŸå¤±çŸ©é˜µçš„è´å¶æ–¯å†³ç­–"><a href="#1-predict-bayes-å‡½æ•°ï¼šåŸºäºæŸå¤±çŸ©é˜µçš„è´å¶æ–¯å†³ç­–" class="headerlink" title="1. predict_bayes å‡½æ•°ï¼šåŸºäºæŸå¤±çŸ©é˜µçš„è´å¶æ–¯å†³ç­–"></a>1. predict_bayes å‡½æ•°ï¼šåŸºäºæŸå¤±çŸ©é˜µçš„è´å¶æ–¯å†³ç­–</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def predict_bayes(x, parzen_estimations, priors, loss_matrix): </span><br><span class="line">    expected_losses = []                                        # åˆå§‹åŒ–æœŸæœ›æŸå¤±åˆ—è¡¨ </span><br><span class="line">    for j in range(len(parzen_estimations)): </span><br><span class="line">        expected_loss = 0                                       # åˆå§‹åŒ–æœŸæœ›æŸå¤± </span><br><span class="line">        for i in range(len(parzen_estimations)): </span><br><span class="line">            posterior = priors[i] * parzen_estimations[i]       # è®¡ç®—åéªŒæ¦‚ç‡     </span><br><span class="line">            expected_loss += loss_matrix[i][j] * posterior      # è®¡ç®—æœŸæœ›æŸå¤± </span><br><span class="line">        expected_losses.append(expected_loss)                   # å°†æœŸæœ›æŸå¤±æ·»åŠ åˆ°åˆ—è¡¨ä¸­ </span><br><span class="line">    return np.argmin(expected_losses, axis=0)                   # è¿”å›æœŸæœ›æŸå¤±æœ€å°çš„ç±»åˆ«ä½œä¸ºé¢„æµ‹ç»“æœ</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šæ ¹æ®<strong>æœŸæœ›æŸå¤±æœ€å°åŒ–</strong>åŸåˆ™ï¼Œå°†è¾“å…¥æ ·æœ¬ <code>x</code> åˆ†ç±»åˆ°æŸä¸ªç±»åˆ«ã€‚   </li><li><strong>å…³é”®æ­¥éª¤è§£æ</strong>ï¼š   <ol><li><strong>åéªŒæ¦‚ç‡è®¡ç®—</strong>ï¼š    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">posterior = priors[i] * parzen_estimations[i]</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>å…¬å¼</strong>ï¼š</li></ul></li></ol><ul><li><strong>ç†è®ºä¾æ®</strong>ï¼šè´å¶æ–¯å®šç† $ P(Y|X) &#x3D; \frac{P(Y) \cdot P(X|Y)}{P(X)} $ï¼Œåˆ†æ¯ $ P(X) $ å¯¹æ‰€æœ‰ç±»åˆ«ç›¸åŒï¼Œå¯å¿½ç•¥ ã€‚</li></ul></li></ul><ol><li><strong>æœŸæœ›æŸå¤±è®¡ç®—</strong>ï¼š    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expected_loss += loss_matrix[i][j] * posterior</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>å…¬å¼</strong>ï¼š</li></ul></li></ol><ul><li><strong>ç†è®ºä¾æ®</strong>ï¼šè´å¶æ–¯å†³ç­–çš„ç›®æ ‡æ˜¯æœ€å°åŒ–<strong>æ¡ä»¶é£é™©</strong>ï¼ˆå³æœŸæœ›æŸå¤±ï¼‰ï¼Œè€Œéå•çº¯æœ€å¤§åŒ–åéªŒæ¦‚ç‡ ã€‚</li></ul><ol start="2"><li><strong>å†³ç­–è§„åˆ™</strong>ï¼š    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">return np.argmin(expected_losses, axis=0)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>è§£é‡Š</strong>ï¼šé€‰æ‹©æœŸæœ›æŸå¤±æœ€å°çš„ç±»åˆ« <code>j</code> ä½œä¸ºé¢„æµ‹ç»“æœï¼Œè€Œéç›´æ¥é€‰æ‹©åéªŒæ¦‚ç‡æœ€å¤§çš„ç±»åˆ«ã€‚   </li><li><strong>å¯¹æ¯”æ™®é€šè´å¶æ–¯</strong>ï¼šæ™®é€šæœ´ç´ è´å¶æ–¯ä»…æ¯”è¾ƒåéªŒæ¦‚ç‡ï¼ˆå³æŸå¤±çŸ©é˜µä¸ºå•ä½çŸ©é˜µæ—¶çš„æƒ…å†µï¼‰ï¼Œè€Œæ­¤ä»£ç é€šè¿‡è‡ªå®šä¹‰ <code>loss\_matrix</code> å®ç°<strong>é£é™©æ•æ„Ÿå†³ç­–</strong> ã€‚</li></ul></li></ol><hr><h3 id="2-Parzençª—å£ä¼°è®¡ï¼šéå‚æ•°æ¦‚ç‡å¯†åº¦ä¼°è®¡"><a href="#2-Parzençª—å£ä¼°è®¡ï¼šéå‚æ•°æ¦‚ç‡å¯†åº¦ä¼°è®¡" class="headerlink" title="2. Parzençª—å£ä¼°è®¡ï¼šéå‚æ•°æ¦‚ç‡å¯†åº¦ä¼°è®¡"></a>2. Parzençª—å£ä¼°è®¡ï¼šéå‚æ•°æ¦‚ç‡å¯†åº¦ä¼°è®¡</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def parzen_window_estimation(x, data, h=1, window_func=squ_window): </span><br><span class="line">    N, d = data.shape                           # è·å–æ•°æ®çš„æ•°é‡å’Œç»´åº¦</span><br><span class="line">    k_n = window_func(cdist(x, data) / h)       # è®¡ç®—æ¯ä¸ªæ ·æœ¬åˆ°xçš„è·ç¦»å¹¶åº”ç”¨çª—å£å‡½æ•°é™åˆ¶æƒé‡</span><br><span class="line">    return np.sum(k_n, axis=1) / (N * h**d)     # è¿”å›Parzençª—å£ä¼°è®¡çš„ç»“æœ shape=[N, ] hæ˜¯çª—å¤§å°</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šé€šè¿‡Parzençª—å£æ³•ä¼°è®¡æ ·æœ¬ <code>x</code> çš„æ¦‚ç‡å¯†åº¦ã€‚   </li><li><strong>å…³é”®æ­¥éª¤è§£æ</strong>ï¼š   <ol><li><strong>è·ç¦»è®¡ç®—</strong>ï¼š    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cdist(x, data) / h</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>ä½œç”¨</strong>ï¼šè®¡ç®—æµ‹è¯•æ ·æœ¬ <code>x</code> ä¸æ‰€æœ‰è®­ç»ƒæ ·æœ¬ <code>data</code> çš„æ¬§æ°è·ç¦»ï¼Œå¹¶é™¤ä»¥å¸¦å®½ <code>h</code> è¿›è¡Œå½’ä¸€åŒ–ã€‚   </li><li><strong>ç†è®ºä¾æ®</strong>ï¼šParzençª—å£æ˜¯ä¸€ç§éå‚æ•°å¯†åº¦ä¼°è®¡æ–¹æ³•ï¼Œé€šè¿‡æ ¸å‡½æ•°ï¼ˆçª—å£å‡½æ•°ï¼‰åŠ æƒé‚»åŸŸå†…çš„æ ·æœ¬ç‚¹ ã€‚</li></ul></li><li><strong>çª—å£å‡½æ•°åº”ç”¨</strong>ï¼š    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window_func(...)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>çª—å£å‡½æ•°ç±»å‹</strong>ï¼š   <ul><li><strong>æ–¹çª—</strong>ï¼ˆ<code>squ\_window</code>ï¼‰ï¼šä»…ç»Ÿè®¡è·ç¦»åœ¨ <code>[-h/2, h/2]</code> å†…çš„æ ·æœ¬ã€‚   </li><li><strong>æ­£æ€çª—</strong>ï¼ˆ<code>nor\_window</code>ï¼‰ï¼šä½¿ç”¨é«˜æ–¯åˆ†å¸ƒæƒé‡ï¼ˆæƒé‡éšè·ç¦»æŒ‡æ•°è¡°å‡ï¼‰ã€‚   </li><li><strong>æŒ‡æ•°çª—</strong>ï¼ˆ<code>exp\_window</code>ï¼‰ï¼šæƒé‡éšè·ç¦»çº¿æ€§è¡°å‡ã€‚   </li><li><strong>ä¸‰è§’çª—</strong>ï¼ˆ<code>tri\_window</code>ï¼‰ï¼šæƒé‡éšè·ç¦»çº¿æ€§è¡°å‡è‡³é›¶ã€‚</li></ul></li><li><strong>ç†è®ºä¾æ®</strong>ï¼šä¸åŒçª—å£å‡½æ•°å¯¹å¯†åº¦ä¼°è®¡çš„å¹³æ»‘æ€§æœ‰å½±å“ï¼Œæ­£æ€çª—é€‚åˆè¿ç»­åˆ†å¸ƒï¼Œæ–¹çª—é€‚åˆç¦»æ•£åˆ†å¸ƒ ã€‚</li></ul></li><li><strong>å¯†åº¦ä¼°è®¡å€¼</strong>ï¼š    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.sum(...) / (N * h**d)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>å…¬å¼</strong>ï¼š</li></ul></li></ol><ul><li><strong>ç†è®ºä¾æ®</strong>ï¼šParzençª—å£é€šè¿‡æ ¸å¯†åº¦ä¼°è®¡é€¼è¿‘çœŸå®åˆ†å¸ƒï¼Œæ— éœ€å‡è®¾æ•°æ®æœä»ç‰¹å®šåˆ†å¸ƒ ã€‚</li></ul></li></ul><hr><h3 id="3-ä»£ç æ•´ä½“æµç¨‹ä¸è´å¶æ–¯å†³ç­–çš„å…³ç³»"><a href="#3-ä»£ç æ•´ä½“æµç¨‹ä¸è´å¶æ–¯å†³ç­–çš„å…³ç³»" class="headerlink" title="3. ä»£ç æ•´ä½“æµç¨‹ä¸è´å¶æ–¯å†³ç­–çš„å…³ç³»"></a>3. ä»£ç æ•´ä½“æµç¨‹ä¸è´å¶æ–¯å†³ç­–çš„å…³ç³»</h3><ol><li><strong>è®­ç»ƒé˜¶æ®µ</strong>ï¼š   <ul><li>å¯¹æ¯ä¸ªç±»åˆ« <code>i</code>ï¼Œä½¿ç”¨è®­ç»ƒæ•°æ® <code>X\_train[y\_train == i]</code> è®¡ç®— Parzen çª—å£å¯†åº¦ä¼°è®¡ <code>parzen\_estimations[i]</code>ã€‚   </li><li>è®¡ç®—æ¯ä¸ªç±»åˆ«çš„å…ˆéªŒæ¦‚ç‡ <code>priors[i] = P(Y=i)</code>ã€‚</li></ul></li><li><strong>é¢„æµ‹é˜¶æ®µ</strong>ï¼š   <ul><li>å¯¹æ¯ä¸ªæµ‹è¯•æ ·æœ¬ <code>x</code>ï¼š   <ul><li>ä½¿ç”¨ Parzen çª—å£æ³•è®¡ç®—å…¶åœ¨æ¯ä¸ªç±»åˆ«ä¸‹çš„æ¦‚ç‡å¯†åº¦ <code>parzen\_estimations</code>ã€‚   </li><li>ç»“åˆå…ˆéªŒæ¦‚ç‡å’ŒæŸå¤±çŸ©é˜µï¼Œè®¡ç®—æ¯ä¸ªå¯èƒ½å†³ç­–çš„æœŸæœ›æŸå¤±ã€‚   </li><li>é€‰æ‹©æœŸæœ›æŸå¤±æœ€å°çš„ç±»åˆ«ä½œä¸ºé¢„æµ‹ç»“æœã€‚</li></ul></li></ul></li><li><strong>ä¸æ™®é€šæœ´ç´ è´å¶æ–¯çš„åŒºåˆ«</strong>ï¼š   <ul><li><strong>æ™®é€šæœ´ç´ è´å¶æ–¯</strong>ï¼šå‡è®¾ç‰¹å¾æœä»ç‰¹å®šåˆ†å¸ƒï¼ˆå¦‚é«˜æ–¯åˆ†å¸ƒï¼‰ï¼Œä¸”ç‰¹å¾æ¡ä»¶ç‹¬ç«‹ï¼Œç›´æ¥è®¡ç®—åéªŒæ¦‚ç‡ã€‚   </li><li><strong>æœ¬ä»£ç å®ç°</strong>ï¼š   <ul><li>ä½¿ç”¨éå‚æ•°æ–¹æ³•ï¼ˆParzençª—å£ï¼‰ä¼°è®¡æ¦‚ç‡å¯†åº¦ï¼Œæ— éœ€å‡è®¾åˆ†å¸ƒå½¢å¼ã€‚   </li><li>å¼•å…¥æŸå¤±çŸ©é˜µï¼Œå…è®¸è‡ªå®šä¹‰è¯¯åˆ†ç±»ä»£ä»·ï¼ˆå¦‚åŒ»ç–—è¯Šæ–­ä¸­è¯¯è¯Šç™Œç—‡çš„ä»£ä»·æ›´é«˜ï¼‰ã€‚</li></ul></li></ul></li></ol><hr><h3 id="4-å…³é”®å‚æ•°çš„ä½œç”¨"><a href="#4-å…³é”®å‚æ•°çš„ä½œç”¨" class="headerlink" title="4. å…³é”®å‚æ•°çš„ä½œç”¨"></a>4. å…³é”®å‚æ•°çš„ä½œç”¨</h3><ul><li>å¸¦å®½ <code>**h**</code>ï¼š   <ul><li><code>h</code> è¶Šå¤§ï¼Œå¯†åº¦ä¼°è®¡è¶Šå¹³æ»‘ï¼ˆå¯èƒ½æ¬ æ‹Ÿåˆï¼‰ï¼Œ<code>h</code> è¶Šå°ï¼Œå¯†åº¦ä¼°è®¡è¶Šå°–é”ï¼ˆå¯èƒ½è¿‡æ‹Ÿåˆï¼‰ã€‚</li></ul></li><li><strong>çª—å£å‡½æ•°</strong>ï¼š   <ul><li>æ–¹çª—ï¼ˆ<code>squ\_window</code>ï¼‰é€‚åˆç¦»æ•£åˆ†å¸ƒï¼Œæ­£æ€çª—ï¼ˆ<code>nor\_window</code>ï¼‰é€‚åˆè¿ç»­åˆ†å¸ƒã€‚</li></ul></li><li>æŸå¤±çŸ©é˜µ <code>**loss\_matrix**</code>ï¼š   <ul><li>å•ä½çŸ©é˜µï¼ˆ<code>[[0,1],[1,0]]</code>ï¼‰å¯¹åº”æœ€å°é”™è¯¯ç‡å†³ç­–ï¼Œéå•ä½çŸ©é˜µå¯¹åº”æœ€å°é£é™©å†³ç­– ã€‚</li></ul></li></ul><hr><h3 id="5-ç¤ºä¾‹è¯´æ˜"><a href="#5-ç¤ºä¾‹è¯´æ˜" class="headerlink" title="5. ç¤ºä¾‹è¯´æ˜"></a>5. ç¤ºä¾‹è¯´æ˜</h3><p>å‡è®¾ <code>loss\_matrix = [[0, 2], [1, 0]]</code>ï¼š   </p><ul><li>å°†å®é™…ç±»åˆ«ä¸º 0 çš„æ ·æœ¬è¯¯åˆ¤ä¸º 1 çš„ä»£ä»·æ˜¯ 2ï¼Œè€Œå°†å®é™…ç±»åˆ«ä¸º 1 çš„æ ·æœ¬è¯¯åˆ¤ä¸º 0 çš„ä»£ä»·æ˜¯ 1ã€‚   </li><li>åˆ†ç±»å™¨ä¼šæ›´å€¾å‘äºé¿å…å°†ç±»åˆ« 0 è¯¯åˆ¤ä¸º 1ï¼Œä»è€Œåœ¨ä»£ä»·æ•æ„Ÿåœºæ™¯ä¸‹ä¼˜åŒ–å†³ç­– ã€‚</li></ul><hr><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šé€šè¿‡éå‚æ•°å¯†åº¦ä¼°è®¡ï¼ˆParzençª—å£ï¼‰å’Œé£é™©æœ€å°åŒ–ï¼ˆæŸå¤±çŸ©é˜µï¼‰å®ç°çµæ´»çš„è´å¶æ–¯å†³ç­–ã€‚   </li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š   <ul><li>æ•°æ®åˆ†å¸ƒæœªçŸ¥æˆ–éé«˜æ–¯åˆ†å¸ƒã€‚   </li><li>ä¸åŒç±»åˆ«çš„è¯¯åˆ†ç±»ä»£ä»·ä¸ä¸€è‡´ï¼ˆå¦‚åŒ»ç–—ã€é‡‘èé£æ§ï¼‰ã€‚</li></ul></li><li><strong>æ”¹è¿›æ–¹å‘</strong>ï¼š   <ul><li>ä½¿ç”¨äº¤å‰éªŒè¯é€‰æ‹©æœ€ä¼˜å¸¦å®½ <code>h</code>ã€‚   </li><li>æ›¿æ¢æ›´å¤æ‚çš„æ ¸å‡½æ•°ï¼ˆå¦‚é«˜æ–¯æ··åˆæ ¸ï¼‰ã€‚</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250524_01.png" alt="Accuracy&#x3D;97%"></p><p>â¡ï¸ é€šè¿‡åŠ çª—ä»¥åŠæŸå¤±çŸ©é˜µè¡¥å¿é”™è¯¯åˆ¤æ–­ï¼Œå¯ä»¥å‘ç°å¯¹äºåŒä¸€ä¸ªæ•°æ®åœ¨åˆ†ç±»çš„æ­£ç¡®æ€§ä¸Šæœ‰ä¸€å®šçš„å¢å¼ºï¼›   </p>]]></content>
      
      
      <categories>
          
          <category> AI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ML </tag>
            
            <tag> Python </tag>
            
            <tag> Deep Learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MQTT+LuatOSå­¦ä¹ æ—¥å¿—</title>
      <link href="/2025/05/23/study/How_use_mqtt_in_LuatOS/"/>
      <url>/2025/05/23/study/How_use_mqtt_in_LuatOS/</url>
      
        <content type="html"><![CDATA[<h2 id="MQTTåŸºç¡€æ¦‚å¿µï¼š"><a href="#MQTTåŸºç¡€æ¦‚å¿µï¼š" class="headerlink" title="MQTTåŸºç¡€æ¦‚å¿µï¼š"></a>MQTTåŸºç¡€æ¦‚å¿µï¼š</h2><h2 id="MQTTæ˜¯ä¸€ç§é€šä¿¡æ¶æ„ï¼›MQTTæ˜¯ä¸€ä¸ªä¸€å¯¹å¤šçš„é€šä¿¡æ¶æ„ï¼Œä¸€ä¸ªæœåŠ¡ç«¯ï¼ˆBrokerï¼‰å¯ä»¥æœ‰å¤šä¸ªå®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼›"><a href="#MQTTæ˜¯ä¸€ç§é€šä¿¡æ¶æ„ï¼›MQTTæ˜¯ä¸€ä¸ªä¸€å¯¹å¤šçš„é€šä¿¡æ¶æ„ï¼Œä¸€ä¸ªæœåŠ¡ç«¯ï¼ˆBrokerï¼‰å¯ä»¥æœ‰å¤šä¸ªå®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼›" class="headerlink" title="MQTTæ˜¯ä¸€ç§é€šä¿¡æ¶æ„ï¼›MQTTæ˜¯ä¸€ä¸ªä¸€å¯¹å¤šçš„é€šä¿¡æ¶æ„ï¼Œä¸€ä¸ªæœåŠ¡ç«¯ï¼ˆBrokerï¼‰å¯ä»¥æœ‰å¤šä¸ªå®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼›   "></a>MQTTæ˜¯ä¸€ç§é€šä¿¡æ¶æ„ï¼›<br>MQTTæ˜¯ä¸€ä¸ªä¸€å¯¹å¤šçš„é€šä¿¡æ¶æ„ï¼Œä¸€ä¸ªæœåŠ¡ç«¯ï¼ˆBrokerï¼‰å¯ä»¥æœ‰å¤šä¸ªå®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼›   </h2><p>MQTTä¸­æœ‰ä¸‰ä¸ªæ¦‚å¿µï¼š   </p><ol><li>ä¸»é¢˜ï¼ˆTopicï¼‰   </li><li>å‘å¸ƒï¼ˆPublishï¼‰   </li><li>è®¢é˜…ï¼ˆSubscribeï¼‰</li></ol><p>ä¸»é¢˜æ˜¯ä¸€ç§å¯»å€æ–¹å¼ï¼Œç±»ä¼¼äºWindowçš„æ–‡ä»¶å¤¹å¤šçº§ç›®å½•<br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_2.png" alt="Topic"></p><h2 id="ä¾‹å¦‚-factory-line1-machine3-temperature-ç­‰ç­‰ï¼Œä¸åŒçš„TopicæŒ‡å‘ä¸åŒçš„å†…å®¹ä»¥åŠç±»åˆ«ï¼›"><a href="#ä¾‹å¦‚-factory-line1-machine3-temperature-ç­‰ç­‰ï¼Œä¸åŒçš„TopicæŒ‡å‘ä¸åŒçš„å†…å®¹ä»¥åŠç±»åˆ«ï¼›" class="headerlink" title="ä¾‹å¦‚ factory/line1/machine3/temperature ç­‰ç­‰ï¼Œä¸åŒçš„TopicæŒ‡å‘ä¸åŒçš„å†…å®¹ä»¥åŠç±»åˆ«ï¼›   "></a>ä¾‹å¦‚ <code>factory/line1/machine3/temperature</code> ç­‰ç­‰ï¼Œä¸åŒçš„TopicæŒ‡å‘ä¸åŒçš„å†…å®¹ä»¥åŠç±»åˆ«ï¼›   </h2><p>å®¢æˆ·ç«¯Clientå¯ä»¥å³ä½œä¸ºå‘å¸ƒçš„æ¥æºä¹Ÿå¯ä»¥è®¢é˜…å‘å¸ƒçš„å†…å®¹ï¼›<br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_b.png" alt="Client"></p><h2 id="è€ŒBrokerä½œä¸ºä¿¡æ¯çš„ä¸­è½¬ç«™ï¼Œæ¥æ”¶å‘å¸ƒçš„ä¿¡æ¯å¹¶æ¨é€ç»™è®¢é˜…çš„ç”¨æˆ·ç«¯ï¼›"><a href="#è€ŒBrokerä½œä¸ºä¿¡æ¯çš„ä¸­è½¬ç«™ï¼Œæ¥æ”¶å‘å¸ƒçš„ä¿¡æ¯å¹¶æ¨é€ç»™è®¢é˜…çš„ç”¨æˆ·ç«¯ï¼›" class="headerlink" title="è€ŒBrokerä½œä¸ºä¿¡æ¯çš„ä¸­è½¬ç«™ï¼Œæ¥æ”¶å‘å¸ƒçš„ä¿¡æ¯å¹¶æ¨é€ç»™è®¢é˜…çš„ç”¨æˆ·ç«¯ï¼›   "></a>è€ŒBrokerä½œä¸ºä¿¡æ¯çš„ä¸­è½¬ç«™ï¼Œæ¥æ”¶å‘å¸ƒçš„ä¿¡æ¯å¹¶æ¨é€ç»™è®¢é˜…çš„ç”¨æˆ·ç«¯ï¼›   </h2><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_j.png" alt="Broker"></p><h2 id="å‘å¸ƒè€…æ— éœ€æ‹…å¿ƒæ˜¯å¦å°†ä¿¡æ¯å‘é€ç»™äº†è®¢é˜…è€…ï¼Œå‡†ç¡®æ¥è¯´å‘å¸ƒè€…ä¸è®¢é˜…è€…ä¹‹é—´ä¸æ˜¯ç›´è¿çš„ï¼"><a href="#å‘å¸ƒè€…æ— éœ€æ‹…å¿ƒæ˜¯å¦å°†ä¿¡æ¯å‘é€ç»™äº†è®¢é˜…è€…ï¼Œå‡†ç¡®æ¥è¯´å‘å¸ƒè€…ä¸è®¢é˜…è€…ä¹‹é—´ä¸æ˜¯ç›´è¿çš„ï¼" class="headerlink" title="å‘å¸ƒè€…æ— éœ€æ‹…å¿ƒæ˜¯å¦å°†ä¿¡æ¯å‘é€ç»™äº†è®¢é˜…è€…ï¼Œå‡†ç¡®æ¥è¯´å‘å¸ƒè€…ä¸è®¢é˜…è€…ä¹‹é—´ä¸æ˜¯ç›´è¿çš„ï¼   "></a>å‘å¸ƒè€…æ— éœ€æ‹…å¿ƒæ˜¯å¦å°†ä¿¡æ¯å‘é€ç»™äº†è®¢é˜…è€…ï¼Œå‡†ç¡®æ¥è¯´å‘å¸ƒè€…ä¸è®¢é˜…è€…ä¹‹é—´ä¸æ˜¯ç›´è¿çš„ï¼   </h2><h2 id="LuatOSä¸­MQTTçš„API"><a href="#LuatOSä¸­MQTTçš„API" class="headerlink" title="LuatOSä¸­MQTTçš„API"></a>LuatOSä¸­MQTTçš„API</h2><h3 id="å¸¸é‡ï¼š"><a href="#å¸¸é‡ï¼š" class="headerlink" title="å¸¸é‡ï¼š"></a>å¸¸é‡ï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image.png" alt="const"></p><h3 id="è®¢é˜…ä¸»é¢˜ï¼š"><a href="#è®¢é˜…ä¸»é¢˜ï¼š" class="headerlink" title="è®¢é˜…ä¸»é¢˜ï¼š"></a>è®¢é˜…ä¸»é¢˜ï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_z.png" alt="subscribe"></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- è®¢é˜…å•ä¸ªtopic, ä¸”qos=0mqttc:subscribe(&quot;/luatos/123456&quot;, 0)</span></span><br><span class="line"><span class="comment">-- è®¢é˜…å•ä¸ªtopic, ä¸”qos=1mqttc:subscribe(&quot;/luatos/12345678&quot;, 1)</span></span><br><span class="line"><span class="comment">-- è®¢é˜…å¤šä¸ªtopic, ä¸”ä½¿ç”¨ä¸åŒçš„qos -&gt; &#123; , &#125;åŒºåˆ†ä¸åŒtopic</span></span><br><span class="line">mqttc:subscribe(&#123;[<span class="string">&quot;/luatos/1234567&quot;</span>]=<span class="number">1</span>,[<span class="string">&quot;/luatos/12345678&quot;</span>]=<span class="number">2</span>&#125;)</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºClientï¼š"><a href="#åˆ›å»ºClientï¼š" class="headerlink" title="åˆ›å»ºClientï¼š"></a>åˆ›å»ºClientï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_s.png" alt="Create Client"></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- æ™®é€šTCPé“¾æ¥</span></span><br><span class="line">mqttc = mqtt.<span class="built_in">create</span>(<span class="literal">nil</span>,<span class="string">&quot;120.55.137.106&quot;</span>, <span class="number">1884</span>)</span><br><span class="line"><span class="comment">-- æ™®é€šTCPé“¾æ¥,mqttæ¥æ”¶ç¼“å†²åŒº4096</span></span><br><span class="line">mqttc = mqtt.<span class="built_in">create</span>(<span class="literal">nil</span>,<span class="string">&quot;120.55.137.106&quot;</span>, <span class="number">1884</span>, <span class="literal">nil</span>, &#123;rxSize = <span class="number">4096</span>&#125;)</span><br><span class="line"><span class="comment">-- åŠ å¯†TCPé“¾æ¥,ä¸éªŒè¯æœåŠ¡å™¨è¯ä¹¦</span></span><br><span class="line">mqttc = mqtt.<span class="built_in">create</span>(<span class="literal">nil</span>,<span class="string">&quot;120.55.137.106&quot;</span>, <span class="number">8883</span>, <span class="literal">true</span>)</span><br><span class="line"><span class="comment">-- åŠ å¯†TCPTCPé“¾æ¥,å•æœåŠ¡å™¨è¯ä¹¦éªŒè¯</span></span><br><span class="line">mqttc = mqtt.<span class="built_in">create</span>(<span class="literal">nil</span>,<span class="string">&quot;120.55.137.106&quot;</span>, <span class="number">8883</span>, &#123;server_cert=<span class="built_in">io</span>.readFile(<span class="string">&quot;/luadb/ca.crt&quot;</span>)&#125;)</span><br><span class="line"><span class="comment">-- åŠ å¯†TCPTCPé“¾æ¥,å•æœåŠ¡å™¨è¯ä¹¦éªŒè¯, ä½†å¯é€‰è®¤è¯</span></span><br><span class="line">mqttc = mqtt.<span class="built_in">create</span>(<span class="literal">nil</span>,<span class="string">&quot;120.55.137.106&quot;</span>, <span class="number">8883</span>, &#123;server_cert=<span class="built_in">io</span>.readFile(<span class="string">&quot;/luadb/ca.crt&quot;</span>), verify=<span class="number">1</span>&#125;)</span><br><span class="line"><span class="comment">-- åŠ å¯†TCPTCPé“¾æ¥,åŒå‘è¯ä¹¦éªŒè¯</span></span><br><span class="line">mqttc = mqtt.<span class="built_in">create</span>(<span class="literal">nil</span>,<span class="string">&quot;120.55.137.106&quot;</span>, <span class="number">8883</span>, &#123;server_cert=<span class="built_in">io</span>.readFile(<span class="string">&quot;/luadb/ca.crt&quot;</span>),client_cert=<span class="built_in">io</span>.readFile(<span class="string">&quot;/luadb/client.pem&quot;</span>),client_key=<span class="built_in">io</span>.readFile(<span class="string">&quot;/luadb/client.key&quot;</span>),client_password=<span class="string">&quot;123456&quot;</span>,&#125;)</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°MQTTçš„é€šä¿¡åè®®ä¸ºTCPï¼Œå®˜æ–¹æ–‡æ¡£è¯´ä¸æ”¯æŒWebsocketï¼   </p><h3 id="è®¾ç½®ç™»å½•Clientçš„ä¿¡æ¯ï¼š"><a href="#è®¾ç½®ç™»å½•Clientçš„ä¿¡æ¯ï¼š" class="headerlink" title="è®¾ç½®ç™»å½•Clientçš„ä¿¡æ¯ï¼š"></a>è®¾ç½®ç™»å½•Clientçš„ä¿¡æ¯ï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_q.png" alt="auth"></p><h3 id="MQTTæœåŠ¡å™¨è¿æ¥ï¼š"><a href="#MQTTæœåŠ¡å™¨è¿æ¥ï¼š" class="headerlink" title="MQTTæœåŠ¡å™¨è¿æ¥ï¼š"></a>MQTTæœåŠ¡å™¨è¿æ¥ï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_1q.png" alt="connect"></p><h3 id="MQTTå‘å¸ƒï¼š"><a href="#MQTTå‘å¸ƒï¼š" class="headerlink" title="MQTTå‘å¸ƒï¼š"></a>MQTTå‘å¸ƒï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_r.png" alt="publish"></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--   topic         data</span></span><br><span class="line">mqttc:publish(<span class="string">&quot;/luatos/123456&quot;</span>, <span class="string">&quot;123&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="æ£€æµ‹çŠ¶æ€ï¼š"><a href="#æ£€æµ‹çŠ¶æ€ï¼š" class="headerlink" title="æ£€æµ‹çŠ¶æ€ï¼š"></a>æ£€æµ‹çŠ¶æ€ï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_m.png" alt="Check State"></p><h2 id="Luaè¯­è¨€çš„æ•´ä½“æ¡†æ¶"><a href="#Luaè¯­è¨€çš„æ•´ä½“æ¡†æ¶" class="headerlink" title="Luaè¯­è¨€çš„æ•´ä½“æ¡†æ¶"></a>Luaè¯­è¨€çš„æ•´ä½“æ¡†æ¶</h2><hr><p>åœ¨Luaä¸­ï¼Œé€šè¿‡è°ƒç”¨ <code>require(&quot;sys&quot;)</code> å®šä¹‰ä¸€ä¸ªå®ä¾‹sysï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªå®ä¾‹æ¥åˆ›å»ºç³»ç»Ÿä»»åŠ¡ï¼š<br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_h.png" alt="example"><br>å¯ä»¥åŒæ—¶åˆ›å»ºå¤šä¸ªä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡ä¹‹é—´å¹¶è¡Œè¿è¡Œï¼Œä¸”è¿è¡Œéƒ½é™åˆ¶åœ¨è‡ªå·±çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œä¿éšœä¸åŒä»»åŠ¡ä¹‹é—´ä¸ä¼šç›¸äº’å¹²æ‰°ã€‚å¦‚æœæƒ³è¦è®©ä¸åŒçš„ä»»åŠ¡ä¹‹é—´æœ‰å…ˆåæ‰§è¡Œçš„é€»è¾‘å¯ä»¥é€šè¿‡   </p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sys.publish(<span class="string">&quot;net_ready&quot;</span>, device_IMEI)</span><br><span class="line">sys.waitUntil(<span class="string">&quot;net_ready&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™ä¸¤å¥ä»£ç å®ç°ã€‚ä¸€ä¸ªç”¨äºå‘å¸ƒä¸€æ¡äº‹ä»¶ï¼Œå¦ä¸€ä¸ªç­‰å¾…è¯¥äº‹ä»¶çš„å®Œæˆï¼Œç”±æ­¤å¾—åˆ°ä¸€ä¸ªæ‰§è¡Œçš„å…ˆåé¡ºåºï¼›   </p><h2 id="MQTT-Luaè¯­è¨€ç¤ºä¾‹ä»£ç ï¼š"><a href="#MQTT-Luaè¯­è¨€ç¤ºä¾‹ä»£ç ï¼š" class="headerlink" title="MQTT+Luaè¯­è¨€ç¤ºä¾‹ä»£ç ï¼š"></a>MQTT+Luaè¯­è¨€ç¤ºä¾‹ä»£ç ï¼š</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- LuaToolséœ€è¦PROJECTå’ŒVERSIONè¿™ä¸¤ä¸ªä¿¡æ¯</span></span><br><span class="line">PROJECT = <span class="string">&quot;mqttdemo&quot;</span></span><br><span class="line">VERSION = <span class="string">&quot;1.0.0&quot;</span></span><br></pre></td></tr></table></figure><p>.luaæ–‡ä»¶çš„å¼€å¤´å¿…é¡»è¦PROJECTçš„åç§°ä»¥åŠVERSIONçš„ç‰ˆæœ¬ï¼›   </p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--æ ¹æ®è‡ªå·±çš„æœåŠ¡å™¨ä¿®æ”¹ä»¥ä¸‹å‚æ•°</span></span><br><span class="line"><span class="keyword">local</span> mqtt_host = <span class="string">&quot;lbsmqtt.airm2m.com&quot;</span></span><br><span class="line"><span class="keyword">local</span> mqtt_port = <span class="number">1884</span></span><br><span class="line"><span class="keyword">local</span> mqtt_isssl = <span class="literal">false</span></span><br><span class="line"><span class="keyword">local</span> ca_file = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å¿…é¡»è·ŸæœåŠ¡å™¨çš„é…ç½®ä¸€æ ·</span></span><br><span class="line"><span class="keyword">local</span> client_id = <span class="string">&quot;mqttx_b55c41b7&quot;</span></span><br><span class="line"><span class="keyword">local</span> user_name = <span class="string">&quot;user&quot;</span></span><br><span class="line"><span class="keyword">local</span> password = <span class="string">&quot;password&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> pub_topic = <span class="string">&quot;/luatos/pub/123&quot;</span><span class="comment">-- .. (mcu.unique_id():toHex())</span></span><br><span class="line"><span class="keyword">local</span> sub_topic = <span class="string">&quot;/luatos/sub/123&quot;</span><span class="comment">-- .. (mcu.unique_id():toHex())</span></span><br></pre></td></tr></table></figure><p>ç”¨æˆ·çš„å‚æ•°é…ç½®ï¼š<br>hostä»¥åŠportæ˜¯è‡ªå·±æœåŠ¡å™¨çš„å‚æ•°ï¼Œissslè¡¨ç¤ºæ˜¯å¦åŠ å¯†è¿æ¥ï¼›   </p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ç»“å°¾æ€»æ˜¯è¿™ä¸€å¥</span></span><br><span class="line">sys.run()</span><br><span class="line"><span class="comment">-- sys.run()ä¹‹ååé¢ä¸è¦åŠ ä»»ä½•è¯­å¥!!!!!</span></span><br></pre></td></tr></table></figure><h2 id="ç»“æŸçš„è¯­å¥ï¼Œå¯åŠ¨syså¹¶ä¸”å¾ªç¯è¿è¡Œä»»åŠ¡åˆ—è¡¨é‡Œé¢çš„ä»»åŠ¡ã€‚"><a href="#ç»“æŸçš„è¯­å¥ï¼Œå¯åŠ¨syså¹¶ä¸”å¾ªç¯è¿è¡Œä»»åŠ¡åˆ—è¡¨é‡Œé¢çš„ä»»åŠ¡ã€‚" class="headerlink" title="ç»“æŸçš„è¯­å¥ï¼Œå¯åŠ¨syså¹¶ä¸”å¾ªç¯è¿è¡Œä»»åŠ¡åˆ—è¡¨é‡Œé¢çš„ä»»åŠ¡ã€‚   "></a>ç»“æŸçš„è¯­å¥ï¼Œå¯åŠ¨syså¹¶ä¸”å¾ªç¯è¿è¡Œä»»åŠ¡åˆ—è¡¨é‡Œé¢çš„ä»»åŠ¡ã€‚   </h2><p>æ•´ä½“çš„æµç¨‹ï¼š   </p><ol><li>è®¾ç½®ä¸¤ä¸ªç³»ç»Ÿå†…éƒ¨ä»»åŠ¡ï¼Œä»»åŠ¡ä¸€ä¸ºè”ç½‘ï¼Œ4Gæ¨¡å—æä¾›SIMå¡æˆåŠŸè”ç½‘å¹¶ä¸”è¿”å›è®¾å¤‡çš„IMEIå·ï¼›   </li><li>è®¾ç½®ç¬¬äºŒä¸ªä»»åŠ¡ï¼Œå°†è®¾å¤‡çš„IMEIå·åˆ†é…ç»™Clientï¼Œå¹¶ä¸”è®¾ç½®å‘å¸ƒã€è®¢é˜…çš„ä¸»é¢˜ï¼Œç¡®ä¿ç‹¬ç«‹æ€§ï¼›   </li><li>åˆ›å»ºmqttè¿æ¥ï¼ˆä¸ä¸€å®šæ­£å¸¸è¿æ¥ä¸Šï¼‰ï¼Œä»¥è®¾å¤‡å·ä»¥åŠé¢„è®¾ç½®çš„user nameå’Œpasswordé…ç½®mqttï¼Œå¯ä»¥è®¾ç½®è‡ªåŠ¨é‡è¿ï¼›   </li><li>ç¼–å†™mqttå›è°ƒå‡½æ•°ï¼Œåœ¨mqttå›è°ƒå‡½æ•°ä¸­æ£€æµ‹äº‹ä»¶ï¼Œå½“è¿æ¥ä¸Šmqttæ—¶å°†æ•°æ®æ‰“åŒ…å¹¶ä¸”é€šè¿‡publishå‘ç»™brokerï¼›</li></ol><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">mqttc:on(<span class="function"><span class="keyword">function</span><span class="params">(mqtt_client, event, data, payload)</span></span></span><br><span class="line"><span class="built_in">log</span>.info(<span class="string">&quot;mqtt&quot;</span>, <span class="string">&quot;event&quot;</span>, event) <span class="comment">-- å¯æœ‰</span></span><br><span class="line"><span class="keyword">if</span> event == <span class="string">&quot;conack&quot;</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">-- MQTT è¿æ¥æˆåŠŸ</span></span><br><span class="line">    sys.publish(<span class="string">&quot;mqtt_conack&quot;</span>)</span><br><span class="line">    mqtt_client:subscribe(sub_topic)</span><br><span class="line"></span><br><span class="line">   <span class="comment">-- é‡‡é›†è®¾å¤‡ä¿¡æ¯</span></span><br><span class="line">   <span class="keyword">local</span> imei = mobile.imei()</span><br><span class="line">   <span class="keyword">local</span> csq = mobile.csq()            <span class="comment">-- ä¿¡å·å¼ºåº¦</span></span><br><span class="line">    <span class="keyword">local</span> voltage = mobile.getVbatt()   <span class="comment">-- ç”µæ± ç”µå‹ï¼ˆå•ä½ mVï¼‰</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">-- æ„é€  JSON æ ¼å¼çš„ payload æ•°æ®</span></span><br><span class="line">    <span class="keyword">local</span> device_data = json.encode(&#123;</span><br><span class="line">        imei = imei,</span><br><span class="line">        csq = csq,</span><br><span class="line">        voltage = voltage,</span><br><span class="line">        timestamp = <span class="built_in">os</span>.<span class="built_in">time</span>()</span><br><span class="line">   &#125;)</span><br><span class="line"></span><br><span class="line">   <span class="built_in">log</span>.info(<span class="string">&quot;mqtt&quot;</span>, <span class="string">&quot;publish data&quot;</span>, device_data)</span><br><span class="line"></span><br><span class="line">    <span class="comment">-- å‘å¸ƒæ•°æ®åˆ° topicï¼ˆå‘å¸ƒä¸€æ¬¡ï¼‰</span></span><br><span class="line">    mqtt_client:publish(pub_topic, device_data, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">-- å¯é€‰ï¼šé…ç½®ä¸€ä¸ªä¸Šç½‘æŒ‡ç¤ºç¯äº®èµ·</span></span><br><span class="line">   gpio.set(<span class="number">11</span>, <span class="number">1</span>)  <span class="comment">-- è®¾ç½® GPIO11 ä¸ºé«˜ç”µå¹³ï¼Œè¡¨ç¤ºè”ç½‘æˆåŠŸ</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸€äº›Luaè¯­è¨€çš„ç»†èŠ‚ï¼š   </p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- _G -&gt; GLOBAL VALUE</span></span><br><span class="line"><span class="built_in">_G</span>.sys = <span class="built_in">require</span>(<span class="string">&quot;sys&quot;</span>)</span><br><span class="line"><span class="built_in">_G</span>.sysplus = <span class="built_in">require</span>(<span class="string">&quot;sysplus&quot;</span>)</span><br><span class="line"><span class="built_in">_G</span>.mobile = <span class="built_in">require</span>(<span class="string">&quot;mobile&quot;</span>)</span><br><span class="line"><span class="built_in">_G</span>.uart = <span class="built_in">require</span>(<span class="string">&quot;uart&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- uart init</span></span><br><span class="line">uart.setup(</span><br><span class="line">    uart_id,</span><br><span class="line">    uart_baud,</span><br><span class="line">    uart_bitwidth,</span><br><span class="line">    uart_stopbit</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- system inner tasks</span></span><br><span class="line">sys.taskInit(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">local</span> device_id = mobile.imei() <span class="comment">-- read AIR780EG&#x27;s IMEI</span></span><br><span class="line">    <span class="comment">-- waiting for 4G connected</span></span><br><span class="line">    sys.waitUntil(<span class="string">&quot;IP_READY&quot;</span>)</span><br><span class="line"><span class="comment">-- system publish event</span></span><br><span class="line">    sys.publish(<span class="string">&quot;net_ready&quot;</span>, device_id)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„è„šæœ¬ï¼Œå…·ä½“çš„å†…å®¹å¦‚ä¸‹ï¼š   </p><ol><li>ä»»åŠ¡ä¸€ï¼šå®ç°è”ç½‘åŠŸèƒ½å¹¶åœ¨è”ç½‘åå‘å¸ƒäº‹ä»¶ï¼›   </li><li>ä»»åŠ¡äºŒï¼šç­‰å¾…è”ç½‘äº‹ä»¶ï¼Œå¹¶æ ¹æ®IMEIè®¾ç½®client-idä»¥åŠå‘å¸ƒã€è®¢é˜…ä¸»é¢˜ï¼›ä¹‹åæ ¹æ®é…ç½®åˆ›å»ºmqttè¿æ¥å¹¶å°è¯•è¿æ¥ï¼›åœ¨mqttå›è°ƒå‡½æ•°ä¸­ï¼Œå¦‚æœè¿æ¥ä¸Šäº†åˆ™é€šè¿‡ä¸²å£å‘å•ç‰‡æœºå‘é€ä¿¡æ¯ï¼Œå¹¶å‘å¸ƒmqttè¿æ¥äº‹ä»¶ï¼›   </li><li>ä»»åŠ¡ä¸‰ï¼šç­‰å¾…mqttè¿æ¥äº‹ä»¶ï¼Œä¹‹åå¼€å§‹æ¥æ”¶å•ç‰‡ä¼ å…¥çš„æ•°æ®å¹¶ä¸”å®šä½æ•°æ®ä½ç½®ï¼Œå°†æ•°æ®æ‰“åŒ…å¹¶é€šè¿‡mqttä¸Šä¼ äº‘ç«¯ï¼›</li></ol><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line">PROJECT = <span class="string">&quot;AIR780EG_DEMO&quot;</span></span><br><span class="line">VERSION = <span class="string">&quot;1.0.0&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Setup instance</span></span><br><span class="line"><span class="built_in">_G</span>.sys = <span class="built_in">require</span>(<span class="string">&quot;sys&quot;</span>)</span><br><span class="line"><span class="built_in">_G</span>.sysplus = <span class="built_in">require</span>(<span class="string">&quot;sysplus&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> wdt = <span class="built_in">require</span>(<span class="string">&quot;wdt&quot;</span>)</span><br><span class="line"><span class="keyword">local</span> <span class="built_in">log</span> = <span class="built_in">require</span>(<span class="string">&quot;log&quot;</span>)</span><br><span class="line"><span class="keyword">local</span> uart = <span class="built_in">require</span>(<span class="string">&quot;uart&quot;</span>)</span><br><span class="line"><span class="keyword">local</span> mobile = <span class="built_in">require</span>(<span class="string">&quot;mobile&quot;</span>)</span><br><span class="line"><span class="keyword">local</span> mqtt = <span class="built_in">require</span>(<span class="string">&quot;mqtt&quot;</span>)    <span class="comment">-- åŠ è½½ mqtt æ¨¡å—</span></span><br><span class="line"><span class="keyword">local</span> rtos = <span class="built_in">require</span>(<span class="string">&quot;rtos&quot;</span>)    <span class="comment">-- åŠ è½½ rtos æ¨¡å—ï¼ˆç”¨äºè¯†åˆ«å¹³å°ï¼‰</span></span><br><span class="line"><span class="keyword">local</span> pm = <span class="built_in">require</span>(<span class="string">&quot;pm&quot;</span>)        <span class="comment">-- åŠ è½½ç”µæºç®¡ç†æ¨¡å—ï¼ˆç”¨äºç”µæºé…ç½®ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> wdt <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--æ·»åŠ ç¡¬ç‹—é˜²æ­¢ç¨‹åºå¡æ­»ï¼Œåœ¨æ”¯æŒçš„è®¾å¤‡ä¸Šå¯ç”¨è¿™ä¸ªåŠŸèƒ½</span></span><br><span class="line">    wdt.init(<span class="number">9000</span>)<span class="comment">--åˆå§‹åŒ–watchdogè®¾ç½®ä¸º9s</span></span><br><span class="line">    sys.timerLoopStart(wdt.feed, <span class="number">3000</span>)<span class="comment">--3så–‚ä¸€æ¬¡ç‹—</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- uart configuration</span></span><br><span class="line"><span class="keyword">local</span> uart_id = <span class="number">1</span></span><br><span class="line"><span class="keyword">local</span> uart_baud = <span class="number">115200</span></span><br><span class="line"><span class="keyword">local</span> uart_bitwidth = <span class="number">8</span></span><br><span class="line"><span class="keyword">local</span> uart_stopbit = <span class="number">1</span></span><br><span class="line">uart.Setup(uart_id, uart_baud, uart_bitwidth, uart_stopbit)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- server configuration</span></span><br><span class="line"><span class="keyword">local</span> mqtt_host = <span class="string">&quot;lbsmqtt.airm2m.com&quot;</span></span><br><span class="line"><span class="keyword">local</span> mqtt_port = <span class="number">1884</span></span><br><span class="line"><span class="keyword">local</span> mqtt_isssl = <span class="literal">false</span></span><br><span class="line"><span class="keyword">local</span> ca_file = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- mqtt client configuration</span></span><br><span class="line"><span class="keyword">local</span> client_id = <span class="string">&quot;air780eg&quot;</span></span><br><span class="line"><span class="keyword">local</span> user_name = <span class="string">&quot;user&quot;</span></span><br><span class="line"><span class="keyword">local</span> password = <span class="string">&quot;password&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> mqttc = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">local</span> publish_topic = <span class="string">&quot;/air780eg/publish/123&quot;</span></span><br><span class="line"><span class="keyword">local</span> subscribe_topic = <span class="string">&quot;/air780eg/subscribe/123&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> IsFirstConnect = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Task list</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Air780Eçš„ATå›ºä»¶é»˜è®¤ä¼šä¸ºå¼€æœºé”®é˜²æŠ–, å¯¼è‡´éƒ¨åˆ†ç”¨æˆ·åˆ·æœºå¾ˆéº»çƒ¦</span></span><br><span class="line"><span class="keyword">if</span> rtos.bsp() == <span class="string">&quot;EC618&quot;</span> <span class="keyword">and</span> pm <span class="keyword">and</span> pm.PWK_MODE <span class="keyword">then</span></span><br><span class="line">    pm.power(pm.PWK_MODE, <span class="literal">false</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- network connect</span></span><br><span class="line">sys.taskInit(<span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">    <span class="keyword">local</span> device_IMEI = mobile.imei()   <span class="comment">-- string </span></span><br><span class="line">    sys.waitUntil(<span class="string">&quot;IP_READY&quot;</span>)</span><br><span class="line">    sys.publish(<span class="string">&quot;net_ready&quot;</span>, device_IMEI)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- mqtt connect</span></span><br><span class="line">sys.taskInit(<span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">    <span class="keyword">local</span> ret, IMEI = sys.waitUntil(<span class="string">&quot;net_ready&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> ret <span class="keyword">then</span></span><br><span class="line">        <span class="comment">-- use IMEI to set unique topic</span></span><br><span class="line">        client_id = IMEI</span><br><span class="line">        publish_topic = client_id .. <span class="string">&quot;/publish&quot;</span></span><br><span class="line">        subscribe_topic = client_id .. <span class="string">&quot;/subscribe&quot;</span></span><br><span class="line">        <span class="keyword">if</span> IsFirstConnect <span class="keyword">then</span></span><br><span class="line">            <span class="comment">-- uart transmit logger to MCU</span></span><br><span class="line">            uart.<span class="built_in">write</span>(uart_id, <span class="string">&quot;IMEI: &quot;</span> .. IMEI .. <span class="string">&quot;\r\n&quot;</span>)</span><br><span class="line">            uart.<span class="built_in">write</span>(uart_id, <span class="string">&quot;publish_topic:&quot;</span> .. publish_topic .. <span class="string">&quot;\r\n&quot;</span>)</span><br><span class="line">            uart.<span class="built_in">write</span>(uart_id, <span class="string">&quot;subscribe_topic:&quot;</span> .. subscribe_topic .. <span class="string">&quot;\r\n&quot;</span>)</span><br><span class="line">            IsFirstConnect = <span class="literal">false</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">-- create mqtt client</span></span><br><span class="line">    mqttc = mqtt.<span class="built_in">create</span>(mqtt_host, mqtt_port, mqtt_isssl, ca_file)</span><br><span class="line">    mqttc:auth(client_id, user_name, password)  <span class="comment">-- set mqtt user-name and password(should be equal to the server setting)</span></span><br><span class="line">    mqttc:autoreconn(<span class="literal">true</span>, <span class="number">3000</span>)                <span class="comment">-- set auto-reconnect</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">-- define callback function</span></span><br><span class="line">    mqttc:on(<span class="function"><span class="keyword">function</span><span class="params">(mqtt_client, event, data, payload)</span></span></span><br><span class="line">        <span class="keyword">if</span> event == <span class="string">&quot;conack&quot;</span> <span class="keyword">then</span></span><br><span class="line">            uart.<span class="built_in">write</span>(uart_id, <span class="string">&quot;MQTT Connect\r\n&quot;</span>)</span><br><span class="line">            sys.publish(<span class="string">&quot;mqtt_ready&quot;</span>)</span><br><span class="line">        <span class="keyword">elseif</span> event == <span class="string">&quot;recv&quot;</span> <span class="keyword">then</span></span><br><span class="line">            <span class="built_in">log</span>.info(<span class="string">&quot;mqtt&quot;</span>, <span class="string">&quot;æ”¶åˆ°æ¶ˆæ¯&quot;</span>, data, payload)</span><br><span class="line">        <span class="keyword">elseif</span> event == <span class="string">&quot;sent&quot;</span> <span class="keyword">then</span></span><br><span class="line">            <span class="built_in">log</span>.info(<span class="string">&quot;mqtt&quot;</span>, <span class="string">&quot;å‘é€æˆåŠŸ&quot;</span>, data)</span><br><span class="line">        <span class="keyword">elseif</span> event == <span class="string">&quot;disconnect&quot;</span> <span class="keyword">then</span></span><br><span class="line">            <span class="built_in">log</span>.warn(<span class="string">&quot;mqtt&quot;</span>, <span class="string">&quot;æ–­å¼€è¿æ¥&quot;</span>)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">-- start to conneect server</span></span><br><span class="line">    mqttc:connect()</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- UART æ•°æ®æ¥æ”¶ + MQTT ä¸Šä¼ </span></span><br><span class="line">sys.taskInit(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    sys.waitUntil(<span class="string">&quot;mqtt_ready&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">log</span>.info(<span class="string">&quot;uart&quot;</span>, <span class="string">&quot;å¼€å§‹ç›‘å¬ UART æ•°æ®ä¸Šä¼ &quot;</span>)</span><br><span class="line">    <span class="keyword">local</span> buffer = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">-- uartæ¥æ”¶è§¦å‘ä¸­æ–­ ä»idç«¯å£æ¥æ”¶lené•¿åº¦çš„æ•°æ®</span></span><br><span class="line">    uart.on(uart_id, <span class="string">&quot;receive&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">(id, len)</span></span></span><br><span class="line">        <span class="keyword">local</span> data = uart.<span class="built_in">read</span>(id, <span class="built_in">len</span>)</span><br><span class="line">        buffer = buffer .. data</span><br><span class="line"></span><br><span class="line">        <span class="comment">-- ç¤ºä¾‹ï¼šä»¥æ¢è¡Œç¬¦ä½œä¸ºä¸€æ¡å®Œæ•´æ•°æ®çš„ç»“æŸ</span></span><br><span class="line">        <span class="keyword">while</span> buffer:<span class="built_in">find</span>(<span class="string">&quot;\r\n&quot;</span>) <span class="keyword">do</span></span><br><span class="line">            <span class="keyword">local</span> packet, remain = buffer:<span class="built_in">match</span>(<span class="string">&quot;^(.-)\r\n(.*)$&quot;</span>)</span><br><span class="line">            buffer = remain <span class="keyword">or</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">-- æ‰“å°æ¥æ”¶åˆ°çš„ä¸²å£æ•°æ®</span></span><br><span class="line">            <span class="built_in">log</span>.info(<span class="string">&quot;uart&quot;</span>, <span class="string">&quot;æ”¶åˆ°æ•°æ®&quot;</span>, packet)</span><br><span class="line">            uart.<span class="built_in">write</span>(uart_id, <span class="string">&quot;Receive Finish!\r\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment">-- å‘å¸ƒåˆ° MQTTï¼ˆQoS=0ï¼‰</span></span><br><span class="line">            <span class="keyword">if</span> mqttc <span class="keyword">then</span></span><br><span class="line">                mqttc:publish(publish_topic, packet, <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">    è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">    1. è¯¥ä»£ç ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ UART æ¥æ”¶æ•°æ®å¹¶é€šè¿‡ MQTT ä¸Šä¼ ã€‚</span></span><br><span class="line"><span class="comment">    2. ä½¿ç”¨äº† sysplus åº“æ¥å¤„ç†ç³»ç»Ÿä»»åŠ¡å’Œäº‹ä»¶ã€‚</span></span><br><span class="line"><span class="comment">    3. ä½¿ç”¨äº† mqtt åº“æ¥å¤„ç† MQTT å®¢æˆ·ç«¯çš„è¿æ¥å’Œæ¶ˆæ¯å‘é€ã€‚</span></span><br><span class="line"><span class="comment">    4. ä½¿ç”¨äº† log åº“æ¥è®°å½•æ—¥å¿—ä¿¡æ¯ã€‚</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line">sys.run()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Communication </category>
          
          <category> LuatOS learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MQTT </tag>
            
            <tag> Lua </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>èšç±»åˆ†ç±»â€”ç®—æ³•ä»¥åŠpythonå®ç°</title>
      <link href="/2025/05/23/study/K_Means/"/>
      <url>/2025/05/23/study/K_Means/</url>
      
        <content type="html"><![CDATA[<h1 id="ğŸ§ -ä½¿ç”¨-Python-å®ç°é«˜æ•ˆå‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative-Clusteringï¼‰"><a href="#ğŸ§ -ä½¿ç”¨-Python-å®ç°é«˜æ•ˆå‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative-Clusteringï¼‰" class="headerlink" title="ğŸ§  ä½¿ç”¨ Python å®ç°é«˜æ•ˆå‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative Clusteringï¼‰"></a>ğŸ§  ä½¿ç”¨ Python å®ç°é«˜æ•ˆå‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative Clusteringï¼‰</h1><h2 id="åœ¨æœ¬ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€èµ·æ¢ç´¢å¦‚ä½•ä½¿ç”¨-Python-å®ç°ä¸€ä¸ªé«˜æ•ˆçš„-å‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative-Hierarchical-Clusteringï¼‰ç®—æ³•ï¼Œå¹¶æ”¯æŒä¸‰ç§ä¸åŒçš„ç°‡é—´è·ç¦»åº¦é‡æ–¹å¼ï¼šsingle-linkage-complete-linkage-å’Œ-average-linkageã€‚æˆ‘ä»¬è¿˜å°†é€šè¿‡å¯è§†åŒ–å±•ç¤ºä¸åŒæ–¹æ³•çš„æ•ˆæœï¼Œå¹¶åˆ†æå…¶ä¼˜åŠ£ã€‚"><a href="#åœ¨æœ¬ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€èµ·æ¢ç´¢å¦‚ä½•ä½¿ç”¨-Python-å®ç°ä¸€ä¸ªé«˜æ•ˆçš„-å‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative-Hierarchical-Clusteringï¼‰ç®—æ³•ï¼Œå¹¶æ”¯æŒä¸‰ç§ä¸åŒçš„ç°‡é—´è·ç¦»åº¦é‡æ–¹å¼ï¼šsingle-linkage-complete-linkage-å’Œ-average-linkageã€‚æˆ‘ä»¬è¿˜å°†é€šè¿‡å¯è§†åŒ–å±•ç¤ºä¸åŒæ–¹æ³•çš„æ•ˆæœï¼Œå¹¶åˆ†æå…¶ä¼˜åŠ£ã€‚" class="headerlink" title="åœ¨æœ¬ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€èµ·æ¢ç´¢å¦‚ä½•ä½¿ç”¨ Python å®ç°ä¸€ä¸ªé«˜æ•ˆçš„ å‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative Hierarchical Clusteringï¼‰ç®—æ³•ï¼Œå¹¶æ”¯æŒä¸‰ç§ä¸åŒçš„ç°‡é—´è·ç¦»åº¦é‡æ–¹å¼ï¼šsingle linkage, complete linkage å’Œ average linkageã€‚æˆ‘ä»¬è¿˜å°†é€šè¿‡å¯è§†åŒ–å±•ç¤ºä¸åŒæ–¹æ³•çš„æ•ˆæœï¼Œå¹¶åˆ†æå…¶ä¼˜åŠ£ã€‚   "></a>åœ¨æœ¬ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€èµ·æ¢ç´¢å¦‚ä½•ä½¿ç”¨ Python å®ç°ä¸€ä¸ªé«˜æ•ˆçš„ <strong>å‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative Hierarchical Clusteringï¼‰ç®—æ³•</strong>ï¼Œå¹¶æ”¯æŒä¸‰ç§ä¸åŒçš„ç°‡é—´è·ç¦»åº¦é‡æ–¹å¼ï¼š<code>single linkage</code>, <code>complete linkage</code> å’Œ <code>average linkage</code>ã€‚æˆ‘ä»¬è¿˜å°†é€šè¿‡å¯è§†åŒ–å±•ç¤ºä¸åŒæ–¹æ³•çš„æ•ˆæœï¼Œå¹¶åˆ†æå…¶ä¼˜åŠ£ã€‚   </h2><h2 id="ğŸ“š-ä¸€ã€ä»€ä¹ˆæ˜¯å‡èšå±‚æ¬¡èšç±»ï¼Ÿ"><a href="#ğŸ“š-ä¸€ã€ä»€ä¹ˆæ˜¯å‡èšå±‚æ¬¡èšç±»ï¼Ÿ" class="headerlink" title="ğŸ“š ä¸€ã€ä»€ä¹ˆæ˜¯å‡èšå±‚æ¬¡èšç±»ï¼Ÿ"></a>ğŸ“š ä¸€ã€ä»€ä¹ˆæ˜¯å‡èšå±‚æ¬¡èšç±»ï¼Ÿ</h2><p>å‡èšå±‚æ¬¡èšç±»æ˜¯ä¸€ç§ <strong>è‡ªåº•å‘ä¸Šçš„æ— ç›‘ç£èšç±»ç®—æ³•</strong>ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š   </p><blockquote><p>æ¯ä¸ªæ•°æ®ç‚¹åˆå§‹æ—¶éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç°‡ï¼Œç„¶åé€æ­¥åˆå¹¶æœ€ç›¸ä¼¼çš„ä¸¤ä¸ªç°‡ï¼Œç›´åˆ°è¾¾åˆ°é¢„è®¾çš„ç°‡æ•°ã€‚   </p></blockquote><h2 id="ä¸-K-Means-ä¸åŒï¼Œå®ƒä¸éœ€è¦æå‰æŒ‡å®šç°‡çš„æ•°é‡å³å¯æ„å»ºæ•´ä¸ªèšç±»æ ‘ï¼ˆdendrogramï¼‰ï¼Œå› æ­¤éå¸¸é€‚åˆæ¢ç´¢æ€§æ•°æ®åˆ†æã€‚"><a href="#ä¸-K-Means-ä¸åŒï¼Œå®ƒä¸éœ€è¦æå‰æŒ‡å®šç°‡çš„æ•°é‡å³å¯æ„å»ºæ•´ä¸ªèšç±»æ ‘ï¼ˆdendrogramï¼‰ï¼Œå› æ­¤éå¸¸é€‚åˆæ¢ç´¢æ€§æ•°æ®åˆ†æã€‚" class="headerlink" title="ä¸ K-Means ä¸åŒï¼Œå®ƒä¸éœ€è¦æå‰æŒ‡å®šç°‡çš„æ•°é‡å³å¯æ„å»ºæ•´ä¸ªèšç±»æ ‘ï¼ˆdendrogramï¼‰ï¼Œå› æ­¤éå¸¸é€‚åˆæ¢ç´¢æ€§æ•°æ®åˆ†æã€‚   "></a>ä¸ K-Means ä¸åŒï¼Œå®ƒä¸éœ€è¦æå‰æŒ‡å®šç°‡çš„æ•°é‡å³å¯æ„å»ºæ•´ä¸ªèšç±»æ ‘ï¼ˆdendrogramï¼‰ï¼Œå› æ­¤éå¸¸é€‚åˆæ¢ç´¢æ€§æ•°æ®åˆ†æã€‚   </h2><h2 id="âš™ï¸-äºŒã€ä»£ç æ¦‚è¿°"><a href="#âš™ï¸-äºŒã€ä»£ç æ¦‚è¿°" class="headerlink" title="âš™ï¸ äºŒã€ä»£ç æ¦‚è¿°"></a>âš™ï¸ äºŒã€ä»£ç æ¦‚è¿°</h2><h3 id="ğŸ”-åŠŸèƒ½äº®ç‚¹ï¼š"><a href="#ğŸ”-åŠŸèƒ½äº®ç‚¹ï¼š" class="headerlink" title="ğŸ” åŠŸèƒ½äº®ç‚¹ï¼š"></a>ğŸ” åŠŸèƒ½äº®ç‚¹ï¼š</h3><ul><li>æ”¯æŒä¸‰ç§ <strong>linkage æ–¹æ³•</strong>ï¼š   <ul><li><code>&#39;single&#39;</code>: æœ€çŸ­è·ç¦»æ³•ï¼ˆæœ€è¿‘é‚»ï¼‰   </li><li><code>&#39;complete&#39;</code>: æœ€é•¿è·ç¦»æ³•ï¼ˆæœ€è¿œé‚»ï¼‰   </li><li><code>&#39;average&#39;</code>: å¹³å‡è·ç¦»æ³•</li></ul></li><li>ä½¿ç”¨ <strong>æœ€å°å †ï¼ˆheapqï¼‰</strong> åŠ é€ŸæŸ¥æ‰¾æœ€è¿‘ç°‡å¯¹   </li><li>å¯¹ Iris æ•°æ®é›†è¿›è¡Œç‰¹å¾é€‰æ‹©åèšç±»   </li><li>ç»˜åˆ¶åŸå§‹æ ‡ç­¾ä¸ä¸åŒ linkage èšç±»ç»“æœå¯¹æ¯”å›¾</li></ul><hr><h2 id="ğŸ“¦-ä¸‰ã€ä¾èµ–åº“ä»‹ç»"><a href="#ğŸ“¦-ä¸‰ã€ä¾èµ–åº“ä»‹ç»" class="headerlink" title="ğŸ“¦ ä¸‰ã€ä¾èµ–åº“ä»‹ç»"></a>ğŸ“¦ ä¸‰ã€ä¾èµ–åº“ä»‹ç»</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import pandas as pd</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import heapq</span><br><span class="line">from scipy.spatial.distance import squareform, pdist</span><br><span class="line">from collections import defaultdict</span><br><span class="line"></span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">åº“</th><th align="left">ç”¨é€”</th></tr></thead><tbody><tr><td align="left"><code>numpy</code></td><td align="left">é«˜æ•ˆæ•°ç»„æ“ä½œ</td></tr><tr><td align="left"><code>pandas</code></td><td align="left">æ•°æ®è¯»å–ä¸å¤„ç†</td></tr><tr><td align="left"><code>matplotlib</code></td><td align="left">å¯è§†åŒ–ç»˜å›¾</td></tr><tr><td align="left"><code>heapq</code></td><td align="left">æœ€å°å †å®ç°ä¼˜å…ˆé˜Ÿåˆ—</td></tr><tr><td align="left"><code>scipy.spatial.distance</code></td><td align="left">è®¡ç®—æˆå¯¹è·ç¦»</td></tr></tbody></table><hr><h2 id="ğŸ“-å››ã€æ ¸å¿ƒå‡½æ•°è¯¦è§£"><a href="#ğŸ“-å››ã€æ ¸å¿ƒå‡½æ•°è¯¦è§£" class="headerlink" title="ğŸ“ å››ã€æ ¸å¿ƒå‡½æ•°è¯¦è§£"></a>ğŸ“ å››ã€æ ¸å¿ƒå‡½æ•°è¯¦è§£</h2><h3 id="1-ç°‡é—´è·ç¦»è®¡ç®—å‡½æ•°"><a href="#1-ç°‡é—´è·ç¦»è®¡ç®—å‡½æ•°" class="headerlink" title="1. ç°‡é—´è·ç¦»è®¡ç®—å‡½æ•°"></a>1. ç°‡é—´è·ç¦»è®¡ç®—å‡½æ•°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def cluster_distance(c1, c2, dist_matrix, method=&#x27;single&#x27;):</span><br><span class="line">    if method == &#x27;single&#x27;:</span><br><span class="line">        return np.min(dist_matrix[np.ix_(c1, c2)])</span><br><span class="line">    elif method == &#x27;complete&#x27;:</span><br><span class="line">        return np.max(dist_matrix[np.ix_(c1, c2)])</span><br><span class="line">    elif method == &#x27;average&#x27;:</span><br><span class="line">        return np.mean(dist_matrix[np.ix_(c1, c2)])</span><br><span class="line">    else:</span><br><span class="line">        raise ValueError(&quot;Unknown method&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šæ ¹æ®æŒ‡å®šçš„ <code>linkage</code> æ–¹æ³•è®¡ç®—ä¸¤ä¸ªç°‡ä¹‹é—´çš„è·ç¦»ã€‚   </li><li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š   <ul><li><code>&#39;single&#39;</code>: ç”¨äºè¯†åˆ«é“¾çŠ¶åˆ†å¸ƒçš„æ•°æ®ã€‚   </li><li><code>&#39;complete&#39;</code>: æ›´å…³æ³¨ç°‡å†…ç´§å¯†æ€§ã€‚   </li><li><code>&#39;average&#39;</code>: ä¸¤è€…æŠ˜ä¸­ï¼Œé€‚åˆå¤§å¤šæ•°æƒ…å†µ ã€‚</li></ul></li></ul><hr><h3 id="2-åˆå§‹åŒ–è·ç¦»çŸ©é˜µ"><a href="#2-åˆå§‹åŒ–è·ç¦»çŸ©é˜µ" class="headerlink" title="2. åˆå§‹åŒ–è·ç¦»çŸ©é˜µ"></a>2. åˆå§‹åŒ–è·ç¦»çŸ©é˜µ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dist_matrix = squareform(pdist(features[:, feature_indices]))</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><code>pdist</code>ï¼šè®¡ç®—æ‰€æœ‰æ ·æœ¬ä¸¤ä¸¤ä¹‹é—´çš„æ¬§æ°è·ç¦»ã€‚   </li><li><code>squareform</code>ï¼šå°†å‹ç¼©çš„è·ç¦»å‘é‡è½¬æ¢ä¸º NÃ—N çš„è·ç¦»çŸ©é˜µ ã€‚</li></ul><hr><h3 id="3-åˆå§‹åŒ–æ¯ä¸ªæ ·æœ¬ä¸ºç‹¬ç«‹ç°‡"><a href="#3-åˆå§‹åŒ–æ¯ä¸ªæ ·æœ¬ä¸ºç‹¬ç«‹ç°‡" class="headerlink" title="3. åˆå§‹åŒ–æ¯ä¸ªæ ·æœ¬ä¸ºç‹¬ç«‹ç°‡"></a>3. åˆå§‹åŒ–æ¯ä¸ªæ ·æœ¬ä¸ºç‹¬ç«‹ç°‡</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">init_clusters = [[i] for i in range(numberOfsamples)]</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>åˆå§‹æ—¶æ¯ä¸ªæ ·æœ¬æ˜¯ä¸€ä¸ªç°‡ï¼Œç”¨ç´¢å¼•è¡¨ç¤ºã€‚</li></ul><hr><h3 id="4-æ„å»ºæœ€å°å †ç»´æŠ¤ç°‡å¯¹è·ç¦»"><a href="#4-æ„å»ºæœ€å°å †ç»´æŠ¤ç°‡å¯¹è·ç¦»" class="headerlink" title="4. æ„å»ºæœ€å°å †ç»´æŠ¤ç°‡å¯¹è·ç¦»"></a>4. æ„å»ºæœ€å°å †ç»´æŠ¤ç°‡å¯¹è·ç¦»</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for i in range(len(clusters)):</span><br><span class="line">    for j in range(i+1, len(clusters)):</span><br><span class="line">        dist = cluster_distance(clusters[i], clusters[j], dist_matrix, method)</span><br><span class="line">        heapq.heappush(heap, (dist, i, j))</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ <code>heapq</code> æ„å»ºæœ€å°å †ï¼Œæ¯æ¬¡å–å‡ºå½“å‰æœ€è¿‘çš„ç°‡å¯¹è¿›è¡Œåˆå¹¶ã€‚   </li><li>æ—¶é—´å¤æ‚åº¦ä» O(NÂ³) é™ä½è‡³ O(NÂ² log N) ã€‚</li></ul><hr><h3 id="5-åˆå¹¶ç°‡å¹¶æ›´æ–°å †"><a href="#5-åˆå¹¶ç°‡å¹¶æ›´æ–°å †" class="headerlink" title="5. åˆå¹¶ç°‡å¹¶æ›´æ–°å †"></a>5. åˆå¹¶ç°‡å¹¶æ›´æ–°å †</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">while sum(valid) &gt; numberOfcluster:</span><br><span class="line">    while True:</span><br><span class="line">        dist, i, j = heapq.heappop(heap)</span><br><span class="line">        if valid[i] and valid[j]:</span><br><span class="line">            break</span><br><span class="line">    clusters[i].extend(clusters[j])</span><br><span class="line">    valid[j] = False</span><br><span class="line">    for k in range(len(clusters)):</span><br><span class="line">        if k != i and valid[k]:</span><br><span class="line">            dist = cluster_distance(clusters[i], clusters[k], dist_matrix, method)</span><br><span class="line">            heapq.heappush(heap, (dist, i, k))</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>æœ‰æ•ˆç°‡æ ‡è®°</strong>ï¼šä½¿ç”¨ <code>valid</code> æ•°ç»„è®°å½•å“ªäº›ç°‡æ˜¯æœ‰æ•ˆçš„ã€‚   </li><li><strong>åŠ¨æ€æ›´æ–°è·ç¦»</strong>ï¼šåˆå¹¶åé‡æ–°è®¡ç®—æ–°ç°‡ä¸å…¶ä»–ç°‡çš„è·ç¦»å¹¶æ’å…¥å †ä¸­ã€‚</li></ul><hr><h2 id="ğŸ“Š-å…­ã€å¯è§†åŒ–å±•ç¤º"><a href="#ğŸ“Š-å…­ã€å¯è§†åŒ–å±•ç¤º" class="headerlink" title="ğŸ“Š å…­ã€å¯è§†åŒ–å±•ç¤º"></a>ğŸ“Š å…­ã€å¯è§†åŒ–å±•ç¤º</h2><p>æˆ‘ä»¬ç»˜åˆ¶äº†å››ç§å›¾åƒï¼š   </p><ol><li>åŸå§‹æ•°æ®æŒ‰çœŸå®æ ‡ç­¾æ˜¾ç¤º   </li><li><code>&#39;single&#39;</code> linkage èšç±»ç»“æœ   </li><li><code>&#39;complete&#39;</code> linkage èšç±»ç»“æœ   </li><li><code>&#39;average&#39;</code> linkage èšç±»ç»“æœ</li></ol><p>æ¯ç§æ–¹æ³•éƒ½ä½¿ç”¨ä¸åŒé¢œè‰²å’Œå½¢çŠ¶çš„æ ‡è®°æ¥åŒºåˆ†ç°‡ã€‚   </p><h3 id="ç¤ºä¾‹ä»£ç ç‰‡æ®µï¼š"><a href="#ç¤ºä¾‹ä»£ç ç‰‡æ®µï¼š" class="headerlink" title="ç¤ºä¾‹ä»£ç ç‰‡æ®µï¼š"></a>ç¤ºä¾‹ä»£ç ç‰‡æ®µï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(</span><br><span class="line">    features[clu, feature_indices[0]],</span><br><span class="line">    features[clu, feature_indices[1]],</span><br><span class="line">    color=[color],</span><br><span class="line">    marker=marker,</span><br><span class="line">    label=f&#x27;Cluster &#123;idx+1&#125;&#x27;</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250523191326805.png" alt="Agglomerative Clustering"></p><hr><h2 id="ğŸ§©-ä¸ƒã€ä¸‰ç§-Linkage-æ–¹æ³•å¯¹æ¯”"><a href="#ğŸ§©-ä¸ƒã€ä¸‰ç§-Linkage-æ–¹æ³•å¯¹æ¯”" class="headerlink" title="ğŸ§© ä¸ƒã€ä¸‰ç§ Linkage æ–¹æ³•å¯¹æ¯”"></a>ğŸ§© ä¸ƒã€ä¸‰ç§ Linkage æ–¹æ³•å¯¹æ¯”</h2><table><thead><tr><th align="left">Linkage æ–¹æ³•</th><th align="left">ç‰¹ç‚¹</th><th align="left">é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><code>&#39;single&#39;</code></td><td align="left">å®¹æ˜“å½¢æˆâ€œé“¾å¼â€ç°‡</td><td align="left">é€‚ç”¨äºæµå½¢å‹æ•°æ®</td></tr><tr><td align="left"><code>&#39;complete&#39;</code></td><td align="left">å¼ºè°ƒç°‡å†…ç´§å‡‘æ€§</td><td align="left">é€‚ç”¨äºçƒå½¢åˆ†å¸ƒæ•°æ®</td></tr><tr><td align="left"><code>&#39;average&#39;</code></td><td align="left">æŠ˜ä¸­æ–¹æ¡ˆï¼Œå¹³è¡¡è¡¨ç°</td><td align="left">é€šç”¨æ€§å¼º</td></tr></tbody></table><hr><h2 id="ğŸ“š-å‚è€ƒèµ„æ–™"><a href="#ğŸ“š-å‚è€ƒèµ„æ–™" class="headerlink" title="ğŸ“š å‚è€ƒèµ„æ–™"></a>ğŸ“š å‚è€ƒèµ„æ–™</h2><ul><li>[1] Scipy pdist &amp; squareform æ–‡æ¡£   </li><li>[2] NumPy ä¸ Pandas ç®€ä»‹   </li><li>[3] å¯†åº¦å³°å€¼èšç±»ç®—æ³•ç»¼è¿°   </li><li>[4] è‡ªé€‚åº”å¯†åº¦å³°å€¼èšç±»ç®—æ³•   </li><li>[5] å±‚æ¬¡èšç±»ä¸ DPC ç®—æ³•å¯¹æ¯”</li></ul><hr><h1 id="ğŸ§ -ä½¿ç”¨-Python-å®ç°å‘é‡åŒ–-K-Means-èšç±»ç®—æ³•"><a href="#ğŸ§ -ä½¿ç”¨-Python-å®ç°å‘é‡åŒ–-K-Means-èšç±»ç®—æ³•" class="headerlink" title="ğŸ§  ä½¿ç”¨ Python å®ç°å‘é‡åŒ– K-Means èšç±»ç®—æ³•"></a>ğŸ§  ä½¿ç”¨ Python å®ç°å‘é‡åŒ– K-Means èšç±»ç®—æ³•</h1><h2 id="K-Means-æ˜¯ä¸€ç§ç»å…¸çš„æ— ç›‘ç£èšç±»ç®—æ³•ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®æŒ–æ˜ã€å›¾åƒå‹ç¼©ã€å®¢æˆ·åˆ†ç¾¤ç­‰é¢†åŸŸã€‚æœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥æ­¥ç†è§£å¹¶å®ç°ä¸€ä¸ªé«˜æ•ˆçš„å‘é‡åŒ–-K-Means-ç®—æ³•ï¼Œå¹¶é€šè¿‡-sklearn-åŠ è½½-Iris-æ•°æ®é›†è¿›è¡Œå®æˆ˜æ¼”ç¤ºã€‚"><a href="#K-Means-æ˜¯ä¸€ç§ç»å…¸çš„æ— ç›‘ç£èšç±»ç®—æ³•ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®æŒ–æ˜ã€å›¾åƒå‹ç¼©ã€å®¢æˆ·åˆ†ç¾¤ç­‰é¢†åŸŸã€‚æœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥æ­¥ç†è§£å¹¶å®ç°ä¸€ä¸ªé«˜æ•ˆçš„å‘é‡åŒ–-K-Means-ç®—æ³•ï¼Œå¹¶é€šè¿‡-sklearn-åŠ è½½-Iris-æ•°æ®é›†è¿›è¡Œå®æˆ˜æ¼”ç¤ºã€‚" class="headerlink" title="K-Means æ˜¯ä¸€ç§ç»å…¸çš„æ— ç›‘ç£èšç±»ç®—æ³•ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®æŒ–æ˜ã€å›¾åƒå‹ç¼©ã€å®¢æˆ·åˆ†ç¾¤ç­‰é¢†åŸŸã€‚æœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥æ­¥ç†è§£å¹¶å®ç°ä¸€ä¸ªé«˜æ•ˆçš„å‘é‡åŒ– K-Means ç®—æ³•ï¼Œå¹¶é€šè¿‡ sklearn åŠ è½½ Iris æ•°æ®é›†è¿›è¡Œå®æˆ˜æ¼”ç¤ºã€‚   "></a>K-Means æ˜¯ä¸€ç§ç»å…¸çš„æ— ç›‘ç£èšç±»ç®—æ³•ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®æŒ–æ˜ã€å›¾åƒå‹ç¼©ã€å®¢æˆ·åˆ†ç¾¤ç­‰é¢†åŸŸã€‚æœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥æ­¥ç†è§£å¹¶å®ç°ä¸€ä¸ª<strong>é«˜æ•ˆçš„å‘é‡åŒ– K-Means ç®—æ³•</strong>ï¼Œå¹¶é€šè¿‡ <code>sklearn</code> åŠ è½½ Iris æ•°æ®é›†è¿›è¡Œå®æˆ˜æ¼”ç¤ºã€‚   </h2><h2 id="ğŸ“¦-ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡"><a href="#ğŸ“¦-ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡" class="headerlink" title="ğŸ“¦ ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡"></a>ğŸ“¦ ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡</h2><p>æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹åº“ï¼š   </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line">from sklearn.cluster import KMeans</span><br><span class="line">from sklearn import datasets</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="âœ…-æ•°æ®åŠ è½½"><a href="#âœ…-æ•°æ®åŠ è½½" class="headerlink" title="âœ… æ•°æ®åŠ è½½"></a>âœ… æ•°æ®åŠ è½½</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">iris = datasets.load_iris()</span><br><span class="line">X = iris.data[:, :4]</span><br><span class="line">numberOfcluster = len(iris.target_names)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><code>X</code>: ç‰¹å¾çŸ©é˜µï¼ˆ150 Ã— 4ï¼‰   </li><li><code>numberOfcluster</code>: ç±»åˆ«æ•°ä¸º 3</li></ul><hr><h2 id="âš™ï¸-äºŒã€ä½¿ç”¨-sklearn-çš„-KMeans-è¿›è¡Œèšç±»"><a href="#âš™ï¸-äºŒã€ä½¿ç”¨-sklearn-çš„-KMeans-è¿›è¡Œèšç±»" class="headerlink" title="âš™ï¸ äºŒã€ä½¿ç”¨ sklearn çš„ KMeans è¿›è¡Œèšç±»"></a>âš™ï¸ äºŒã€ä½¿ç”¨ sklearn çš„ KMeans è¿›è¡Œèšç±»</h2><p>æˆ‘ä»¬å…ˆè°ƒç”¨ <code>sklearn.cluster.KMeans</code> å¿«é€Ÿå®Œæˆèšç±»ä»»åŠ¡ï¼š   </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">estimator = KMeans(n_clusters=numberOfcluster)</span><br><span class="line">estimator.fit(X)</span><br><span class="line">label_pred = estimator.labels_</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç„¶åç»˜åˆ¶åŸå§‹æ•°æ®å’Œèšç±»åçš„ç»“æœå›¾ï¼š   </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(12, 8))</span><br><span class="line">plt.subplot(121)</span><br><span class="line">plt.scatter(X[:, 1], X[:, 2], c=&quot;red&quot;, marker=&#x27;o&#x27;, label=&#x27;data&#x27;) </span><br><span class="line">plt.xlabel(&#x27;sepal length&#x27;) </span><br><span class="line">plt.ylabel(&#x27;sepal width&#x27;) </span><br><span class="line">plt.legend(loc=2) </span><br><span class="line"></span><br><span class="line">plt.subplot(122)</span><br><span class="line">x0 = X[label_pred == 0] </span><br><span class="line">x1 = X[label_pred == 1] </span><br><span class="line">x2 = X[label_pred == 2] </span><br><span class="line">plt.scatter(x0[:, 1], x0[:, 2], c=&quot;red&quot;, marker=&#x27;o&#x27;, label=&#x27;label0&#x27;) </span><br><span class="line">plt.scatter(x1[:, 1], x1[:, 2], c=&quot;green&quot;, marker=&#x27;*&#x27;, label=&#x27;label1&#x27;) </span><br><span class="line">plt.scatter(x2[:, 1], x2[:, 2], c=&quot;blue&quot;, marker=&#x27;+&#x27;, label=&#x27;label2&#x27;) </span><br><span class="line">plt.xlabel(&#x27;sepal length&#x27;) </span><br><span class="line">plt.ylabel(&#x27;sepal width&#x27;) </span><br><span class="line">plt.legend(loc=2) </span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>âœ… ä½¿ç”¨ sklearn å¯ä»¥å¿«é€Ÿå®Œæˆèšç±»ï¼Œä½†äº†è§£å…¶å†…éƒ¨å®ç°æ›´æœ‰åŠ©äºæ·±å…¥ç†è§£ç®—æ³•åŸç† ã€‚   </p></blockquote><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250523191344622.png" alt="K-Means"></p><hr><h2 id="ğŸ§©-ä¸‰ã€æ‰‹åŠ¨å®ç°å‘é‡åŒ–-K-Means"><a href="#ğŸ§©-ä¸‰ã€æ‰‹åŠ¨å®ç°å‘é‡åŒ–-K-Means" class="headerlink" title="ğŸ§© ä¸‰ã€æ‰‹åŠ¨å®ç°å‘é‡åŒ– K-Means"></a>ğŸ§© ä¸‰ã€æ‰‹åŠ¨å®ç°å‘é‡åŒ– K-Means</h2><p>ä¸ºäº†æ›´æ·±å…¥ç†è§£ K-Means çš„å·¥ä½œåŸç†ï¼Œæˆ‘ä»¬å®ç°äº†<strong>å‘é‡åŒ–ç‰ˆæœ¬çš„ K-Means ç®—æ³•</strong>ï¼Œé¿å…äº†ä¼ ç»Ÿçš„åµŒå¥—å¾ªç¯ï¼Œæé«˜äº†è®¡ç®—æ•ˆç‡ã€‚   </p><h3 id="1-å‘é‡åŒ–è®¡ç®—è·ç¦»çŸ©é˜µ"><a href="#1-å‘é‡åŒ–è®¡ç®—è·ç¦»çŸ©é˜µ" class="headerlink" title="1. å‘é‡åŒ–è®¡ç®—è·ç¦»çŸ©é˜µ"></a>1. å‘é‡åŒ–è®¡ç®—è·ç¦»çŸ©é˜µ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def compute_distances(dataSet, centroids):</span><br><span class="line">    m = dataSet.shape[0]</span><br><span class="line">    k = centroids.shape[0]</span><br><span class="line">    diff = dataSet[:, np.newaxis, :] - centroids[np.newaxis, :, :]</span><br><span class="line">    distances = np.sum(diff**2, axis=2)</span><br><span class="line">    return distances</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>åˆ©ç”¨ NumPy å¹¿æ’­æœºåˆ¶ä¸€æ¬¡æ€§è®¡ç®—æ‰€æœ‰ç‚¹åˆ°è´¨å¿ƒçš„è·ç¦»ã€‚   </li><li>é¿å…åŒé‡ for å¾ªç¯ï¼Œæå‡æ€§èƒ½ ã€‚</li></ul><hr><h3 id="2-åˆ†é…æ ·æœ¬åˆ°æœ€è¿‘è´¨å¿ƒ"><a href="#2-åˆ†é…æ ·æœ¬åˆ°æœ€è¿‘è´¨å¿ƒ" class="headerlink" title="2. åˆ†é…æ ·æœ¬åˆ°æœ€è¿‘è´¨å¿ƒ"></a>2. åˆ†é…æ ·æœ¬åˆ°æœ€è¿‘è´¨å¿ƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def assign_clusters(distances):</span><br><span class="line">    return np.argmin(distances, axis=1)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>æ²¿åˆ—æ–¹å‘å–æœ€å°å€¼ç´¢å¼•ï¼Œç¡®å®šæ¯ä¸ªæ ·æœ¬æ‰€å±ç°‡ã€‚</li></ul><hr><h3 id="3-éšæœºåˆå§‹åŒ–è´¨å¿ƒ"><a href="#3-éšæœºåˆå§‹åŒ–è´¨å¿ƒ" class="headerlink" title="3. éšæœºåˆå§‹åŒ–è´¨å¿ƒ"></a>3. éšæœºåˆå§‹åŒ–è´¨å¿ƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def randomCenter(dataSet, k): </span><br><span class="line">    m, n = dataSet.shape  </span><br><span class="line">    centroids = np.zeros((k, n))  </span><br><span class="line">    for i in range(k):  </span><br><span class="line">        index = int(np.random.uniform(0, m))   </span><br><span class="line">        centroids[i, :] = dataSet[index, :]  </span><br><span class="line">    return centroids</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>ä»æ•°æ®é›†ä¸­éšæœºé€‰æ‹© <code>k</code> ä¸ªæ ·æœ¬ä½œä¸ºåˆå§‹è´¨å¿ƒ ã€‚</li></ul><hr><h3 id="4-æ›´æ–°è´¨å¿ƒ"><a href="#4-æ›´æ–°è´¨å¿ƒ" class="headerlink" title="4. æ›´æ–°è´¨å¿ƒ"></a>4. æ›´æ–°è´¨å¿ƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def update_centroids(dataSet, cluster_indices, k):</span><br><span class="line">    centroids = np.zeros((k, dataSet.shape[1]))</span><br><span class="line">    for j in range(k):</span><br><span class="line">        mask = (cluster_indices == j)</span><br><span class="line">        if np.any(mask):</span><br><span class="line">            centroids[j] = np.mean(dataSet[mask], axis=0)</span><br><span class="line">    return centroids</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>å¯¹æ¯ä¸ªç°‡è®¡ç®—å‡å€¼ä½œä¸ºæ–°è´¨å¿ƒã€‚</li></ul><hr><h3 id="5-ä¸»å‡½æ•°ï¼šå‘é‡åŒ–-K-Means"><a href="#5-ä¸»å‡½æ•°ï¼šå‘é‡åŒ–-K-Means" class="headerlink" title="5. ä¸»å‡½æ•°ï¼šå‘é‡åŒ– K-Means"></a>5. ä¸»å‡½æ•°ï¼šå‘é‡åŒ– K-Means</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">def KMeans_vectorized(dataSet, k, max_iter=100):</span><br><span class="line">    centroids = randomCenter(dataSet, k)</span><br><span class="line">    </span><br><span class="line">    for iter_num in range(max_iter):</span><br><span class="line">        distances = compute_distances(dataSet, centroids)</span><br><span class="line">        cluster_indices = assign_clusters(distances)</span><br><span class="line">        new_centroids = update_centroids(dataSet, cluster_indices, k)</span><br><span class="line"></span><br><span class="line">        if np.allclose(centroids, new_centroids):</span><br><span class="line">            break</span><br><span class="line">        centroids = new_centroids</span><br><span class="line">    return centroids, cluster_indices, iter_num</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>æ”¶æ•›æ¡ä»¶ï¼šæ–°æ—§è´¨å¿ƒå‡ ä¹ç›¸ç­‰æ—¶åœæ­¢è¿­ä»£ã€‚   </li><li>æœ€ç»ˆè¿”å›è´¨å¿ƒã€ç°‡æ ‡ç­¾å’Œè¿­ä»£æ¬¡æ•°ã€‚</li></ul><hr><h2 id="ğŸ“Š-å››ã€å¯è§†åŒ–èšç±»ç»“æœ"><a href="#ğŸ“Š-å››ã€å¯è§†åŒ–èšç±»ç»“æœ" class="headerlink" title="ğŸ“Š å››ã€å¯è§†åŒ–èšç±»ç»“æœ"></a>ğŸ“Š å››ã€å¯è§†åŒ–èšç±»ç»“æœ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(12, 8))</span><br><span class="line">colors_list = [&#x27;red&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;]</span><br><span class="line">markers_list = [&#x27;o&#x27;, &#x27;s&#x27;, &#x27;^&#x27;]</span><br><span class="line"></span><br><span class="line">for i in range(k):</span><br><span class="line">    plt.scatter(</span><br><span class="line">        dataSet[clusterAssment == i, 1], </span><br><span class="line">        dataSet[clusterAssment == i, 3], </span><br><span class="line">        c=colors_list[i], </span><br><span class="line">        marker=markers_list[i], </span><br><span class="line">        label=f&#x27;Cluster &#123;i+1&#125;&#x27;</span><br><span class="line">    )</span><br><span class="line">    plt.scatter(</span><br><span class="line">        centroids[i, 1], </span><br><span class="line">        centroids[i, 3], </span><br><span class="line">        c=colors_list[i], </span><br><span class="line">        marker=&#x27;x&#x27;, </span><br><span class="line">        s=100, </span><br><span class="line">        label=&#x27;Centroids&#x27;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">plt.xlabel(&#x27;Feature 0&#x27;)</span><br><span class="line">plt.ylabel(&#x27;Feature 1&#x27;)</span><br><span class="line">plt.title(f&#x27;KMeans Clustering Result in iter num: &#123;iter_num&#125;&#x27;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>ä¸åŒé¢œè‰²ä»£è¡¨ä¸åŒç°‡ã€‚   </li><li>ä¸åŒæ ‡è®°åŒºåˆ†ç°‡å†…ç‚¹ä¸è´¨å¿ƒã€‚</li></ul><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250523191351498.png" alt="K-Means"></p><hr><h2 id="ğŸ“Œ-äº”ã€æ€»ç»“"><a href="#ğŸ“Œ-äº”ã€æ€»ç»“" class="headerlink" title="ğŸ“Œ äº”ã€æ€»ç»“"></a>ğŸ“Œ äº”ã€æ€»ç»“</h2><table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">å‘é‡åŒ–å®ç°</td><td align="left">æå‡èšç±»é€Ÿåº¦ï¼Œé€‚ç”¨äºå¤§è§„æ¨¡æ•°æ®</td></tr><tr><td align="left">éšæœºåˆå§‹åŒ–</td><td align="left">ç®€å•æ˜“æ‡‚ï¼Œä½†å¯èƒ½é™·å…¥å±€éƒ¨æœ€ä¼˜</td></tr><tr><td align="left">æ”¶æ•›åˆ¤æ–­</td><td align="left">ä½¿ç”¨ <code>np.allclose()</code> é¿å…æ— é™è¿­ä»£</td></tr><tr><td align="left">å¯è§†åŒ–æ”¯æŒ</td><td align="left">å¸®åŠ©ç›´è§‚ç†è§£èšç±»æ•ˆæœ</td></tr></tbody></table><hr><h2 id="ğŸ“š-å…­ã€å‚è€ƒèµ„æ–™"><a href="#ğŸ“š-å…­ã€å‚è€ƒèµ„æ–™" class="headerlink" title="ğŸ“š å…­ã€å‚è€ƒèµ„æ–™"></a>ğŸ“š å…­ã€å‚è€ƒèµ„æ–™</h2><ul><li>[1] Scikit-learn å®˜æ–¹æ–‡æ¡£ï¼šKMeans èšç±»ä»‹ç»   </li><li>[2] KMeans åˆå§‹åŒ–æ–¹æ³•è¯¦è§£ï¼š<code>k-means++</code> vs <code>random</code>   </li><li>[3] NumPy å’Œ Matplotlib åœ¨æœºå™¨å­¦ä¹ ä¸­çš„åº”ç”¨   </li><li>[4] å‘é‡åŒ–è®¡ç®—æé«˜æ•ˆç‡çš„æ–¹æ³•</li></ul><hr><h1 id="ğŸ§ -ä½¿ç”¨-Python-å®ç°è‡ªå®šä¹‰-DBSCAN-èšç±»ç®—æ³•"><a href="#ğŸ§ -ä½¿ç”¨-Python-å®ç°è‡ªå®šä¹‰-DBSCAN-èšç±»ç®—æ³•" class="headerlink" title="ğŸ§  ä½¿ç”¨ Python å®ç°è‡ªå®šä¹‰ DBSCAN èšç±»ç®—æ³•"></a>ğŸ§  ä½¿ç”¨ Python å®ç°è‡ªå®šä¹‰ DBSCAN èšç±»ç®—æ³•</h1><h2 id="DBSCANï¼ˆDensity-Based-Spatial-Clustering-of-Applications-with-Noiseï¼‰æ˜¯ä¸€ç§åŸºäºå¯†åº¦çš„èšç±»ç®—æ³•ï¼Œèƒ½å¤Ÿå‘ç°ä»»æ„å½¢çŠ¶çš„ç°‡ï¼Œå¹¶ä¸”èƒ½è¯†åˆ«å‡ºå™ªå£°ç‚¹ã€‚æœ¬ç¯‡åšå®¢å°†å¸¦ä½ ä¸€æ­¥æ­¥å®ç°ä¸€ä¸ªé«˜æ•ˆçš„-è‡ªå®šä¹‰-DBSCAN-ç®—æ³•ï¼Œå¹¶ä½¿ç”¨æåæ ‡æ–¹å¼ç”Ÿæˆæµ‹è¯•æ ·æœ¬æ•°æ®é›†è¿›è¡ŒéªŒè¯ã€‚"><a href="#DBSCANï¼ˆDensity-Based-Spatial-Clustering-of-Applications-with-Noiseï¼‰æ˜¯ä¸€ç§åŸºäºå¯†åº¦çš„èšç±»ç®—æ³•ï¼Œèƒ½å¤Ÿå‘ç°ä»»æ„å½¢çŠ¶çš„ç°‡ï¼Œå¹¶ä¸”èƒ½è¯†åˆ«å‡ºå™ªå£°ç‚¹ã€‚æœ¬ç¯‡åšå®¢å°†å¸¦ä½ ä¸€æ­¥æ­¥å®ç°ä¸€ä¸ªé«˜æ•ˆçš„-è‡ªå®šä¹‰-DBSCAN-ç®—æ³•ï¼Œå¹¶ä½¿ç”¨æåæ ‡æ–¹å¼ç”Ÿæˆæµ‹è¯•æ ·æœ¬æ•°æ®é›†è¿›è¡ŒéªŒè¯ã€‚" class="headerlink" title="DBSCANï¼ˆDensity-Based Spatial Clustering of Applications with Noiseï¼‰æ˜¯ä¸€ç§åŸºäºå¯†åº¦çš„èšç±»ç®—æ³•ï¼Œèƒ½å¤Ÿå‘ç°ä»»æ„å½¢çŠ¶çš„ç°‡ï¼Œå¹¶ä¸”èƒ½è¯†åˆ«å‡ºå™ªå£°ç‚¹ã€‚æœ¬ç¯‡åšå®¢å°†å¸¦ä½ ä¸€æ­¥æ­¥å®ç°ä¸€ä¸ªé«˜æ•ˆçš„ è‡ªå®šä¹‰ DBSCAN ç®—æ³•ï¼Œå¹¶ä½¿ç”¨æåæ ‡æ–¹å¼ç”Ÿæˆæµ‹è¯•æ ·æœ¬æ•°æ®é›†è¿›è¡ŒéªŒè¯ã€‚   "></a>DBSCANï¼ˆDensity-Based Spatial Clustering of Applications with Noiseï¼‰æ˜¯ä¸€ç§åŸºäºå¯†åº¦çš„èšç±»ç®—æ³•ï¼Œèƒ½å¤Ÿå‘ç°ä»»æ„å½¢çŠ¶çš„ç°‡ï¼Œå¹¶ä¸”èƒ½è¯†åˆ«å‡ºå™ªå£°ç‚¹ã€‚æœ¬ç¯‡åšå®¢å°†å¸¦ä½ ä¸€æ­¥æ­¥å®ç°ä¸€ä¸ªé«˜æ•ˆçš„ <strong>è‡ªå®šä¹‰ DBSCAN ç®—æ³•</strong>ï¼Œå¹¶ä½¿ç”¨æåæ ‡æ–¹å¼ç”Ÿæˆæµ‹è¯•æ ·æœ¬æ•°æ®é›†è¿›è¡ŒéªŒè¯ã€‚   </h2><h2 id="ğŸ“¦-ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡-1"><a href="#ğŸ“¦-ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡-1" class="headerlink" title="ğŸ“¦ ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡"></a>ğŸ“¦ ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡</h2><p>æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹åº“ï¼š   </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from scipy.spatial.distance import cdist</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="âœ…-ç”Ÿæˆæµ‹è¯•æ ·æœ¬"><a href="#âœ…-ç”Ÿæˆæµ‹è¯•æ ·æœ¬" class="headerlink" title="âœ… ç”Ÿæˆæµ‹è¯•æ ·æœ¬"></a>âœ… ç”Ÿæˆæµ‹è¯•æ ·æœ¬</h3><p>æˆ‘ä»¬é€šè¿‡æåæ ‡ç”Ÿæˆä¸¤ä¸ªä¸åŒåŠå¾„èŒƒå›´å†…çš„æ ·æœ¬ç‚¹ï¼Œæ¨¡æ‹Ÿç¯å½¢åˆ†å¸ƒçš„æ•°æ®ï¼š   </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">def generate_sample():</span><br><span class="line">    number_of_samples = 1000</span><br><span class="line">    # å†…éƒ¨å°åœ†ï¼š20% æ•°æ®</span><br><span class="line">    theta = np.random.uniform(0, 2*np.pi, int(0.2*number_of_samples))</span><br><span class="line">    r = np.sqrt(np.random.uniform(0, 4, int(0.2*number_of_samples)))</span><br><span class="line">    x = r * np.cos(theta)</span><br><span class="line">    y = r * np.sin(theta)</span><br><span class="line">    X_1 = np.column_stack((x, y))</span><br><span class="line"></span><br><span class="line">    # å¤–éƒ¨å¤§åœ†ï¼š80% æ•°æ®</span><br><span class="line">    theta = np.random.uniform(0, 2*np.pi, number_of_samples)</span><br><span class="line">    r = np.sqrt(np.random.uniform(25, 36, number_of_samples))</span><br><span class="line">    x = r * np.cos(theta)</span><br><span class="line">    y = r * np.sin(theta)</span><br><span class="line">    X_2 = np.column_stack((x, y))</span><br><span class="line"></span><br><span class="line">    # å¯è§†åŒ–</span><br><span class="line">    plt.figure(figsize=(12, 8))</span><br><span class="line">    plt.scatter(X_1[:, 0], X_1[:, 1], color=&#x27;r&#x27;)</span><br><span class="line">    plt.scatter(X_2[:, 0], X_2[:, 1], color=&#x27;b&#x27;)</span><br><span class="line">    plt.title(&#x27;Generated Sample Data (Polar Coordinates)&#x27;)</span><br><span class="line">    plt.xlabel(&#x27;X&#x27;)</span><br><span class="line">    plt.ylabel(&#x27;Y&#x27;)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line">    return np.vstack((X_1, X_2))</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>âœ… è¯¥æ–¹æ³•å‚è€ƒäº†éšæœºé‡‡æ ·ç­–ç•¥ï¼Œé€‚ç”¨äºæµ‹è¯•å’Œå¯è§†åŒ–åˆ†æã€‚   </p></blockquote><hr><h2 id="âš™ï¸-äºŒã€DBSCAN-ç±»è®¾è®¡ä¸å®ç°"><a href="#âš™ï¸-äºŒã€DBSCAN-ç±»è®¾è®¡ä¸å®ç°" class="headerlink" title="âš™ï¸ äºŒã€DBSCAN ç±»è®¾è®¡ä¸å®ç°"></a>âš™ï¸ äºŒã€DBSCAN ç±»è®¾è®¡ä¸å®ç°</h2><h3 id="1-åˆå§‹åŒ–å‚æ•°"><a href="#1-åˆå§‹åŒ–å‚æ•°" class="headerlink" title="1. åˆå§‹åŒ–å‚æ•°"></a>1. åˆå§‹åŒ–å‚æ•°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class DBSCAN:</span><br><span class="line">    def __init__(self, eps=3):</span><br><span class="line">        self.eps = eps</span><br><span class="line">        self.value_threshold = 750</span><br><span class="line">        self.labels = None</span><br><span class="line">        self.cluster_centers = []</span><br><span class="line"></span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">å‚æ•°</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><code>eps</code></td><td align="left">é‚»åŸŸåŠå¾„ï¼Œç”¨äºåˆ¤æ–­é‚»è¿‘ç‚¹</td></tr><tr><td align="left"><code>value\_threshold</code></td><td align="left">å¯†åº¦å³°å€¼é€‰æ‹©é˜ˆå€¼</td></tr></tbody></table><hr><h3 id="2-è®¡ç®—è·ç¦»ä¸å¯†åº¦"><a href="#2-è®¡ç®—è·ç¦»ä¸å¯†åº¦" class="headerlink" title="2. è®¡ç®—è·ç¦»ä¸å¯†åº¦"></a>2. è®¡ç®—è·ç¦»ä¸å¯†åº¦</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">distances = cdist(X, X, metric=&#x27;euclidean&#x27;)</span><br><span class="line">density = np.sum(distances &lt; self.eps, axis=1)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ <code>cdist</code> ä¸€æ¬¡æ€§è®¡ç®—æ‰€æœ‰ç‚¹ä¹‹é—´çš„æ¬§æ°è·ç¦»   </li><li>æ¯ä¸ªç‚¹çš„å±€éƒ¨å¯†åº¦æ˜¯å…¶é‚»åŸŸå†…ç‚¹çš„æ•°é‡</li></ul><hr><h3 id="3-è®¡ç®—æœ€å°è·ç¦»"><a href="#3-è®¡ç®—æœ€å°è·ç¦»" class="headerlink" title="3. è®¡ç®—æœ€å°è·ç¦»"></a>3. è®¡ç®—æœ€å°è·ç¦»</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">min_distances = []</span><br><span class="line">for i in range(n_samples):</span><br><span class="line">    greater_density_indices = np.where(density &gt; density[i])[0]</span><br><span class="line">    if len(greater_density_indices) &gt; 0:</span><br><span class="line">        min_distance = np.min(distances[i, greater_density_indices])</span><br><span class="line">        min_distances.append(min_distance)</span><br><span class="line">    else:</span><br><span class="line">        min_distances.append(np.max(distances[i]))</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>å¯¹æ¯ä¸ªç‚¹ï¼Œæ‰¾åˆ°æ¯”å®ƒå¯†åº¦é«˜çš„ç‚¹ï¼Œå¹¶è®¡ç®—åˆ°è¿™äº›ç‚¹çš„æœ€å°è·ç¦»</li></ul><hr><h3 id="4-é€‰å–èšç±»ä¸­å¿ƒ"><a href="#4-é€‰å–èšç±»ä¸­å¿ƒ" class="headerlink" title="4. é€‰å–èšç±»ä¸­å¿ƒ"></a>4. é€‰å–èšç±»ä¸­å¿ƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">density_times_min_distance = density * np.array(min_distances)</span><br><span class="line">idx = np.argsort(density_times_min_distance)[::-1]</span><br><span class="line"></span><br><span class="line">mask = density_times_min_distance[idx] &gt; self.value_threshold</span><br><span class="line">selected_indices = idx[mask]</span><br><span class="line">self.labels[selected_indices] = selected_indices</span><br><span class="line">self.cluster_centers.extend(selected_indices.tolist())</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>é€šè¿‡ <code>density Ã— min\_distance</code> æ’åºï¼Œç»“åˆé˜ˆå€¼ç­›é€‰èšç±»ä¸­å¿ƒ</li></ul><hr><h3 id="5-å¹¿åº¦ä¼˜å…ˆæ‰©å±•èšç±»"><a href="#5-å¹¿åº¦ä¼˜å…ˆæ‰©å±•èšç±»" class="headerlink" title="5. å¹¿åº¦ä¼˜å…ˆæ‰©å±•èšç±»"></a>5. å¹¿åº¦ä¼˜å…ˆæ‰©å±•èšç±»</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Have_labeled = []</span><br><span class="line">for label in cluster_centers.keys():</span><br><span class="line">    queue_center = cluster_centers[label].copy()</span><br><span class="line">    Have_labeled.extend(queue_center)</span><br><span class="line"></span><br><span class="line">    while queue_center:</span><br><span class="line">        current = queue_center.pop(0)</span><br><span class="line">        neighbors = np.where(distances[current] &lt; self.eps)[0]</span><br><span class="line">        for neighbor in neighbors:</span><br><span class="line">            if neighbor not in Have_labeled:</span><br><span class="line">                self.labels[neighbor] = self.labels[current]</span><br><span class="line">                Have_labeled.append(neighbor)</span><br><span class="line">                queue_center.append(neighbor)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ BFS æ‰©å±•ç°‡ï¼Œå°†é‚»åŸŸç‚¹æ ‡è®°ä¸ºç›¸åŒæ ‡ç­¾</li></ul><hr><h3 id="6-ç»Ÿä¸€æ ‡ç­¾ç¼–å·"><a href="#6-ç»Ÿä¸€æ ‡ç­¾ç¼–å·" class="headerlink" title="6. ç»Ÿä¸€æ ‡ç­¾ç¼–å·"></a>6. ç»Ÿä¸€æ ‡ç­¾ç¼–å·</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">final_labels = np.unique(self.labels)</span><br><span class="line">label_map = &#123;label: i for i, label in enumerate(final_labels)&#125;</span><br><span class="line">if -1 in label_map:</span><br><span class="line">    label_map[-1] = -1</span><br><span class="line">self.labels = np.array([label_map[label] for label in self.labels])</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>å°†åŸå§‹ç´¢å¼•æ ‡ç­¾æ˜ å°„ä¸ºè¿ç»­æ•´æ•°ï¼Œä¾¿äºåç»­å¤„ç†</li></ul><hr><h2 id="ğŸ“Š-ä¸‰ã€å¯è§†åŒ–èšç±»ç»“æœ"><a href="#ğŸ“Š-ä¸‰ã€å¯è§†åŒ–èšç±»ç»“æœ" class="headerlink" title="ğŸ“Š ä¸‰ã€å¯è§†åŒ–èšç±»ç»“æœ"></a>ğŸ“Š ä¸‰ã€å¯è§†åŒ–èšç±»ç»“æœ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">unique_labels = np.unique(labels)</span><br><span class="line">colors = plt.get_cmap(&#x27;tab10&#x27;, len(unique_labels))</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(12, 8))</span><br><span class="line">for idx, label in enumerate(unique_labels):</span><br><span class="line">    mask = labels == label</span><br><span class="line">    plt.scatter(X[mask, 0], X[mask, 1], s=10, color=colors(idx),</span><br><span class="line">                label=f&#x27;Cluster &#123;label&#125;&#x27; if label != -1 else &#x27;Noise&#x27;)</span><br><span class="line"></span><br><span class="line">plt.title(&#x27;DBSCAN Clustering Result&#x27;)</span><br><span class="line">plt.xlabel(&#x27;X1&#x27;)</span><br><span class="line">plt.ylabel(&#x27;X2&#x27;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>ä¸åŒé¢œè‰²ä»£è¡¨ä¸åŒç°‡   </li><li><code>-1</code> è¡¨ç¤ºå™ªå£°ç‚¹</li></ul><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250523191402097.png" alt="Raw division"><br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250523191407495.png" alt="DBSCAN"></p><hr><h2 id="ğŸ“Œ-å››ã€æ€»ç»“ä¸ä¼˜åŒ–å»ºè®®"><a href="#ğŸ“Œ-å››ã€æ€»ç»“ä¸ä¼˜åŒ–å»ºè®®" class="headerlink" title="ğŸ“Œ å››ã€æ€»ç»“ä¸ä¼˜åŒ–å»ºè®®"></a>ğŸ“Œ å››ã€æ€»ç»“ä¸ä¼˜åŒ–å»ºè®®</h2><table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">æåæ ‡ç”Ÿæˆæ ·æœ¬</td><td align="left">æ›´é€‚åˆç¯å½¢æˆ–çƒå½¢æ•°æ®é›†</td></tr><tr><td align="left">å‘é‡åŒ–æ“ä½œ</td><td align="left">æå‡æ€§èƒ½ï¼Œé¿å…åŒé‡å¾ªç¯</td></tr><tr><td align="left">æ”¯æŒå™ªå£°è¯†åˆ«</td><td align="left">æ˜¯ DBSCAN çš„æ ¸å¿ƒä¼˜åŠ¿ä¹‹ä¸€</td></tr><tr><td align="left">å¯è§†åŒ–æ¸…æ™°</td><td align="left">å¸®åŠ©ç†è§£èšç±»æ•ˆæœ</td></tr></tbody></table><h3 id="âœ…-ä¼˜åŒ–å»ºè®®ï¼š"><a href="#âœ…-ä¼˜åŒ–å»ºè®®ï¼š" class="headerlink" title="âœ… ä¼˜åŒ–å»ºè®®ï¼š"></a>âœ… ä¼˜åŒ–å»ºè®®ï¼š</h3><ul><li>ä½¿ç”¨ <code>K-D Tree</code> æˆ– <code>Ball Tree</code> åŠ é€Ÿé‚»åŸŸæŸ¥è¯¢   </li><li>æ›¿æ¢å›ºå®šé˜ˆå€¼ä¸ºåŠ¨æ€é€‰æ‹©ç­–ç•¥   </li><li>æ”¯æŒè‡ªåŠ¨ç¡®å®š <code>eps</code> å’Œ <code>min\_samples</code>   </li><li>ä½¿ç”¨ <code>numba</code> æˆ– <code>Cython</code> åŠ é€Ÿæ ¸å¿ƒå¾ªç¯éƒ¨åˆ†</li></ul><hr><h2 id="ğŸ“š-äº”ã€å‚è€ƒèµ„æ–™"><a href="#ğŸ“š-äº”ã€å‚è€ƒèµ„æ–™" class="headerlink" title="ğŸ“š äº”ã€å‚è€ƒèµ„æ–™"></a>ğŸ“š äº”ã€å‚è€ƒèµ„æ–™</h2><ul><li>[1] <code>scipy.spatial.distance.cdist</code> ç”¨æ³•   </li><li>[2] æµ‹è¯•æ ·æœ¬ç”Ÿæˆæ–¹æ³•   </li><li>[3] èšç±»ç®—æ³•åœ¨æœºå™¨å­¦ä¹ ä¸­çš„åº”ç”¨   </li><li>[4] DBSCAN ç®—æ³•åŸç†è¯¦è§£</li></ul><hr><p>ğŸ‰ æ„Ÿ**è°¢é˜…è¯»ï¼Œå¸Œæœ›è¿™ç¯‡åšå®¢å¯¹ä½ ç†è§£å’Œå®ç° DBSCAN èšç±»æœ‰æ‰€å¸®åŠ©ï¼   </p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3Då»ºæ¨¡ä¸‹çš„å‚æ•°ä¼°è®¡</title>
      <link href="/2025/05/20/research/3D_Positioning_estimation/"/>
      <url>/2025/05/20/research/3D_Positioning_estimation/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>åœ¨ä¿¡å·å¤„ç†é¢†åŸŸï¼Œå‚æ•°ä¼°è®¡æ˜¯å®ç°ç›®æ ‡è¯†åˆ«ä¸å®šä½çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ã€‚ç»å…¸è®ºæ–‡ã€ŠESPRIT: Estimation of Signal Parameters via Rotational Invariance Techniquesã€‹æå‡ºäº†åŸºäºæ—‹è½¬ä¸å˜æ€§çš„è¶…åˆ†è¾¨ç‡å‚æ•°ä¼°è®¡ç®—æ³•ï¼Œè€Œã€ŠMultiple Emitter Location and Signal Parameter Estimationã€‹åˆ™è¿›ä¸€æ­¥æ‹“å±•äº†å¤šä¿¡å·æºå®šä½çš„ç†è®ºæ¡†æ¶ã€‚æœ¬æ–‡ç»“åˆåŸå§‹æ€æƒ³ä¸æœ€æ–°æ”¹è¿›ç®—æ³•ï¼Œæ¢è®¨3Då»ºæ¨¡ä¸‹çš„å‚æ•°ä¼°è®¡æ–¹æ³•ã€‚</p><hr><h2 id="ESPRITç®—æ³•æ ¸å¿ƒæ€æƒ³"><a href="#ESPRITç®—æ³•æ ¸å¿ƒæ€æƒ³" class="headerlink" title="ESPRITç®—æ³•æ ¸å¿ƒæ€æƒ³"></a>ESPRITç®—æ³•æ ¸å¿ƒæ€æƒ³</h2><h3 id="æ—‹è½¬ä¸å˜æ€§åŸç†"><a href="#æ—‹è½¬ä¸å˜æ€§åŸç†" class="headerlink" title="æ—‹è½¬ä¸å˜æ€§åŸç†"></a>æ—‹è½¬ä¸å˜æ€§åŸç†</h3><p>ESPRITç®—æ³•çš„æ ¸å¿ƒåœ¨äºåˆ©ç”¨ä¿¡å·å­ç©ºé—´çš„æ—‹è½¬ä¸å˜æ€§[[4]]ã€‚é€šè¿‡æ„å»ºä¸¤ä¸ªå­˜åœ¨ä½ç§»å…³ç³»çš„ä¼ æ„Ÿå™¨é˜µåˆ—ï¼Œå…¶æ¥æ”¶ä¿¡å·æ»¡è¶³ï¼š<br>$$<br>\mathbf{X}_2 &#x3D; \mathbf{X}_1 \mathbf{\Phi}<br>$$<br>å…¶ä¸­ $\mathbf{\Phi}$ ä¸ºåŒ…å«ä¿¡å·åˆ°è¾¾è§’ï¼ˆDOAï¼‰ä¿¡æ¯çš„å¯¹è§’çŸ©é˜µã€‚é€šè¿‡å¯¹ä¿¡å·å­ç©ºé—´è¿›è¡Œå¥‡å¼‚å€¼åˆ†è§£ï¼ˆSVDï¼‰ï¼Œå¯ç›´æ¥ä»çŸ©é˜µ $\mathbf{\Phi}$ ä¸­æå–ä¿¡å·å‚æ•°[[4]]ã€‚</p><h3 id="å­ç©ºé—´åˆ†è§£"><a href="#å­ç©ºé—´åˆ†è§£" class="headerlink" title="å­ç©ºé—´åˆ†è§£"></a>å­ç©ºé—´åˆ†è§£</h3><p>åŸå§‹ESPRITé€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°å‚æ•°ä¼°è®¡ï¼š</p><ol><li>æ„é€ é˜µåˆ—åæ–¹å·®çŸ©é˜µå¹¶è¿›è¡Œç‰¹å¾å€¼åˆ†è§£ï¼›</li><li>åˆ†ç¦»ä¿¡å·å­ç©ºé—´ä¸å™ªå£°å­ç©ºé—´ï¼›</li><li>åˆ©ç”¨å­é˜µåˆ—é—´çš„å¹³ç§»å…³ç³»æ±‚è§£æ—‹è½¬çŸ©é˜µ $\mathbf{\Psi}$ï¼›</li><li>é€šè¿‡ç‰¹å¾åˆ†è§£è·å¾—ä¿¡å·çš„æ³¢è¾¾æ–¹å‘ï¼ˆDOAï¼‰[[4]]ã€‚</li></ol><hr><h2 id="MUSICç®—æ³•æ ¸å¿ƒæ€æƒ³"><a href="#MUSICç®—æ³•æ ¸å¿ƒæ€æƒ³" class="headerlink" title="MUSICç®—æ³•æ ¸å¿ƒæ€æƒ³"></a>MUSICç®—æ³•æ ¸å¿ƒæ€æƒ³</h2><h3 id="æ ¸å¿ƒæ€æƒ³"><a href="#æ ¸å¿ƒæ€æƒ³" class="headerlink" title="æ ¸å¿ƒæ€æƒ³"></a>æ ¸å¿ƒæ€æƒ³</h3><ol><li><p><strong>ä¿¡å·å­ç©ºé—´ä¸å™ªå£°å­ç©ºé—´åˆ†ç¦»</strong><br>è®ºæ–‡æå‡ºåˆ©ç”¨åæ–¹å·®çŸ©é˜µç‰¹å¾å€¼åˆ†è§£ï¼Œå°†ä¿¡å·ç©ºé—´åˆ’åˆ†ä¸ºä¿¡å·å­ç©ºé—´ï¼ˆç”±å¤§ç‰¹å¾å€¼å¯¹åº”ç‰¹å¾å‘é‡å¼ æˆï¼‰å’Œå™ªå£°å­ç©ºé—´ï¼ˆç”±å°ç‰¹å¾å€¼å¯¹åº”ç‰¹å¾å‘é‡å¼ æˆï¼‰ã€‚ä¸¤è€…æ­£äº¤çš„ç‰¹æ€§æˆä¸ºå‚æ•°ä¼°è®¡çš„å…³é”® [[2]][[9]]ã€‚</p></li><li><p><strong>ç©ºé—´è°±æœç´¢</strong><br>é€šè¿‡æ„å»ºå¦‚ä¸‹MUSICè°±å‡½æ•°å®ç°ä¿¡å·æºå®šä½ï¼š<br>$$<br>P_{\text{MUSIC}}(\theta) &#x3D; \frac{1}{\mathbf{a}(\theta)^H \mathbf{E}_n \mathbf{E}_n^H \mathbf{a}(\theta)}<br>$$<br>å…¶ä¸­ $\mathbf{E}_n$ ä¸ºå™ªå£°å­ç©ºé—´ï¼Œ$\mathbf{a}(\theta)$ ä¸ºé˜µåˆ—æµå½¢å‘é‡ã€‚å½“ $\theta$ æ‰«æåˆ°çœŸå®ä¿¡å·æ–¹å‘æ—¶ï¼Œåˆ†æ¯è¶‹è¿‘äºé›¶ï¼Œè°±å³°ä½ç½®å³å¯¹åº”ä¿¡å·æºæ–¹å‘ [[3]][[9]]ã€‚</p></li></ol><hr><h2 id="æ‰©å±•åˆ°ä¸‰ç»´ç©ºé—´ä¸‹çš„ä¼°è®¡"><a href="#æ‰©å±•åˆ°ä¸‰ç»´ç©ºé—´ä¸‹çš„ä¼°è®¡" class="headerlink" title="æ‰©å±•åˆ°ä¸‰ç»´ç©ºé—´ä¸‹çš„ä¼°è®¡"></a>æ‰©å±•åˆ°ä¸‰ç»´ç©ºé—´ä¸‹çš„ä¼°è®¡</h2><p>éšç€5Gé€šæ„Ÿä¸€ä½“åŒ–å’Œæ™ºèƒ½æ„ŸçŸ¥çš„å‘å±•ï¼Œå®é™…åº”ç”¨ä¸­å¯¹ä¸‰ç»´ç©ºé—´ï¼ˆæ–¹ä½è§’ã€ä¿¯ä»°è§’ã€è·ç¦»ç­‰ï¼‰å‚æ•°çš„é«˜ç²¾åº¦ä¼°è®¡æå‡ºäº†æ›´é«˜è¦æ±‚ã€‚ä¼ ç»ŸMUSICå’ŒESPRITç®—æ³•ä¸»è¦é’ˆå¯¹äºŒç»´ï¼ˆå¦‚ä»…ä¼°è®¡æ–¹ä½è§’ï¼‰ï¼Œè€Œä¸‰ç»´åœºæ™¯ä¸‹éœ€è¦å¯¹ä¿¡å·çš„å¤šä¸ªç©ºé—´å‚æ•°è¿›è¡Œè”åˆä¼°è®¡ã€‚</p><h3 id="ä¸‰ç»´ESPRITç®—æ³•"><a href="#ä¸‰ç»´ESPRITç®—æ³•" class="headerlink" title="ä¸‰ç»´ESPRITç®—æ³•"></a>ä¸‰ç»´ESPRITç®—æ³•</h3><p>ä¸‰ç»´ESPRITç®—æ³•éœ€è¦å¹³é¢æˆ–è€…ç«‹ä½“çš„å¤©çº¿é˜µåˆ—æµå½¢ï¼Œè¿™é‡Œæˆ‘ä»¬ä»¥å¹³é¢é˜µåˆ—æµå½¢ä¸ºä¾‹ï¼Œä¸”ç›¸é‚»çš„å¤©çº¿ä¹‹é—´çš„é—´è·ç›¸ç­‰ï¼Œå³å‡åŒ€å¹³é¢å¤©çº¿ï¼ˆUPAï¼‰ï¼›</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250520101247882.png" alt="UPA"></p><p>é€šè¿‡å°†ä¿¡å·çš„æ³¢è¾¾è§’åˆ†è§£ä¸ºæ°´å¹³çš„æ–¹ä½è§’ä»¥åŠå‚ç›´çš„ä¿¯ä»°è§’ï¼Œå¯ä»¥å°†ä¿¡å·åˆ°è¾¾ä¸åŒå¤©çº¿çš„è·¯ç¨‹å·®é€šè¿‡å¤©çº¿é—´è·$d$ã€æ–¹ä½è§’$\phi$ä»¥åŠä¿¯ä»°è§’$\theta$è”åˆè¡¨ç¤ºï¼š</p><p>$$<br>\Delta \lambda_{m,n} &#x3D; d \left[ (m-1)\sin\theta\cos\phi + (n-1)\sin\theta\sin\phi \right]<br>$$</p><p>ç”±äºå¤©çº¿ä¹‹é—´çš„é—´éš”ä»¥åŠæ³¢è¾¾è§’å¯¼è‡´çš„ä¿¡å·åˆ°è¾¾å¤©çº¿é˜µåˆ—æ‰€ç»å†çš„æ—¶é—´ä¸åŒï¼Œæ„å‘³ç€ä¿¡å·åˆ°è¾¾ä¸åŒå¤©çº¿çš„ç›¸ä½ä¹Ÿä¸ä¸€æ ·ã€‚ç”±äºæ˜¯å‡åŒ€åˆ†å¸ƒçš„å¤©çº¿ï¼Œæˆ‘ä»¬å¯ä»¥æ¨æµ‹ï¼Œç›¸é‚»å¤©çº¿ä¹‹é—´çš„ç›¸ä½å·®æ˜¯ä¸€ä¸ªå®šå€¼ï¼Œå› æ­¤å¯ä»¥é€šè¿‡é€‰æ‹©å¤©çº¿å¯¹ï¼Œç„¶åç”±ESPRITçš„ç®—æ³•å¾—åˆ°æ—‹è½¬ä¸å˜æ€§ï¼Œä»è€Œè®¡ç®—å¾—åˆ°ä¸¤ä¸ªå‚æ•°ï¼š$\sin\theta\cos\phi$ ä»¥åŠ $\sin\theta\sin\phi$ï¼Œä¹‹åä¾¿å¯ä»¥è½»æ¾çš„è®¡ç®—å‡ºæˆ‘ä»¬éœ€è¦çš„æ–¹ä½è§’$\phi$ä»¥åŠä¿¯ä»°è§’$\theta$ã€‚</p><h3 id="ä¸‰ç»´ESPRITç®—æ³•çš„éš¾ç‚¹"><a href="#ä¸‰ç»´ESPRITç®—æ³•çš„éš¾ç‚¹" class="headerlink" title="ä¸‰ç»´ESPRITç®—æ³•çš„éš¾ç‚¹"></a>ä¸‰ç»´ESPRITç®—æ³•çš„éš¾ç‚¹</h3><p>è¿™é‡Œçš„éš¾ç‚¹åœ¨äºï¼Œå¯¹æ¥æ”¶åˆ°çš„ä¿¡å·åšä¿¡é“ä¼°è®¡ä»¥åŠä¿¡é“è¡¥å¿ä¸€ç³»åˆ—æ“ä½œåå¾—åˆ°çš„ä¿¡é“å“åº”æ˜¯æ‰€æœ‰å¤©çº¿é˜µåˆ—æ¥æ”¶ä¿¡é“çš„å åŠ ï¼Œä»ä¿¡é“å“åº”çš„å½¢çŠ¶ä¸Šæ¥è¯´å·²ç»æ²¡æœ‰äº†å¤©çº¿é˜µåˆ—çš„å½¢çŠ¶ä¿¡æ¯ï¼Œ<strong>å¦‚ä½•å°†ä¿¡é“å“åº”$H$é‡æ–°å¡‘å½¢</strong>åˆ™æ˜¯ä¸€å¤§éš¾é¢˜ã€‚</p><p>å¯¹äºå¦‚ä½•è·å¾—ä¿¡é“å“åº”ï¼Œä»æ„ŸçŸ¥çš„è§’åº¦è€Œè¨€ï¼Œå°†ä¸åŒå‚æ•°å¯¹åº”çš„å¯¼å‘çŸ¢é‡åšå…‹ç½—å†…å…‹ç§¯ä¾¿å¾—åˆ°äº†ä¿¡é“å“åº”ï¼š</p><p>$$<br>H &#x3D; a_{aoa} \otimes a_{zoa}<br>$$</p><p>è¿™é‡Œçš„$\otimes$ä»£è¡¨å…‹ç½—å†…å…‹ç§¯ï¼ˆkronecker productï¼‰ï¼Œ$a_{x}$è¡¨ç¤ºä¸ºæŸä¸ªå‚æ•°çš„å¯¼å‘çŸ¢é‡ã€‚è¿™é‡Œå¾—åˆ°çš„æ˜¯ç†æƒ³ä¿¡é“å“åº”ï¼Œå¯ä»¥æ·»åŠ åŠ æ€§é«˜æ–¯ç™½å™ªå£°ä»¥æ¨¡ä»¿å®é™…çš„ä¿¡é“å“åº”ã€‚</p><h3 id="ä¸‰ç»´ESPRITç®—æ³•çš„å…·ä½“å®ç°"><a href="#ä¸‰ç»´ESPRITç®—æ³•çš„å…·ä½“å®ç°" class="headerlink" title="ä¸‰ç»´ESPRITç®—æ³•çš„å…·ä½“å®ç°"></a>ä¸‰ç»´ESPRITç®—æ³•çš„å…·ä½“å®ç°</h3><p>è”åˆå¯¼å‘çŸ¢é‡çš„å®šä¹‰å¯ä»¥ç”¨xæ–¹å‘å¤©çº¿çš„å¯¼å‘çŸ¢é‡ä¸yæ–¹å‘å¤©çº¿çš„å¯¼å‘çŸ¢é‡åšå…‹ç½—å†…å…‹ç§¯å¾—åˆ°</p><p>$$ A &#x3D; A_{x} \otimes A_{y} $$</p><p>ä¹Ÿå¯ä»¥é€šè¿‡ç›´æ¥çš„å®šä¹‰å¾—åˆ°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ„å»ºäºŒç»´é˜µåˆ—å“åº”</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">steering_vector_2d</span>(<span class="params">az_deg, el_deg</span>):</span><br><span class="line">    <span class="comment">#^ è§’åº¦å€¼è½¬å¼§åº¦åˆ¶</span></span><br><span class="line">    az = np.radians(az_deg) <span class="comment"># æ–¹ä½è§’</span></span><br><span class="line">    el = np.radians(el_deg) <span class="comment"># ä¿¯ä»°è§’</span></span><br><span class="line">    kx = np.sin(el) * np.cos(az)</span><br><span class="line">    ky = np.sin(el) * np.sin(az)</span><br><span class="line">    a = np.zeros((Mx, My), dtype=<span class="built_in">complex</span>)</span><br><span class="line">    <span class="keyword">for</span> m <span class="keyword">in</span> <span class="built_in">range</span>(Mx):</span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(My):</span><br><span class="line">            a[m, n] = np.exp(-<span class="number">1j</span> * <span class="number">2</span> * np.pi * (dx * m * kx + dy * n * ky) / wavelength)</span><br><span class="line">    <span class="keyword">return</span> a.flatten()</span><br></pre></td></tr></table></figure><p>æ¥æ”¶ä¿¡å·çŸ©é˜µå¯ä»¥å…·ä½“è¡¨ç°ä¸º</p><p>$$ X &#x3D; AS + N $$</p><p>å…¶ä¸­çš„$A_{M, K}$ä¸ºæ¥æ”¶çŸ©é˜µçš„é˜µåˆ—å“åº”ï¼Œ$S_{K, snapshots}$ä¸º$N$ä¸ªä¿¡å·æºåœ¨æ¥æ”¶å¤©çº¿çš„é‡‡æ ·å€¼ï¼Œ$N_{M, snapshots}$ä¸ºå™ªå£°ã€‚</p><p>å¯¹æ¥æ”¶ä¿¡å·ç›´æ¥åšSVDï¼Œå¯ä»¥å¾—åˆ°æ¥æ”¶ä¿¡å·çš„åæ–¹å·®çŸ©é˜µä»¥åŠä¿¡å·å­ç©ºé—´å’Œå™ªå£°å­ç©ºé—´çš„åŸº</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åæ–¹å·®çŸ©é˜µä¼°è®¡ä¸SVDåˆ†è§£</span></span><br><span class="line">R = X @ X.conj().T / snapshots  <span class="comment">#^ [M, M]çš„åæ–¹å·®çŸ©é˜µ</span></span><br><span class="line">U, _, _ = svd(R)</span><br><span class="line">Us = U[:, :K]                   <span class="comment">#^ [M, K]çš„ä¿¡å·å­ç©ºé—´çŸ©é˜µ</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­ç‰¹å¾å‘é‡çš„é€‰æ‹©å–å†³äºä¿¡å·æºçš„ä¸ªæ•°ï¼Œä¸”å½¢çŠ¶ä¸º<strong>å¤©çº¿æ•°Xä¿¡å·æºæ•°</strong>,å¯¹æ¯ä¸€ä¸ªç‰¹å¾å‘é‡è¿›è¡Œé‡æ–°å¡‘å½¢ï¼Œå…·ä½“æ€æƒ³ä¸ºé€‰æ‹©å‰$row - 1$å¤©çº¿é˜µå…ƒçš„å“åº”å’Œå$row - 1$å¤©çº¿é˜µå…ƒçš„å“åº”ï¼Œé€šè¿‡ESPRITç®—æ³•å¯ä»¥å¾—åˆ°ç›¸ä½åå·®ï¼Œå¯¹åº”äºxè½´æ–¹å‘å¤©çº¿é˜µå…ƒä¹‹é—´çš„ç›¸ä½åç§»$\sin\theta\cos\phi$ã€‚åŒç†é€‰æ‹©å‰$col - 1$å¤©çº¿é˜µå…ƒçš„å“åº”å’Œå$col - 1$å¤©çº¿é˜µå…ƒçš„å“åº”å¯ä»¥è®¡ç®—å‡ºyè½´æ–¹å‘å¤©çº¿é˜µå…ƒä¹‹é—´çš„ç›¸ä½åç§»$\sin\theta\sin\phi$ï¼Œä»è€Œå¾—åˆ°æ³¢è¾¾è§’ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ„é€ ç§»ä½å­é˜µåˆ—ç´¢å¼•</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">shift_indices</span>(<span class="params">dim_x, dim_y, axis</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    å‡½æ•°ä½œç”¨: å…ˆæ„å»ºä¸€ä¸ªdim_x * dim_yçš„äºŒç»´çŸ©é˜µ ç´¢å¼•ä»(0, 0)åˆ°(dim_x-1, dim_y-1)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    å¦‚æœä¼ å…¥axis=0 åˆ™å°†è¡Œè¿›è¡Œåˆ é™¤æ“ä½œ ç„¶åæŒ‰ç…§è¡Œçš„é¡ºåº é¡ºæ¬¡å­˜å–ä¸ºä¸€ä¸ªä¸€ç»´çš„index å¦‚0ã€1ã€2ã€...æˆ–è€…6ã€7ã€8ã€...</span></span><br><span class="line"><span class="string">    å¦‚æœä¼ å…¥axis=1 åˆ™å°†åˆ—è¿›è¡Œåˆ é™¤æ“ä½œ ç„¶åæŒ‰ç…§è¡Œçš„é¡ºåº é¡ºæ¬¡å­˜å–ä¸ºä¸€ä¸ªä¸€ç»´çš„index å¦‚0ã€1ã€2ã€3ã€4ã€6ã€...æˆ–è€…1ã€2ã€3ã€4ã€5ã€7ã€...</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> axis == <span class="number">0</span>:  <span class="comment"># x æ–¹å‘ï¼ˆå‚ç›´æ–¹å‘ï¼‰ç§»ä½</span></span><br><span class="line">        rows = np.arange(dim_x - <span class="number">1</span>)</span><br><span class="line">        idx1 = np.ravel_multi_index(np.meshgrid(rows, np.arange(dim_y), indexing=<span class="string">&#x27;ij&#x27;</span>), (dim_x, dim_y))</span><br><span class="line">        idx2 = np.ravel_multi_index(np.meshgrid(rows + <span class="number">1</span>, np.arange(dim_y), indexing=<span class="string">&#x27;ij&#x27;</span>), (dim_x, dim_y))</span><br><span class="line">    <span class="keyword">elif</span> axis == <span class="number">1</span>:  <span class="comment"># y æ–¹å‘ï¼ˆæ°´å¹³æ–¹å‘ï¼‰ç§»ä½</span></span><br><span class="line">        cols = np.arange(dim_y - <span class="number">1</span>)</span><br><span class="line">        idx1 = np.ravel_multi_index(np.meshgrid(np.arange(dim_x), cols, indexing=<span class="string">&#x27;ij&#x27;</span>), (dim_x, dim_y))</span><br><span class="line">        idx2 = np.ravel_multi_index(np.meshgrid(np.arange(dim_x), cols + <span class="number">1</span>, indexing=<span class="string">&#x27;ij&#x27;</span>), (dim_x, dim_y))</span><br><span class="line">    <span class="keyword">return</span> idx1.flatten(), idx2.flatten()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ä¸¤ä¸ªæ–¹å‘çš„å­é˜µåˆ—</span></span><br><span class="line">Ux1_idx, Ux2_idx = shift_indices(Mx, My, axis=<span class="number">0</span>)</span><br><span class="line">Uy1_idx, Uy2_idx = shift_indices(Mx, My, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">Ux1 = Us[Ux1_idx, :]</span><br><span class="line">Ux2 = Us[Ux2_idx, :]</span><br><span class="line">Uy1 = Us[Uy1_idx, :]</span><br><span class="line">Uy2 = Us[Uy2_idx, :]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ†åˆ«è®¡ç®—xæ–¹å‘å’Œyæ–¹å‘çš„PsiçŸ©é˜µ</span></span><br><span class="line">Psi_x = pinv(Ux1) @ Ux2</span><br><span class="line">Psi_y = pinv(Uy1) @ Uy2</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ±‚è§£ç‰¹å¾å€¼å¹¶ä¼°è®¡æ–¹å‘ä½™å¼¦</span></span><br><span class="line">eigvals_x, _ = eig(Psi_x)</span><br><span class="line">eigvals_y, _ = eig(Psi_y)</span><br><span class="line"></span><br><span class="line">angles_x = np.angle(eigvals_x)</span><br><span class="line">angles_y = np.angle(eigvals_y)</span><br><span class="line"></span><br><span class="line">kx_est = angles_x * wavelength / (<span class="number">2</span> * np.pi * dx)</span><br><span class="line">ky_est = angles_y * wavelength / (<span class="number">2</span> * np.pi * dy)</span><br></pre></td></tr></table></figure><p>ä»£ç ä¸­å®šä¹‰çš„å‡½æ•°<code>shift_indices</code>ä¸­æ ¹æ®æ¥æ”¶å¤©çº¿çš„å½¢çŠ¶å®šä¹‰æ¯æ ¹å¤©çº¿çš„ç´¢å¼•ï¼Œxæ–¹å‘å’Œyæ–¹å‘ä¸Šåˆ†åˆ«å–å­é˜µåˆ—çš„é˜µå…ƒç´¢å¼•ï¼Œå…·ä½“å¯ä»¥çœ‹å‡½æ•°çš„è§£æã€‚å†é€šè¿‡ç´¢å¼•é€‰å–ç‰¹å¾å‘é‡ä¸­çš„å…ƒç´ ï¼Œé€šè¿‡ESPRITçš„ç®—æ³•ä¾¿å¯ä»¥å¾—åˆ°ä¸åŒæ–¹å‘ä¸Šå¤©çº¿é˜µå…ƒä¹‹é—´çš„ä¿¡å·ç›¸ä½å·®ï¼Œå†ç”±ç›¸ä½å·®ä¾¿å¯ä»¥è½»æ¾çš„å¾—åˆ°æ³¢è¾¾è§’ã€‚</p><h3 id="ä¸‰ç»´MUSICç®—æ³•"><a href="#ä¸‰ç»´MUSICç®—æ³•" class="headerlink" title="ä¸‰ç»´MUSICç®—æ³•"></a>ä¸‰ç»´MUSICç®—æ³•</h3><p>ä¸‰ç»´MUSICç®—æ³•é€šå¸¸åŸºäºä¸‰ç»´é˜µåˆ—ï¼ˆå¦‚å¹³é¢é˜µåˆ—æˆ–ç«‹ä½“é˜µåˆ—ï¼‰ï¼Œå…¶æ ¸å¿ƒæ€æƒ³ä¸äºŒç»´ç±»ä¼¼ï¼Œä½†éœ€è¦æ„é€ ä¸‰ç»´ç©ºé—´çš„é˜µåˆ—æµå½¢å‘é‡ $\mathbf{a}(\theta, \phi, r)$ï¼Œå¹¶åœ¨ä¸‰ç»´å‚æ•°ç©ºé—´å†…è¿›è¡Œè°±å³°æœç´¢ï¼š</p><p>$$<br>P_{\text{MUSIC}}(\theta, \phi, r) &#x3D; \frac{1}{\mathbf{a}(\theta, \phi, r)^H \mathbf{E}_n \mathbf{E}_n^H \mathbf{a}(\theta, \phi, r)}<br>$$</p><p>å…¶ä¸­ï¼Œ$\theta$ ä¸ºæ–¹ä½è§’ï¼Œ$\phi$ ä¸ºä¿¯ä»°è§’ï¼Œ$r$ å¯ä¸ºè·ç¦»æˆ–æåŒ–ç­‰å‚æ•°ã€‚é€šè¿‡åœ¨ä¸‰ç»´å‚æ•°ç©ºé—´å†…æœç´¢è°±å³°ï¼Œå®ç°å¯¹ä¿¡å·æºç©ºé—´ä½ç½®çš„ç²¾ç¡®ä¼°è®¡ã€‚è¯¥æ–¹æ³•åˆ†è¾¨ç‡é«˜ï¼Œä½†è®¡ç®—é‡å¤§ï¼Œå¸¸éœ€ç»“åˆé™ç»´æˆ–å¹¶è¡Œè®¡ç®—ä¼˜åŒ–ã€‚</p><h3 id="äº’ç´ é˜µåˆ—æµå½¢â€”â€”é™ç»´MUSICç®—æ³•"><a href="#äº’ç´ é˜µåˆ—æµå½¢â€”â€”é™ç»´MUSICç®—æ³•" class="headerlink" title="äº’ç´ é˜µåˆ—æµå½¢â€”â€”é™ç»´MUSICç®—æ³•"></a>äº’ç´ é˜µåˆ—æµå½¢â€”â€”é™ç»´MUSICç®—æ³•</h3><p>å‡åŒ€å¹³é¢é˜µåˆ—(Uniform Planar Array, UPA)  æ˜¯ä¸€ç§ç»å…¸æ¨¡å‹,å…¶ç›¸é‚»é˜µå…ƒé—´è·å‡ä¸ºåŠæ³¢é•¿,è¯¥  æ¨¡å‹åœ¨3ç»´ä¿¡æºå®šä½æ—¶ç²¾åº¦è¾ƒé«˜,ä½†åœ¨é˜µåˆ—å£å¾„è¾ƒ  å¤§æ—¶,è¾ƒé«˜çš„ç»“æ„å¤æ‚åº¦é™åˆ¶äº†è¯¥æ¨¡å‹çš„åº”ç”¨ã€‚ä¸º  äº†å®ç°ä½å¤æ‚åº¦çš„3ç»´ä¿¡æºç²¾ç¡®å®šä½,æœ¬æ–‡æå‡º  CLACS-SPAç»“æ„,å…¶ä¸»è¦ç‰¹å¾æ˜¯å°†ä¸€åˆ—äº’ç´ çº¿é˜µ  (Coprime Linear Array, CLA)æ²¿ç€ä¸ä¹‹å‚ç›´çš„æ–¹  å‘æŒ‰ç…§ç›¸åŒçš„äº’ç´ è§„å¾‹è¿›è¡Œå¹³ç§»è€Œå¾—åˆ° [[5]]ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250520134601234.png" alt="äº’ç´ é¢é˜µ"></p><p>å›¾ä¸­å·¦å›¾$ULA1$ä¸ºé—´éš”ä¸º$a$çš„å‡åŒ€çº¿é˜µï¼Œ$ULA2$ä¸ºé—´éš”ä¸º$b$çš„å‡åŒ€çº¿é˜µï¼Œå°†ä¸¤ä¸ªçº¿é˜µæ‹¼æ¥åœ¨ä¸€èµ·ä¸”é—´éš”äº’ä¸ºç´ æ•°åˆ™å¾—åˆ°äº†äº’ç´ çº¿é˜µï¼›æœ‰å›¾ä¸­å°†è¿™æ ·çš„äº’ç´ çº¿é˜µåœ¨å‚ç›´çš„æ–¹å‘ä¸Šæ‹¼æ¥å°±å¾—åˆ°äº†äº’ç´ é¢é˜µã€‚</p><p>å¯¹äºè¿™æ ·çš„äº’ç´ é¢é˜µï¼Œä¿¡æºåˆ°ä¸åŒå¤©çº¿ä¹‹é—´ç›¸ä½å·®å¯ä»¥å¦‚ä¸‹é¢è¿™æ ·è¡¨ç¤ºï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250520135243124.png" alt="ç›¸ä½å·®è®¡ç®—"></p><p>åˆ†åˆ«ä»xè½´æ–¹å‘å’Œyè½´æ–¹å‘è®¡ç®—ç›¸é‚»ä¸¤ä¸ªå¤©çº¿ä¹‹é—´çš„ä¿¡æºæ³¢ç¨‹å·®å¯ä»¥å¾—åˆ°</p><p>$$<br>\begin{align}<br>\Delta_{x,k} &amp;&#x3D; \sqrt{r^2 + l_{x,k}^2 - 2l_{x,k}r \sin\varphi \cos\theta} - r \tag{2} \<br>\Delta_{y,k} &amp;&#x3D; \sqrt{r^2 + l_{y,k}^2 - 2l_{y,k}r \sin\varphi \sin\theta} - r \tag{3}<br>\end{align}<br>$$</p><p>æœ‰å‰é¢æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çŸ¥é“ï¼Œæ³¢ç¨‹å·®ä¸€å®šç¨‹åº¦ä¸Šç­‰ä»·äºç›¸ä½å·®ï¼Œè€Œæ³¢ç¨‹å·®åˆå–å†³äºæ³¢è¾¾è§’ä»¥åŠè·ç¦»ï¼ˆé£è¡Œæ—¶é—´ï¼‰ã€‚æ‰€ä»¥ï¼Œç›¸ä½å·®æ˜¯ç”±ä¸‰ç»´å‚æ•°å…±åŒå†³å®šçš„ï¼Œè¿™ä¹Ÿå°±æ˜¯è¯´é€šè¿‡MUSICç®—æ³•éå†ä¸‰ç»´ç©ºé—´è®¡ç®—é‡ååˆ†åºå¤§ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å‡å°‘è®¡ç®—å‘¢ï¼Ÿ</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250520140147302.png" alt="æ³°å‹’å±•å¼€é™ç»´"></p><p>ä¸Šè¿°å¼å­å±•ç¤ºäº†å°†xæˆ–è€…yæ–¹å‘çš„æ³¢ç¨‹å·®é€šè¿‡æ³°å‹’å…¬å¼å±•å¼€ï¼Œå¯¹é«˜é˜¶é¡¹ç›´æ¥èˆå»ä¾¿å¾—åˆ°äº†<br>$\gamma_x &#x3D; -\frac{2\pi \sin\varphi \cos\theta}{\lambda}, \quad<br>\phi_x &#x3D; \pi \left(1 - \frac{\sin^2\varphi \cos^2\theta}{\lambda r}\right); \quad$</p><p>å…¶ä¸­çš„$\gamma_x$åªè·Ÿæ³¢è¾¾è§’æœ‰å…³ï¼Œåœ¨æ±‚å‡ºæ³¢è¾¾è§’å$\phi_x$å°±åªè·Ÿè·ç¦»æœ‰å…³ï¼Œå¦‚æ­¤ä¾¿å°†ä¸€ä¸ªä¸‰ç»´çš„æœç´¢è½¬æ¢ä¸ºäºŒç»´çš„æœç´¢<strong>åŠ ä¸Š</strong>ä¸€ç»´çš„æœç´¢ï¼Œå¤§å¤§é™ä½äº†è®¡ç®—å¤æ‚åº¦ã€‚</p><h3 id="äº’ç´ é˜µåˆ—æµå½¢MUSICç®—æ³•å…·ä½“å®ç°"><a href="#äº’ç´ é˜µåˆ—æµå½¢MUSICç®—æ³•å…·ä½“å®ç°" class="headerlink" title="äº’ç´ é˜µåˆ—æµå½¢MUSICç®—æ³•å…·ä½“å®ç°"></a>äº’ç´ é˜µåˆ—æµå½¢MUSICç®—æ³•å…·ä½“å®ç°</h3><p>é¦–å…ˆæ˜¯æ ¹æ®æ³°å‹’å±•å¼€åçš„ç¬¬ä¸€é¡¹æ„å»ºæœç´¢å¯¼å‘çŸ¢é‡$\hat{A}_{x}$ï¼Œåœ¨ä¸€å®šçš„è§’åº¦èŒƒå›´å†…éå†$\theta, \phi$å¹¶è®¡ç®—è°±å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ³°å‹’è¿‘ä¼¼æ–¹å‘å¯¼å‘é¡¹æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">xi</span>(<span class="params">l, gamma</span>):</span><br><span class="line">    <span class="keyword">return</span> np.exp(<span class="number">1j</span> * gamma * l)</span><br><span class="line"></span><br><span class="line"><span class="comment">#^ ç¬¬ä¸€é˜¶æ®µï¼šäºŒç»´è§’åº¦æœç´¢ æ³°å‹’å±•å¼€åçš„é›¶æ¬¡é¡¹ä½œä¸ºé¢„æµ‹çš„å¯¼å‘çŸ¢é‡ä¼°è®¡ZOAã€AOA</span></span><br><span class="line"><span class="keyword">for</span> i, phi <span class="keyword">in</span> <span class="built_in">enumerate</span>(phi_scan):</span><br><span class="line">    <span class="keyword">for</span> j, theta <span class="keyword">in</span> <span class="built_in">enumerate</span>(theta_scan):</span><br><span class="line">        <span class="comment">#^ æ³°å‹’å±•å¼€çš„é›¶æ¬¡é¡¹</span></span><br><span class="line">        gamma_x = -k * np.sin(phi) * np.cos(theta)</span><br><span class="line">        gamma_y = -k * np.sin(phi) * np.sin(theta)</span><br><span class="line">        </span><br><span class="line">        xi_x = xi(Lx, gamma_x)  <span class="comment">#^ [9, 1] æ¨ªå‘çš„å¤©çº¿å“åº”</span></span><br><span class="line">        xi_y = xi(Ly, gamma_y)  <span class="comment">#^ [9, 1] çºµå‘çš„å¤©çº¿å“åº”</span></span><br><span class="line">        xi_xy = np.kron(xi_x, xi_y).reshape(-<span class="number">1</span>, <span class="number">1</span>)          <span class="comment">#^ [81, 1] é™ç»´åxæ–¹å‘çš„å¯¼å‘æœç´¢çŸ¢é‡</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">#^ éå†è§’åº¦ æ„å»ºå¯¼å‘çŸ¢é‡ è®¡ç®—ä¸å™ªå£°å­ç©ºé—´çš„è·ç¦» </span></span><br><span class="line">        psi = xi_xy.conj().T @ Un @ Un.conj().T @ xi_xy     </span><br><span class="line">        Pmap[i, j] = <span class="number">1</span> / np.real(psi)                       <span class="comment">#^ è®¡ç®—è°±å€¼ 1/psi æœ€å¤§å€¼ä¸ºæ³¢è¾¾è§’</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°æœ€å¤§çš„è°±å€¼å¯¹åº”çš„æ³¢è¾¾è§’ï¼Œå°†æ³¢è¾¾è§’å¸¦å…¥åˆ°ç¬¬äºŒé¡¹ä¸­ï¼Œå°±å˜æˆäº†è·ç¦»$r$çš„å•ä¸€æ±‚è§£ï¼Œæ„å»ºæœç´¢å¯¼å‘çŸ¢é‡å¹¶åœ¨ç»™å®šçš„èŒƒå›´å†…æœç´¢è°±å€¼çš„æœ€å¤§å€¼ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">upsilon</span>(<span class="params">l, phi_term</span>):</span><br><span class="line">    <span class="keyword">return</span> np.exp(<span class="number">1j</span> * phi_term * l**<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#^ æ³°å‹’å±•å¼€çš„ä¸€æ¬¡é¡¹ å¸¦å…¥ä¼°è®¡çš„æ³¢è¾¾è§’</span></span><br><span class="line"><span class="keyword">for</span> r <span class="keyword">in</span> r_scan:</span><br><span class="line">    phi_x = np.pi / (lam * r) * (<span class="number">1</span> - np.sin(phi_est)**<span class="number">2</span> * np.cos(theta_est)**<span class="number">2</span>)</span><br><span class="line">    phi_y = np.pi / (lam * r) * (<span class="number">1</span> - np.sin(phi_est)**<span class="number">2</span> * np.sin(theta_est)**<span class="number">2</span>)</span><br><span class="line">    </span><br><span class="line">    upsilon_x = upsilon(Lx, phi_x)</span><br><span class="line">    upsilon_y = upsilon(Ly, phi_y)</span><br><span class="line">    upsilon_xy = np.kron(upsilon_x, upsilon_y).reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># éœ€è¦å¸¦ä¸Šé›¶æ¬¡é¡¹è¿›è¡Œä¼°è®¡</span></span><br><span class="line">    xi_x = xi(Lx, -<span class="number">2</span> * np.pi / lam * np.sin(phi_est) * np.cos(theta_est))</span><br><span class="line">    xi_y = xi(Ly, -<span class="number">2</span> * np.pi / lam * np.sin(phi_est) * np.sin(theta_est))</span><br><span class="line">    xi_xy = np.kron(xi_x, xi_y).reshape(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æŒ‡æ•°ç›¸ä¹˜ç­‰äºç›¸ä½ç›¸åŠ  å¯¹åº”æ³°å‹’å±•å¼€çš„é¡¹</span></span><br><span class="line">    A_est = xi_xy * upsilon_xy</span><br><span class="line">    pseudospectrum = <span class="number">1</span> / np.real((A_est.conj().T @ Un @ Un.conj().T @ A_est))</span><br><span class="line">    P_r.append(pseudospectrum[<span class="number">0</span>][<span class="number">0</span>])</span><br></pre></td></tr></table></figure><p>æœ€åä¾¿å¯ä»¥åœ¨ä¿æŒé«˜ç²¾åº¦çš„å‰æä¸‹ç®€åŒ–è®¡ç®—å¤æ‚åº¦æé«˜é€Ÿåº¦</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250520144154490.png" alt="å‚æ•°ä¼°è®¡"></p><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä»æœ€åˆçš„ç»å…¸ESPRITå’ŒMUSICç®—æ³•ï¼Œåˆ°è¿‘å¹´æ¥é¢å‘ä¸‰ç»´å»ºæ¨¡å’Œ5Gé€šæ„Ÿä¸€ä½“åŒ–çš„å¤šç»´å‚æ•°ä¼°è®¡ç®—æ³•ï¼Œå‚æ•°ä¼°è®¡æŠ€æœ¯æ­£ä¸æ–­å‘é«˜ç²¾åº¦ã€é«˜åˆ†è¾¨ç‡å’Œå¼ºé²æ£’æ€§æ–¹å‘æ¼”è¿›ã€‚éšç€é˜µåˆ—ç»“æ„çš„åˆ›æ–°ï¼ˆå¦‚äº’ç´ é˜µã€ç¨€ç–é˜µåˆ—ï¼‰å’Œä¿¡å·å¤„ç†æ‰‹æ®µçš„æå‡ï¼ˆå¦‚ç©ºé—´å¹³æ»‘ã€æåŒ–ä¿¡æ¯èåˆã€é™ç»´æœç´¢ç­‰ï¼‰ï¼Œæ”¹è¿›ç®—æ³•ä¸ä»…åœ¨ä½ä¿¡å™ªæ¯”ã€å¼ºå¹²æ‰°ç­‰å¤æ‚ç¯å¢ƒä¸‹å±•ç°å‡ºæ›´ä¼˜çš„æ€§èƒ½ï¼Œè¿˜æ˜¾è‘—é™ä½äº†è®¡ç®—å¤æ‚åº¦ï¼Œæå‡äº†å®æ—¶æ€§å’Œå·¥ç¨‹å¯ç”¨æ€§ã€‚è¿™äº›è¿›æ­¥ä¸º5Gé€šæ„Ÿä¸€ä½“åŒ–ã€æ™ºèƒ½æ„ŸçŸ¥ã€æ— äººç³»ç»Ÿç­‰å‰æ²¿åº”ç”¨æä¾›äº†åšå®çš„æŠ€æœ¯åŸºç¡€å’Œå¹¿é˜”çš„å‘å±•ç©ºé—´[[1]][[2]][[4]]ã€‚</p><blockquote><p>å‚è€ƒèµ„æ–™ï¼š<br>[[1]] åŸºäºæ”¹è¿›3D-ESPRITçš„GTDæ¨¡å‹å‚æ•°ä¼°è®¡<br>[[2]] ä¸‰ç»´GTDæ¨¡å‹å‚æ•°ä¼°è®¡çš„æ”¹è¿›ç®—æ³•<br>[[3]] CN111781573A ä¸“åˆ©æ–‡æ¡£<br>[[4]] TLS-ESPRITæ”¹è¿›ç©ºé—´å¹³æ»‘ç®—æ³•<br>[[5]] åŸºäºç¨€ç–é¢é˜µçš„ä½å¤æ‚åº¦ä¸‰ç»´ä¿¡æºå®šä½ç®—æ³•</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 5G </tag>
            
            <tag> é€šæ„Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäº5Gé€šä¿¡çš„å®šä½æ„ŸçŸ¥â€”â€”AOAè§£ç®—</title>
      <link href="/2025/04/24/research/AOA_Positioning/"/>
      <url>/2025/04/24/research/AOA_Positioning/</url>
      
        <content type="html"><![CDATA[<h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><em><strong>5G-NR</strong></em>ï¼Œå…·æœ‰â¾¼é€Ÿã€ä½å»¶è¿Ÿçš„ç‰¹æ€§ï¼Œæ˜¯ç°ä»£é€šä¿¡å¼ºæœ‰â¼’çš„æŠ€æœ¯ä¹‹ä¸€ã€‚åˆå› å¹¿æ³›çš„åŸºç«™å»ºè®¾ï¼Œ5Gé€æ¸è¦†ç›–æ—¥å¸¸ç”Ÿæ´»ä¸­çš„æ¯ä¸ªè§’è½ï¼Œéšç€è¦†ç›–èŒƒå›´çš„æ‰©å¼ ï¼Œä¸ä»…æ„å‘³ç€è¶Šæ¥è¶Šç¨³å®šçš„é€šä¿¡ï¼Œæ„ŸçŸ¥ï¼Œæ›´æ˜¯éšä¹‹ä¸æ–­çš„å‘å±•ã€‚</p><p>ä¸‹â¾¯ï¼Œæœ¬æ–‡å°†é’ˆå¯¹æ— äººæœºå‘5GåŸºç«™é€šä¿¡è¿™ä¸€åº”ç”¨åœºæ™¯ï¼Œå°è¯•é€šè¿‡ä»¿çœŸéªŒè¯åˆ©ç”¨æ— äººæœºä¸5GåŸºç«™çš„é€šä¿¡èƒ½å¤Ÿå®ç°åˆ©ç”¨ <em><strong>CSI</strong></em> è§£ç®—å‡ºæ— äººæœºçš„ä½ç½®ä¿¡æ¯ï¼Œå¦‚ <em><strong>AOAã€AODã€ToF</strong></em> ç­‰å‚æ•°ï¼ŒéªŒè¯ <em><strong>MUSIC</strong></em> ç®—æ³•çš„å¯è¡Œæ€§ã€‚ä¸‹é¢æ˜¯å¯¹å¦‚ä½•é€šè¿‡é€šä¿¡çš„ <em><strong>CSI</strong></em> å®ç°å¯¹ä½ç½®ä¿¡æ¯æ„ŸçŸ¥çš„ç†è®ºæè¿°ã€‚</p><h1 id="ç†è®ºç¯‡"><a href="#ç†è®ºç¯‡" class="headerlink" title="ç†è®ºç¯‡"></a>ç†è®ºç¯‡</h1><h2 id="ä¿¡å·åœ¨å‘é€ç«¯å¤©çº¿çš„ä¼ æ’­ç‰¹æ€§"><a href="#ä¿¡å·åœ¨å‘é€ç«¯å¤©çº¿çš„ä¼ æ’­ç‰¹æ€§" class="headerlink" title="ä¿¡å·åœ¨å‘é€ç«¯å¤©çº¿çš„ä¼ æ’­ç‰¹æ€§"></a>ä¿¡å·åœ¨å‘é€ç«¯å¤©çº¿çš„ä¼ æ’­ç‰¹æ€§</h2><p>å‘é€ç«¯ï¼ˆæ— äººæœºï¼‰ä»…è€ƒè™‘å•æ ¹å¤©çº¿è¿›è¡Œæ”¶å‘ï¼Œä¸”å¤©çº¿æ˜¯å…¨å‘æåŒ–å¤©çº¿ã€‚ä¿¡å·ç”±æ— äººæœºå‘å‡ºï¼Œå‘å››é¢å…«æ–¹å‘é€ä¿¡å·ï¼Œè¿™äº›ä¿¡å·åœ¨Txå¤©çº¿å¤„å‘å‡ºæ—¶å¯¹åº”çš„è§’åº¦æˆ‘ä»¬ç§°ä¸º <em><strong>AODï¼ˆAngle of Departureï¼‰</strong></em>ã€‚åœ¨ <em><strong>Tx</strong></em> å¤„çš„AODæœ‰å¾ˆå¤šä¸åŒçš„å€¼ï¼Œæˆ‘ä»¬è¿‘ä¼¼è®¤ä¸ºèŒƒå›´ä¸º <em><strong>[0, 2*pi]</strong></em>ã€‚</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250425123140384.png" alt="æ— äººæœºå‘é€å¤©çº¿"></p><p>ç”±äºå‘é€ç«¯ â€”&gt; æ¥æ”¶ç«¯çš„è·ç¦»å¾ˆè¿œï¼Œä¿¡å·åœ¨ä¿¡é“ä¸­ä¼ è¾“ä¹‹ååœ¨åˆ°è¾¾5GåŸºç«™çš„å¤©çº¿é˜µåˆ—æ—¶ï¼Œæˆ‘ä»¬è¿‘ä¼¼è®¤ä¸ºè¿™äº›ä¿¡å·å¯ä»¥è¢«è§†ä¸ºå¹³â¾æ³¢ã€‚</p><h2 id="æ¥æ”¶ç«¯å¤©çº¿é˜µåˆ—æ¥æ”¶ä¿¡å·"><a href="#æ¥æ”¶ç«¯å¤©çº¿é˜µåˆ—æ¥æ”¶ä¿¡å·" class="headerlink" title="æ¥æ”¶ç«¯å¤©çº¿é˜µåˆ—æ¥æ”¶ä¿¡å·"></a>æ¥æ”¶ç«¯å¤©çº¿é˜µåˆ—æ¥æ”¶ä¿¡å·</h2><p>ç”±äºä¿¡å·åœ¨ä¿¡é“ä¸­ä¼ é€’æœ‰å¤šå¾„ç‰¹æ€§ï¼Œå…¶ä¸­æŸâ¼€ä¸ªå•å¾„ä¸Šçš„ä¿¡å·åœ¨åˆ°è¾¾å¤©çº¿é˜µåˆ—æ—¶å¯ä»¥è¢«è§†ä¸ºâ¼€ç»„å¹³â¾æ³¢ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250425123346494.png" alt="æ¥æ”¶å¤©çº¿é˜µåˆ—"></p><p>ä¸‹é¢æˆ‘ä»¬ä»…è€ƒè™‘æŸä¸€ä¸ªå•å¾„ä¸Šçš„ä¿¡å·ï¼Œè¿™ä¸ªä¿¡å·ä»¥ä¸€ç»„å¹³è¡Œæ³¢çš„å½¢å¼è¢«æ¥æ”¶ç«¯çš„å¤©çº¿é˜µåˆ—æ¥æ”¶ã€‚ä½œâ¼€æ¡å‚ç›´äºå¹³â¾æ³¢çš„è™šçº¿ï¼Œæˆ‘ä»¬å¯ä»¥è¿‘ä¼¼è®¤ä¸ºå®ƒä¸è¿™ä¸€ç»„å¹³â¾æ³¢çš„äº¤ç‚¹æ‰€å¯¹åº”çš„ä¿¡å·ç›¸ä½ç›¸åŒï¼Œå³è¿™ä¸ªè™šçº¿æ˜¯ä¸€ä¸ªç­‰ç›¸çº¿ã€‚ç”±ä¸Šå›¾å¯â»…ç›¸é‚»ä¸¤æ ¹å¤©çº¿ä¹‹é—´ä¿¡å·ä¼ æ’­è·ç¦»ç›¸å·® <em><strong>L</strong></em>ï¼Œåˆå› ä¸ºæ³¢â»“ä¸ç›¸åº”é—´å­˜åœ¨æŸç§å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºï¼Œä¼ æ’­çš„è·ç¦»å·® <em><strong>L</strong></em> ç­‰ä»·äºä¿¡å·åˆ°è¾¾å¤©çº¿çš„ç›¸ä½å·® <em><strong>Ï†</strong></em>ã€‚å› æ­¤å¯ä»¥è¯´,ç›¸é‚»ä¸¤æ¦‚å¤©çº¿åœ¨åŒæ—¶æ¥æ”¶åˆ°çš„ä¿¡å·ä¹‹é—´å·®â¼€ä¸ªæ’å®šçš„ <em><strong>Ï†</strong></em> ã€‚ä»¥å¦â¼€ä¸ªâ»†åº¦ä¸Šè¯´ï¼ŒåŒæ—¶æ¥æ”¶ <em><strong>N</strong></em> ä¸ªå¤©çº¿ä¸Šçš„ä¿¡å·ä¸”ç›¸é‚»ä¿¡å·ä¹‹é—´å·®â¼€ä¸ª <em><strong>Ï†</strong></em>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å‹ç¼©å¤©çº¿ï¼Œæˆ‘åªå¯¹ç¬¬â¼€æ ¹å¤©çº¿æ¥æ”¶çš„ä¿¡å·é‡‡æ ·ï¼Œé‡‡æ ·é—´éš” <em><strong>t &#x3D; L&#x2F;c &#x3D; Ï†&#x2F;f</strong></em> ï¼ˆ <em><strong>c</strong></em> æ˜¯å…‰é€Ÿï¼Œ<em><strong>f</strong></em> æ˜¯ä¿¡å·çš„é¢‘ç‡ï¼‰ã€‚</p><p>ä»¥ç¬¬â¼€æ ¹å¤©çº¿æ¥æ”¶çš„ä¿¡å·ä¸ºåŸºå‡†å®šä¹‰ä¸º <em><strong>S0 &#x3D; exp(j*2*pi*d*cosx)</strong></em>,å¦‚æ­¤å…¶ä½™å¤©çº¿æ¥æ”¶çš„ä¿¡å·å°±èƒ½å¤Ÿå®šä¹‰ä¸º <em><strong>Sk &#x3D; exp(j*2*pi*k*d*cosx) &#x3D; ï¼ˆexp(j*2*pi*d*cosx)ï¼‰^k</strong></em> ç­‰ç­‰ï¼Œç¬¬kæ ¹å¤©çº¿çš„ä¿¡å·æ˜¯ç¬¬ä¸€æ ¹å¤©çº¿çš„kæ¬¡æ–¹ï¼Œåˆå› ä¸ºç¬¬kæ ¹å¤©çº¿ç›¸è¾ƒäºç¬¬ä¸€æ ¹å¤©çº¿æœ‰ <em><strong>k * d</strong></em> çš„è·ç¦»å·®ï¼Œè¡¨ç°åœ¨ä¿¡å·ä¸Šæœ‰kæ¬¡æ–¹çš„å…³ç³»ï¼Œäºæ˜¯æˆ‘ä»¬è®¤ä¸ºï¼Œç¬¬kæ ¹å¤©çº¿ç›¸è¾ƒäºç¬¬ä¸€æ ¹å¤©çº¿æœ‰ <em><strong>Ï†^k</strong></em> çš„ç›¸ä½å»¶è¿Ÿã€‚è‹¥æˆ‘ä»¬å®šä¹‰ç¬¬ä¸€æ ¹å¤©çº¿æ²¡æœ‰å»¶è¿Ÿï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºç¬¬ä¸€æ¡å•å¾„å¯¹åº”ä¿¡å·çš„å¯¼å‘çŸ¢é‡</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250425123744616.png" alt="å¯¼å‘çŸ¢é‡"></p><p>åˆå› ä¸ºå¤šå¾„ï¼Œä¸åŒAOAçš„ä¿¡å·åŒæ—¶åˆ°è¾¾æ¥æ”¶å¤©çº¿é˜µåˆ—ï¼Œå½¼æ­¤å åŠ ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨å¤©çº¿å¤„é‡‡æ ·å¾—åˆ°çš„ä¿¡å·ï¼Œæ˜¯Kä¸ªä¸åŒAOAè·¯å¾„ä¿¡å·çš„å åŠ ã€‚æˆ‘ä»¬å¤šæ¬¡è¿›è¡Œé‡‡æ ·ï¼Œä¸€å…±é‡‡æ · <em><strong>M</strong></em> æ¬¡å°±å¯ä»¥å¾—åˆ° <em><strong>MxN</strong></em> çš„å¯¼å‘çŸ©é˜µã€‚</p><p>åˆå› ä¸ºæ¯ä¸ªåˆ—å‘é‡ï¼ˆå¯¼å‘çŸ¢é‡ï¼‰çš„å…ƒç´ ä¹‹é—´æ˜¯æˆæŒ‡æ•°é€’å¢çš„å…³ç³»ï¼Œå› æ­¤æ ¹æ®çŸ©é˜µè®ºçš„ç›¸å…³çŸ¥è¯†ï¼Œè¯¥å¯¼å‘çŸ©é˜µæ˜¯æ»¡ç§©çš„ã€‚</p><h2 id="AOAè§£ç®—"><a href="#AOAè§£ç®—" class="headerlink" title="AOAè§£ç®—"></a>AOAè§£ç®—</h2><p>è¿™é‡Œæˆ‘ä»¬å‡è®¾ä¸€å…±æœ‰ä¸€æ ¹ <em><strong>Tx</strong></em> ï¼Œ3æ ¹ <em><strong>Rx</strong></em>ï¼Œè¿™é‡Œæˆ‘ä»¬è€ƒè™‘ä¸¤æ¡å¤šå¾„ï¼ˆä¸€æ¡ç›´å°„ã€ä¸€æ¡åå°„ï¼‰ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250425123355885.png" alt="å¤šå¾„æ¨¡å‹"></p><p>å¯¹å¤©çº¿ä¸Šæ¥æ”¶çš„ä¿¡å·è¿›è¡Œé‡‡æ ·ï¼Œæ¯ä¸€æ¬¡é‡‡æ ·è®¡ç®—å‡ºæ¥çš„å¯¼å‘çŸ¢é‡æ˜¯ç”±ä¸¤æ¡è·¯å¾„å¯¹åº”ä¸åŒçš„å¯¼å‘çŸ¢é‡å åŠ å¾—åˆ°ã€‚æˆ‘ä»¬å¤šæ¬¡è¿›è¡Œé‡‡æ ·ï¼Œè¿™äº›é‡‡æ ·å¾—åˆ°çš„æ‰€æœ‰å¯¼å‘çŸ¢é‡æ„æˆä¸€ä¸ªå¯¼å‘çŸ©é˜µï¼Œè¯¥å¯¼å‘çŸ©é˜µä¸€å®šæ˜¯æ»¡ç§©çš„ã€‚</p><p>æ¯ä¸€ä¸ªå¯¼å‘çŸ¢é‡ï¼Œxyzä¸‰ä¸ªåæ ‡ï¼Œå¯¹åº”åœ¨ä¸€ä¸ªä¸‰ç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªä½ç½®ï¼Œé‡‡æ ·äº† <em><strong>m</strong></em> æ¬¡ï¼Œåˆ™ä¸€å…±æœ‰ <em><strong>m</strong></em> ä¸ªä¸‰ç»´ç©ºé—´ä¸­çš„çŸ¢é‡ï¼Œæ¯ä¸€ä¸ªçŸ¢é‡åˆæ˜¯ç”±ä¸¤æ¡è·¯å¾„å¯¹åº”çš„å¯¼å‘çŸ¢é‡é€šè¿‡å¹³è¡Œå››è¾¹å½¢æ³•åˆ™å åŠ å¾—åˆ°ã€‚ä¸¤æ¡è·¯å¾„çš„å¯¼å‘çŸ¢é‡ä¸åŒæ˜¯å› ä¸ºä¸åŒè·¯å¾„åˆ°è¾¾æ¥æ”¶å¤©çº¿é˜µåˆ—çš„AOAä¸åŒï¼Œå› æ­¤å¯¼å‘çŸ¢é‡ä¹Ÿä¸åŒã€‚æˆ‘ä»¬å¯ä»¥å‡è®¾ï¼Œå¦‚æœæœ‰æ— æ•°æ¡è·¯å¾„ï¼Œè¿™äº›è·¯å¾„å¯¹åº”çš„AOAä¹Ÿä¸åŒï¼Œæ„å‘³ç€æœ‰æ— æ•°æ¡ä¸åŒçš„å¯¼å‘çŸ¢é‡ï¼Œè¿™äº›å¯¼å‘çŸ¢é‡çš„æœ«ç«¯è¿èµ·æ¥å¿…ç„¶æ˜¯ä¸€ä¸ªå°é—­çš„ç©ºé—´æ›²çº¿ï¼ˆå› ä¸ºAOAæœ‰ç•Œï¼‰ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250425123406300.png" alt="ç©ºé—´å°é—­æ›²çº¿"></p><p>å·²çŸ¥æ¯ä¸€ä¸ªå¯¼å‘çŸ¢é‡å¯¹åº”ä¸€ä¸ªAOAï¼Œå¯¼å‘çŸ¢é‡çš„æ¨¡é•¿å—åˆ°å¯¹åº”ä¿¡é“æ—¶å˜è¡°è½çš„å½±å“ï¼Œå› æ­¤æ¯ä¸€ä¸ªå¯¼å‘çŸ¢é‡æ˜¯å¯¹åº”æ–¹å‘å»¶é•¿çº¿ä¸Šçš„ç‚¹ã€‚ç”±äºä¸åŒAOAçš„ä¿¡å·åœ¨å¤©çº¿å¤„å åŠ ï¼Œé‡‡æ ·å¾—åˆ°çš„å¯¼å‘çŸ¢é‡å¯¹åº”åœ¨ç©ºé—´ä¸­æ˜¯ä¸åŒAOAå¯¼å‘çŸ¢é‡çš„åŠ æƒï¼ˆä¿¡é“è¡°è½ï¼‰å’Œã€‚</p><p>å¦‚æœæ¯æ¬¡é‡‡æ ·çš„ä¿¡å·æ˜¯ç”±ä¸¤ä¸ªå¤šå¾„ä¿¡å·å åŠ ï¼Œé‚£ä¹ˆé‡‡æ ·ä¿¡å·çš„å¯¼å‘çŸ¢é‡å°±æ˜¯è¿™ä¸¤ä¸ªå¤šå¾„ä¿¡å·çš„å¯¼å‘çŸ¢é‡åŠ æƒå’Œã€‚åˆä¸¤ä¸ªå‘é‡å¯ä»¥å¼ æˆä¸€ä¸ªäºŒç»´çš„å¹³é¢ï¼ˆå­ç©ºé—´ï¼‰ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªå­ç©ºé—´ä¸º <strong>ä¿¡å·å­ç©ºé—´</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250425123415468.png" alt="ä¿¡å·å­ç©ºé—´"></p><p>å‡è®¾ä½ çš„ä¿¡é“ä¸­æ²¡æœ‰å™ªå£°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ¨æ–­å‡ºï¼Œæ— è®ºé‡‡æ ·å¤šå°‘æ¬¡ï¼Œæ¯æ¬¡é‡‡æ ·çš„ä¿¡å·å¯¹åº”çš„å¯¼å‘çŸ¢é‡ä¸€å®šå±äºè¿™ä¸ªä¿¡å·å­ç©ºé—´ã€‚<em><strong>n</strong></em> æ¡è·¯å¾„ <em><strong>m</strong></em> æ ¹æ¥æ”¶å¤©çº¿å¯¹åº”çš„ä¿¡å·å­ç©ºé—´ç»´æ•°ä¸º <em><strong>R_min &#x3D; min(n, m)</strong></em>ã€‚å› ä¸ºä¿¡å·å­ç©ºé—´çš„ç»´æ•°ä¸€å®šå°äºæˆ–è€…ç­‰äºæ•´ä¸ªå¯¼å‘çŸ¢é‡çš„ç©ºé—´ç»´æ•°ï¼Œå› æ­¤ä¸€å®šå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå‚ç›´äºä¿¡å·å­ç©ºé—´çš„åŸºï¼Œè¿™ä¸ªåŸºå¯¹åº”çš„ç©ºé—´æˆ‘ä»¬ç§°ä¸º <strong>å™ªå£°å­ç©ºé—´</strong>ã€‚å¦‚æœä½ çš„ä¿¡é“ä¸­æœ‰å™ªå£°ï¼Œä½ çš„å¯¼å‘çŸ¢é‡åœ¨ç©ºé—´ä¸­è¡¨ç°ä¸ºåœ¨å‚ç›´ä¿¡å·å­ç©ºé—´çš„æ–¹å‘ä¸Šæœ‰ä¸€å®šçš„åç§»</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250425123421082.png" alt="æ­£äº¤å™ªå£°å­ç©ºé—´"></p><h2 id="å®é™…è§£ç®—è¿‡ç¨‹"><a href="#å®é™…è§£ç®—è¿‡ç¨‹" class="headerlink" title="å®é™…è§£ç®—è¿‡ç¨‹"></a>å®é™…è§£ç®—è¿‡ç¨‹</h2><ol><li><p>åŒæ—¶å¯¹ <em><strong>N</strong></em> ä¸ªå¤©çº¿é˜µå…ƒé‡‡æ ·å¾—ç¬¬â¼€ä¸ªå¯¼å‘çŸ¢é‡ï¼›å¤šæ¬¡é‡‡æ ·å¾— <em><strong>M</strong></em> ä¸ªå¯¼å‘çŸ¢é‡ï¼›æ¯ä¸€ä¸ªå¯¼å‘çŸ¢é‡æ˜¯æ¥è‡ª <em><strong>K</strong></em> ä¸ªè·¯å¾„çš„ä¿¡å·å åŠ ï¼ˆæ¯ä¸ªè·¯å¾„çš„AOAä¸åŒï¼‰ã€‚</p></li><li><p>å¾—åˆ°å¯¼å‘çŸ¢é‡çŸ©é˜µ <em><strong>A &#x3D; [P_1, P_2, â€¦, P_n]</strong></em> ï¼ŒçŸ©é˜µçš„å½¢çŠ¶ä¸º <em><strong>M x N</strong></em> ä¸”ä¸€å®šæ˜¯æ»¡ç§©çš„ï¼Œä¿¡å·å­ç©ºé—´ä¸ºç»´åº¦ä¸ºå¤©çº¿é˜µå…ƒæ•°é‡ä¸å¤šå¾„æ•°é‡ä¸­çš„è¾ƒå°å€¼ã€‚å‡è®¾ä¿¡å·å­ç©ºé—´ä¸º <em><strong>K</strong></em> ç»´ï¼Œå¯¼å‘çŸ¢é‡çš„ç©ºé—´ç»´åº¦ä¸º <em><strong>N</strong></em> ç»´ï¼Œå¯¹å¯¼å‘çŸ¢é‡çŸ©é˜µåšç‰¹å¾å€¼åˆ†è§£ï¼Œèƒ½å¤Ÿå¾—åˆ° <em><strong>N</strong></em> ä¸ªç‰¹å¾çŸ¢é‡ï¼Œå…¶ä¸­ <em><strong>K</strong></em> ä¸ªæ„æˆäº†ä¿¡å·å­ç©ºé—´ï¼Œä¹Ÿå¯¹åº”ç€ <em><strong>K</strong></em> ä¸ªå¤šå¾„å„è‡ªçš„ <em><strong>AOA</strong></em>ã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 5G </tag>
            
            <tag> é€šæ„Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜…è¯»æœ­è®°â€”â€”â€œ5Gä¿¡é“çš„ä¼°è®¡ä¸å‡è¡¡â€</title>
      <link href="/2025/04/02/research/Channel-state-info/"/>
      <url>/2025/04/02/research/Channel-state-info/</url>
      
        <content type="html"><![CDATA[<h1 id="5Gé€šä¿¡ä¿¡é“ä¼°è®¡"><a href="#5Gé€šä¿¡ä¿¡é“ä¼°è®¡" class="headerlink" title="5Gé€šä¿¡ä¿¡é“ä¼°è®¡"></a>5Gé€šä¿¡ä¿¡é“ä¼°è®¡</h1><h2 id="ä¸€ã€MIMOâ€”â€”OFDMæŠ€æœ¯ç®€ä»‹"><a href="#ä¸€ã€MIMOâ€”â€”OFDMæŠ€æœ¯ç®€ä»‹" class="headerlink" title="ä¸€ã€MIMOâ€”â€”OFDMæŠ€æœ¯ç®€ä»‹"></a>ä¸€ã€MIMOâ€”â€”OFDMæŠ€æœ¯ç®€ä»‹</h2><h3 id="MIMOï¼š"><a href="#MIMOï¼š" class="headerlink" title="MIMOï¼š"></a>MIMOï¼š</h3><p>å¤šè¾“å…¥-å¤šè¾“å‡ºï¼Œå³å¤§è§„æ¨¡å¤©çº¿é˜µåˆ—ç”¨äºå‘é€ä»¥åŠæ¥æ”¶ã€‚</p><p>ç”¨åŸºç«™ç«¯å¤©çº¿æ•°é‡çš„æ‰©å±•ä»£æ›¿åŸºç«™æ•°é‡çš„æ‰©å±•ã€‚</p><p>å‡å°‘åŸºç«™æ•°é‡æ„å‘³ç€å¤šå¾„æ•ˆåº”çš„å‰Šå¼±ï¼Œæœ‰åˆ©äºå‡å°‘å°å°ºåº¦è¡°å‡å¯¹ä¿¡å·ä¼ è¾“çš„å½±å“ã€‚</p><h3 id="OFDMï¼š"><a href="#OFDMï¼š" class="headerlink" title="OFDMï¼š"></a>OFDMï¼š</h3><p>åœ¨ä¼ ç»Ÿçš„é¢‘åˆ†ä¼ è¾“åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥èŠ‚çœé¢‘å¸¦èµ„æºï¼Œå®ç°æ­£äº¤é¢‘åˆ†è°ƒåˆ¶ã€‚</p><h2 id="è™½ç„¶OFDMå„ä¸ªå­è½½æ³¢å­˜åœ¨æœ‰é¢‘è°±äº¤å çš„éƒ¨åˆ†ï¼Œä½†æ˜¯ç”±äºæ˜¯æ­£äº¤çš„ï¼Œæ¥æ”¶ç«¯ä»èƒ½å¤Ÿè§£è°ƒä¿¡å·å¹¶ä¸”å¯ä»¥é«˜æ•ˆçš„åˆ©ç”¨é¢‘è°±ã€‚"><a href="#è™½ç„¶OFDMå„ä¸ªå­è½½æ³¢å­˜åœ¨æœ‰é¢‘è°±äº¤å çš„éƒ¨åˆ†ï¼Œä½†æ˜¯ç”±äºæ˜¯æ­£äº¤çš„ï¼Œæ¥æ”¶ç«¯ä»èƒ½å¤Ÿè§£è°ƒä¿¡å·å¹¶ä¸”å¯ä»¥é«˜æ•ˆçš„åˆ©ç”¨é¢‘è°±ã€‚" class="headerlink" title="è™½ç„¶OFDMå„ä¸ªå­è½½æ³¢å­˜åœ¨æœ‰é¢‘è°±äº¤å çš„éƒ¨åˆ†ï¼Œä½†æ˜¯ç”±äºæ˜¯æ­£äº¤çš„ï¼Œæ¥æ”¶ç«¯ä»èƒ½å¤Ÿè§£è°ƒä¿¡å·å¹¶ä¸”å¯ä»¥é«˜æ•ˆçš„åˆ©ç”¨é¢‘è°±ã€‚"></a>è™½ç„¶OFDMå„ä¸ªå­è½½æ³¢å­˜åœ¨æœ‰é¢‘è°±äº¤å çš„éƒ¨åˆ†ï¼Œä½†æ˜¯ç”±äºæ˜¯æ­£äº¤çš„ï¼Œæ¥æ”¶ç«¯ä»èƒ½å¤Ÿè§£è°ƒä¿¡å·å¹¶ä¸”å¯ä»¥é«˜æ•ˆçš„åˆ©ç”¨é¢‘è°±ã€‚</h2><p>MIMOåœ¨ç©ºé—´åŸŸä¸ŠèŠ‚çœèµ„æºï¼›OFDMè°ƒåˆ¶åœ¨é¢‘åŸŸä¸ŠèŠ‚çœèµ„æºã€‚</p><h2 id="äºŒã€mMIMOâ€”â€”Massive-MIMO"><a href="#äºŒã€mMIMOâ€”â€”Massive-MIMO" class="headerlink" title="äºŒã€mMIMOâ€”â€”Massive MIMO"></a>äºŒã€mMIMOâ€”â€”Massive MIMO</h2><h3 id="MIMOçš„ä¿¡é“å¢ç›Š"><a href="#MIMOçš„ä¿¡é“å¢ç›Š" class="headerlink" title="MIMOçš„ä¿¡é“å¢ç›Š"></a>MIMOçš„ä¿¡é“å¢ç›Š</h3><p>å¤šç”¨æˆ·å¤§è§„æ¨¡MIMOï¼Œé¢å‘äºå¤šä¸ªç”¨æˆ·æ¥å…¥ï¼Œå•ä¸ªåŸºç«™ç«¯é…å¤‡æœ‰å‡ åä¸Šç™¾è·Ÿå¤©çº¿ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image001.png" alt="MIMO and UE"></p><p>æ¯ä¸ªç”¨æˆ·ç«¯åªæœ‰ä¸€æ ¹å¤©çº¿ï¼ŒåŸºç«™ç«¯é…å¤‡æœ‰å¤šæ ¹å¤©çº¿ä¸ç”¨æˆ·ç›¸åŒ¹é…ã€‚å…¶ä¸­ï¼Œç¬¬mæ ¹å¤©çº¿æ¥æ”¶åˆ°æ¥è‡ªç¬¬Kä¸ªç”¨æˆ·çš„ä¿¡å·Im,Kåœ¨ä¿¡é“ä¸­çš„å¢ç›Šç­‰äºï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image002.png" alt="signal amp"></p><p>å¤§å°ºåº¦çš„è¡°å‡ä¸å°å°ºåº¦çš„è¡°å‡ç›¸ä¹˜å¾—åˆ°ã€‚å…¶ä¸­ï¼Œå°å°ºåº¦çš„è¡°å‡ç³»æ•°å—å¤©çº¿çš„å½±å“æœ€å¤§ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å¤šä¸ªç”¨æˆ·å¯¼è‡´çš„ç”¨æˆ·é—´ä¸²æ‰°ï¼ˆIUI-interUser interferenceï¼‰å¯¹äºæœ‰Mæ ¹å¤©çº¿é˜µåˆ—çš„åŸºç«™æ¥è¯´ï¼Œæ¯æ ¹å¤©çº¿æ¥æ”¶åˆ°Kä¸ªç”¨æˆ·ä¼ æ¥çš„ä¿¡å·ï¼Œå°†è¿™<img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image003.png" alt="Channel Matrix">çš„ä¿¡å·ç»„æˆçŸ©é˜µï¼Œå¯¹åº”æ¯ä¸ªä¿¡å·çš„ä¿¡é“å¢ç›Šå°±æ„æˆäº†ä¿¡é“çŸ©é˜µã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image005.png" alt="Channel Matrix"></p><p>è¿™ä¹Ÿæ˜¯CSIæœ€ç»ˆæˆ‘ä»¬è¦å¾—åˆ°çš„å‚æ•°ï¼ˆçŸ©é˜µï¼‰ã€‚</p><h3 id="MIMOçš„ä¿¡é“åˆ†æ"><a href="#MIMOçš„ä¿¡é“åˆ†æ" class="headerlink" title="MIMOçš„ä¿¡é“åˆ†æ"></a>MIMOçš„ä¿¡é“åˆ†æ</h3><p>å·²çŸ¥ä¸åŒä¿¡é“ã€ä¸åŒä¿¡å·çš„ä¿¡é“ä¼°è®¡å¢ç›Šéƒ½ä¸ä¸€æ ·ï¼Œè¿™å–å†³äºå¤§å°ºåº¦è¡°å¼±å åŠ ä¸Šå°å°ºåº¦å¹²æ‰°ï¼›å› æ­¤ä¸ºäº†å¢å¼ºä¿¡å·çš„ä¿¡å™ªæ¯”ä»¥åŠå‰Šå¼±ç”¨æˆ·é—´çš„å¹²æ‰°ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨æœ€å¤§åˆå¹¶æ¯”ä»¥åŠæœ€å¤§æ¯”å‘é€å®ç°ï¼Œå…·ä½“çš„æ€æƒ³å°±æ˜¯æ ¹æ®CSIä¼°è®¡çš„ä¿¡é“è¡°å‡åé¦ˆåœ¨æ¥æ”¶ç«¯æˆ–è€…å‘é€ç«¯æ·»åŠ ä¸€ä¸ªå¢ç›Šï¼Œä»¥è¿½æ±‚æ‰€æœ‰å¤©çº¿çš„ä¿¡å™ªæ¯”ä¹‹å’Œæœ€å¤§ã€‚é€šå¸¸ä¸åŒå¤©çº¿çš„å¢ç›Šæ»¡è¶³ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image006.png" alt="MRC"></p><p>å³å¢ç›Šä¸ä¿¡é“è¡°å‡æˆæ­£æ¯”ï¼Œä¸ä¸Šè¿°çš„æè¿°ç›¸ç¬¦ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•é€šè¿‡CSIè§£å¾—çš„ä¿¡é“çŸ©é˜µæ±‚å‡ºæœ€å¤§æ¯”åˆå¹¶çš„æƒé‡ï¼Ÿæˆ‘ä»¬å°†çŸ©é˜µå†™æˆåˆ—å‘é‡çŸ©é˜µï¼Œæ¯ä¸€åˆ—è¡¨ç¤ºä¸€ä¸ªç”¨æˆ·å‘å‡ºçš„ä¿¡å·è¢«Mæ ¹å¤©çº¿æ¥å—çš„ä¿¡é“è¡°å‡ç³»æ•°ï¼Œå±äºå°å°ºåº¦è¡°å‡ã€‚æˆ‘ä»¬å¯¹ä¿¡é“çŸ©é˜µå–æ¨¡è®¡ç®—è¡°å‡å¯ä»¥å¾—åˆ°ä¸‹é¢å¼å­ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image007.png" alt="MRC"></p><p>ä¸­é—´çš„å±•å¼€å¼æš‚æ—¶ä¸ç†è§£ä¸ºä»€ä¹ˆç­‰äºè¿™ä¸ªç»“æœï¼Œä½†æ˜¯ç›´æ¥è€ƒè™‘åˆ°å±•å¼€ä¹‹å‰çš„éƒ¨åˆ†ï¼Œç”±äºç©ºé—´åŸŸçš„å¤æ‚æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾ä¸åŒå¤©çº¿çš„ä¿¡é“ä¹‹é—´æ˜¯äº’ä¸ç›¸å…³çš„ï¼Œç”±æ­¤æˆ‘ä»¬å°±èƒ½çŸ¥é“ä¸€ä¸ªä¿¡é“çš„å…±è½­è½¬ç½®ä¹˜ä¸Šå¦ä¸€ä¸ªä¿¡é“å¯ä»¥ç†è§£æ±‚å–ä¸ºä¸¤ä¸ªä¿¡é“çš„ç›¸å…³æ€§ï¼Œå› æ­¤å¯ä»¥è¿‘ä¼¼äº0ï¼›å¼å­1çš„ç»“æœæ˜¯å› ä¸ºå½“å‰ä¿¡é“å’Œè‡ªå·±çš„ç›¸å…³æ€§å›ºç„¶ä¸º1.è¿™æ ·æˆ‘ä»¬åªéœ€è¦é‡‡ç”¨çº¿æ€§çš„å¤„ç†æ–¹å¼å³æœ€å¤§æ¯”åˆå¹¶å°±å¯ä»¥å®ç°å¤§è§„æ¨¡MIMOä¸­å¤šä¸ªç”¨æˆ·çš„ä¼ æ’­ã€‚</p><h3 id="MIMOä¼˜ç¼ºç‚¹"><a href="#MIMOä¼˜ç¼ºç‚¹" class="headerlink" title="MIMOä¼˜ç¼ºç‚¹"></a>MIMOä¼˜ç¼ºç‚¹</h3><p>MIMOå®ç°äº†åœ¨åŒæ—¶ã€åŒé¢‘è¿›è¡Œå¤šç”¨æˆ·ä¼ æ’­ï¼ˆåˆ©ç”¨æ³¢æŸç©ºé—´å¤ç”¨ï¼‰ï¼Œå¼€å‘äº†ç©ºé—´åŸŸçš„èµ„æºåˆ©ç”¨ï¼Œæé«˜äº†å®¹é‡ã€‚ä½†æ˜¯äºæ­¤åŒæ—¶ï¼Œéšç€ç”¨æˆ·æ•°é‡å¤§é‡å¢åŠ ï¼Œä¿¡é“æ•°é‡æ ¹æ®åŸºç«™ä¾§çš„å¤©çº¿æ•°é‡å°ºåº¦è¿›è¡Œæ‰©å¼ ï¼Œè¿™ä¹Ÿä¼šå¯¼è‡´å¯¼é¢‘èµ„æºçš„ç´§ç¼ºï¼ˆä¸–é—´çœŸç†ï¼Œä¸€ä»¶äº‹ç‰©çš„å®½è£•ä¼šå¯¼è‡´å¦ä¸€ä»¶äº‹ç‰©çš„ç´§ç¼ºï¼‰ï¼Œå¯¼è‡´å¯¼é¢‘æ±¡æŸ“ã€‚å°±åƒåŸæœ¬æ˜¯ä¸€ä¸ª8x8çš„è±¡æ£‹æ ¼ï¼ŒåŸæœ¬æ˜¯é”™å¼€çš„æ’åˆ—ï¼Œå½“ç”¨æˆ·ï¼ˆåˆ—æ•°ï¼‰å¢åŠ æ—¶ï¼Œå°±ä¼šå‡ºç°æŸä¸€è¡Œæœ‰ä¸¤ä¸ªç”¨æˆ·ï¼Œè¿™ä¹Ÿå°±é€ æˆäº†å¯¼é¢‘æ±¡æŸ“ã€‚</p><h2 id="OFDMè°ƒåˆ¶"><a href="#OFDMè°ƒåˆ¶" class="headerlink" title="OFDMè°ƒåˆ¶"></a>OFDMè°ƒåˆ¶</h2><h3 id="ä»€ä¹ˆæ˜¯OFDMè°ƒåˆ¶"><a href="#ä»€ä¹ˆæ˜¯OFDMè°ƒåˆ¶" class="headerlink" title="ä»€ä¹ˆæ˜¯OFDMè°ƒåˆ¶"></a>ä»€ä¹ˆæ˜¯OFDMè°ƒåˆ¶</h3><p>OFDMï¼šæ­£äº¤é¢‘åˆ†å¤ç”¨ï¼Œé€šè¿‡å¤šè½½æ³¢è°ƒåˆ¶ï¼ˆåŠ è½½åœ¨ä¸åŒçš„é¢‘æ®µä¸Šï¼‰å®ç°å¯¹é¢‘ç‡é€‰æ‹©æ€§è¡°å¼±ä¸€å®šçš„æŠµæŠ—ï¼ŒåŒæ—¶å®ç°ä¸²è¡Œä¿¡å·å¹¶è¡Œä¼ è¾“ï¼Œæé«˜é€Ÿç‡ä¸”å°½é‡èŠ‚çœé¢‘å¸¦èµ„æºã€‚å¹¶è¡Œä¼ è¾“çš„ä¼˜åŠ¿è¿˜åœ¨äºå»¶é•¿äº†å•ä¸ªç¬¦å·çš„æŒç»­æ—¶é—´ï¼Œå‡è®¾æˆ‘éœ€è¦ä¼ è¾“å››ä¸ªç¬¦å·ï¼Œæ¯ä¸ªç¬¦å·æŒç»­0.25nsï¼Œé‚£ä¹ˆä¸€å…±ä¼ è¾“1nsï¼›å¦‚æœæˆ‘ä½¿ç”¨OFDMå¹¶è¡Œä¼ è¾“çš„è¯ï¼Œä½¿ç”¨4ä¸ªå­è½½æ³¢è¿›è¡Œè°ƒåˆ¶ï¼Œé‚£ä¹ˆåœ¨åŸæ¥çš„ä¼ è¾“æ—¶é—´1nså†…æˆ‘å¯ä»¥æ¯ä¸ªç¬¦å·ä¼ è¾“1nså¹¶è¡Œä¼ è¾“ï¼Œè¿™æ ·æˆ‘å•ä¸ªç¬¦å·çš„é•¿åº¦æ˜¯åŸæ¥çš„4å€ï¼Œé€šè¿‡ä¸€äº›çº é”™ç å¯ä»¥æ›´å®¹æ˜“æ ¡éªŒç¬¦å·ã€çº é”™ï¼Œæé«˜ç³»ç»Ÿå¯¹ISIçš„æŠµæŠ—æ€§ã€‚</p><p>OFDMå®ä¿¡å·çš„è°ƒåˆ¶è¡¨è¾¾å¼å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image008.png" alt="MRC"><br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image009.png" alt="MRC"></p><p>Nä¸ºå­è½½æ³¢çš„ä¸ªæ•°ã€‚åœ¨æ¥æ”¶ç«¯ç”±äºæ¯ä¸ªå­è½½æ³¢åœ¨é¢‘åŸŸä¸Šæ˜¯ç›¸äº’æ­£äº¤çš„ï¼Œå¯ä»¥å®¹æ˜“çš„é€šè¿‡ç›¸å¹²è§£è°ƒåˆ†ç¦»å‡ºæ¯ä¸€ä¸ªå­è½½æ³¢æ‰¿è½½çš„ä¿¡å·ï¼Œæœ€åå†å¹¶ä¸²è½¬æ¢å°±å¯ä»¥å¾—åˆ°ä¿¡é“ä¼ è¾“åçš„æ¥æ”¶ä¿¡å·ã€‚å½“ç„¶å®é™…çš„è°ƒåˆ¶è¿‡ç¨‹æ›´åŠ å¤æ‚ï¼Œä¸€ä¸ªå¯èƒ½çš„æ¡†å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image010.png" alt="MRC"></p><h3 id="OFDMçš„æŠ€æœ¯ç‰¹ç‚¹"><a href="#OFDMçš„æŠ€æœ¯ç‰¹ç‚¹" class="headerlink" title="OFDMçš„æŠ€æœ¯ç‰¹ç‚¹"></a>OFDMçš„æŠ€æœ¯ç‰¹ç‚¹</h3><p>ç”±äºä¿¡é“çš„ä¸ç¡®å®šæ€§ï¼Œå¦‚å¤šæ™®å‹’é¢‘ç§»å¯¼è‡´çš„éæ­£äº¤æ€§éƒ½ä¼šå¯¹OFDMä¼ é€’çš„ç¬¦å·é—´äº§ç”Ÿä¸¥é‡çš„å¹²æ‰°ï¼›æˆ–è€…æ™®éå­˜åœ¨çš„ç¬¦å·é—´å¹²æ‰°éƒ½ä¼šå¯¼è‡´OFDMçš„æ­£å¸¸ä¼ è¾“ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ä¼ è¾“çš„ç¬¦å·ä¹‹é—´æ’å…¥ä¸€æ®µé—´éš”ç§°ä¸ºä¿æŠ¤é—´éš”ï¼Œé€šè¿‡ç‰ºç‰²ä¸€éƒ¨åˆ†èµ„æºæ¢å–é€šä¿¡çš„ç¨³å®šæ€§ã€‚</p><p>åœ¨æ’å…¥ä¿æŠ¤é—´éš”çš„åŒæ—¶æ‰‹åŠ¨å¼•å…¥äº†æ—¶å»¶ï¼Œå†åŠ ä¸Šå¤šæ™®å‹’é¢‘ç§»å¯¼è‡´å­è½½æ³¢é—´ä¸å†æ˜¯ä¸¥æ ¼çš„æ­£äº¤ï¼Œå­è½½æ³¢ä¿¡é“ä¹‹é—´ä¼šäº§ç”Ÿå¹²æ‰°ï¼ŒICIå³ä¿¡é“é—´å¹²æ‰°ã€‚äºæ˜¯æ·»åŠ äº†å¾ªç¯å‰ç¼€ï¼Œè¡¥å…¨ä¿æŠ¤é—´éš”çš„ç©ºç¼ºï¼Œæ˜¯ä¸åŒä¿¡é“çš„ç¬¦å·ä¹‹é—´å¯¹é½ï¼Œä¿æŒå­è½½æ³¢ä¹‹é—´çš„æ­£äº¤æ€§ï¼Œå½“ç„¶ï¼Œè¿™æ ·ä¹Ÿå¯¼è‡´äº†èµ„æºçš„æµªè´¹ï¼Œä½†æ˜¯ä¹Ÿèƒ½å¤Ÿå‡å°‘å¤æ‚ä¿¡å·å¤„ç†çš„å¼€é”€ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image012.png" alt="MRC"></p><h2 id="ä¿¡é“ä¼°è®¡"><a href="#ä¿¡é“ä¼°è®¡" class="headerlink" title="ä¿¡é“ä¼°è®¡"></a>ä¿¡é“ä¼°è®¡</h2><p>ä¿¡é“ä¼°è®¡å³æ˜¯é€šè¿‡ä¿¡é“ä¼°è®¡ç®—æ³•ç­‰æ•°å­¦åˆ†ææ‰‹æ®µç ”ç©¶æ—¶å˜æ— çº¿ä¿¡é“çš„ä¿¡é“ç›¸å…³å‚æ•°ï¼Œè¿™äº›å‚æ•°å¯¹äºæ¥æ”¶ç«¯çš„æ•°æ®æ¢å¤æœ‰å¾ˆé‡è¦çš„ä½œç”¨ã€‚ä¿¡é“ä¼°è®¡ç®—æ³•å¤§è‡´ä¸Šå¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼Œéç›²ä¼°è®¡ã€åŠç›²ä¼°è®¡å’Œç›²ä¼°è®¡ã€‚è¿™é‡Œçš„â€œç›²â€æ˜¯æŒ‡å‘é€ç«¯çš„ä¿¡å·æ˜¯å¦å«æœ‰å¯¼é¢‘ï¼Œæ‰€è°“å¯¼é¢‘æ˜¯ä¸€æ®µæ¥æ”¶æ–¹å’Œå‘é€æ–¹çº¦å®šå¥½çš„ä¿¡å·ï¼Œé€šè¿‡è§‚æµ‹å¯¼é¢‘å‘ç”Ÿçš„å˜åŒ–å¯ä»¥è§£å‡ºä¿¡é“å¯¹å½“å‰ä¿¡å·çš„å“åº”ã€‚å› æ­¤æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨éç›²ä¼°è®¡çš„æ–¹æ³•ã€‚</p><h3 id="ä¼ ç»Ÿä¿¡é“ä¼°è®¡ç®—æ³•"><a href="#ä¼ ç»Ÿä¿¡é“ä¼°è®¡ç®—æ³•" class="headerlink" title="ä¼ ç»Ÿä¿¡é“ä¼°è®¡ç®—æ³•"></a>ä¼ ç»Ÿä¿¡é“ä¼°è®¡ç®—æ³•</h3><p>æ¥æ”¶ç«¯çš„ä¿¡å·æ˜¯ä¼ è¾“ä¿¡å·é€šè¿‡ä¿¡é“çš„å†²æ¿€å“åº”åå åŠ ä¸€ä¸ªåŠ æ€§é«˜æ–¯ç™½å™ªå£°çš„ç»“æœï¼Œé€šè¿‡ç®—æ³•å°†æ¥æ”¶ä¿¡å·è¿˜åŸæ¥è¿‘å‘é€ä¿¡å·ï¼Œè€Œä¼°è®¡ä¸å®é™…ä¹‹é—´çš„è¯¯å·®å°±æ˜¯è¡¡é‡ç®—æ³•ä¼˜è¶Šæ€§çš„ä¸€ä¸ªæŒ‡æ ‡ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image013.png" alt="MRC"></p><p>éç›²ä¼°è®¡æ˜¯åŸºäºå¯¼é¢‘çš„ä¿¡é“ä¼°è®¡ç®—æ³•ï¼Œå…¶ä¸­æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æœ‰LSç®—æ³•ã€‚å³æœ€å°äºŒä¹˜æ³•ï¼Œå…¶ä¼˜ç‚¹æ˜¯å¤æ‚åº¦ä½ï¼Œæ˜“å®ç°ã€‚ä¿¡é“æ¨¡å‹å¦‚ä¸‹</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image014.png" alt="MRC"><br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image015.png" alt="MRC"></p><p>ä¸Šè¿°æ•°å­¦è¡¨è¾¾å¼æ˜¯ä¿¡å·ç»è¿‡FFTåçš„é¢‘åŸŸè¡¨è¾¾ï¼ŒLSçš„ä¼°è®¡ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªä¿¡é“å“åº”èƒ½å¤Ÿä½¿HXå³ä¼°è®¡å€¼ä¸Yå®é™…æ¥æ”¶å€¼ä¹‹é—´çš„æ®‹å·®æœ€å°ï¼Œæ•°å­¦è¡¨ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image016.png" alt="MRC"></p><p>ç¬¬ä¸€è¡Œå°±æ˜¯æ±‚å–ä¸¤è€…çš„æ®‹å·®ï¼ŒçŸ©é˜µè¿ç®—ä¹Ÿå°±ç­‰äºå…±è½­è½¬ç½®Ã—åŸçŸ©é˜µã€‚æœ€åçš„å±•å¼€å¼æ˜¯ä¸€ä¸ªå…³äºHLSçš„ä¸€ä¸ªæ–¹ç¨‹ï¼Œæˆ‘ä»¬æƒ³è¦è®©æ®‹å·®æœ€å°ï¼Œä¹Ÿå°±æ˜¯åœ¨æ–¹ç¨‹çš„æå°å€¼å¤„å–å€¼ï¼Œå› æ­¤æˆ‘ä»¬å¯¹ä¸Šå¼æ±‚åå¯¼ä»¤ç­‰å¼ä¸¤è¾¹ä¸ºé›¶ï¼Œæœ€ç»ˆçš„ç»“æœæ˜¯ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image017.png" alt="MRC"><br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image018.png" alt="MRC"></p><p>å…¶ä¸­<img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image019.png" alt="MRC">è¡¨ç¤ºä¸ºXçš„ä¼ªé€†çŸ©é˜µã€‚å¯¹LSç®—æ³•æ±‚ä¸€ä¸‹å‡æ–¹è¯¯å·®å¯ä»¥å¾—åˆ°ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image021.png" alt="MRC"></p><p>ç»“æœæ˜¯ä¿¡å™ªæ¯”ï¼ˆSNRï¼‰çš„å€’æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´å½“ä¿¡é“çš„ä¿¡å™ªæ¯”è¶Šé«˜ï¼ŒLSç®—æ³•çš„ä¼°è®¡æ•ˆæœè¶Šå¥½ï¼Œåè¿‡æ¥ä¹Ÿæ„å‘³ç€LSç®—æ³•æ˜“å—å™ªå£°å¹²æ‰°ã€‚ä»æ¨¡å‹çš„å»ºç«‹ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œè‹¥å¿½ç•¥åŠ æ€§ç™½å™ªå£°é‚£ä¸€é¡¹ï¼Œä¼°è®¡å€¼å°±ç­‰äºå®é™…å€¼ã€‚</p><p>ç”±äºLSç®—æ³•å¯¹å™ªå£°çš„å¿½ç•¥ï¼Œå¯¼è‡´LSåœ¨å®é™…çš„åº”ç”¨ä¸Šä¼°è®¡è¯¯å·®è¾ƒå¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬è€ƒè™‘å¦ä¸€ç§ç®—æ³•å³MMSEç®—æ³•ã€‚ä¸åƒLSç®—æ³•é€šè¿‡å¯¹å¯¼é¢‘ä¿¡å·çš„ä¼°è®¡ä¸åŸä¿¡å·ä¹‹é—´çš„å·®å€¼æ¥å–å¾—ä¿¡é“ä¼°è®¡çš„æœ€ä½³ï¼ŒMMSEç›´æ¥å¯¹ä¿¡é“çš„å†²æ¿€å“åº”è¿›è¡Œä¼°è®¡ï¼Œç„¶åé€šè¿‡ä¿¡é“å“åº”çš„ä¼°è®¡ä¸çœŸå®ä¿¡é“å“åº”ä¹‹é—´çš„å·®å€¼æ¥å–å¾—æœ€ä½³ï¼Œè¿™ä¹Ÿå°±è€ƒè™‘åˆ°ä¿¡é“çš„å¤šç§ç‰¹è´¨ï¼ˆåŒ…æ‹¬å™ªå£°ï¼‰ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image022.png" alt="MRC"></p><p>æœ€å°å‡æ–¹è¯¯å·®ç®—æ³•çš„æ€è·¯å°±æ˜¯å®ç°ä¿¡é“ä¼°è®¡ç»“æœä¸ä¿¡é“å“åº”çš„çœŸå®å€¼ä¹‹é—´çš„å‡æ–¹è¯¯å·®è¾¾åˆ°æœ€ä½å€¼ã€‚æˆ‘ä»¬å‡è®¾ä¸€ä¸ªçŸ©é˜µMä½¿å¾—MYèƒ½å¤Ÿé€¼è¿‘å‘å°„ä¿¡å·Xï¼Œä»¤ä¿¡é“å“åº”ä¼°è®¡çŸ©é˜µHMMSEä¸ºMYï¼Œå‡æ–¹å·®ä¹Ÿå°±æ˜¯</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image023.png" alt="MRC"></p><p>è¿™æ˜¯ä¸€ä¸ªå…³äºMçŸ©é˜µçš„å‡½æ•°ï¼Œæˆ‘ä»¬æƒ³è®©å‡æ–¹å·®å–å¾—æå°å€¼ä¹Ÿå°±æ˜¯è¦ä»¤åå¯¼ä¸º0ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image024.png" alt="MRC"></p><p>å‘ç°MçŸ©é˜µæ˜¯çœŸå®ä¿¡é“çŸ©é˜µå†²æ¿€å“åº”ä¸æ¥æ”¶ç«¯ä¿¡å·çš„äº’ç›¸å…³çŸ©é˜µä¹˜ä¸Šæ¥æ”¶ç«¯ä¿¡å·è‡ªç›¸å…³çŸ©é˜µçš„é€†ã€‚æœ€åä¿¡é“å“åº”ä¼°è®¡çŸ©é˜µç”±ç­‰å¼HMMSE &#x3D; MYå¾—å‡º</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image025.png" alt="MRC"></p><p>MMSE ä¿¡é“ä¼°è®¡ç®—æ³•ç›¸å¯¹äºå‰é¢çš„ LS ç®—æ³•,æœ€å¤§çš„æ”¹è¿›ä¹‹å¤„åœ¨äºæ¶ˆé™¤å™ªå£°å¯¹ä¿¡é“ä¼°è®¡çš„ä¸è‰¯å½±å“,èƒ½å¤Ÿå®ç°æ›´ä¸ºç²¾å‡†çš„ä¿¡é“ä¼°è®¡æ•ˆæœã€‚ä½†æ˜¯æˆ‘ä»¬ä»ç®—æ³•çš„æ€æƒ³ä¸­ä¹Ÿå¯ä»¥å‘ç°ï¼ŒMMSEç®—æ³•æ˜¯åŸºäºçœŸå®ä¿¡é“çš„è‡ªç›¸å…³çŸ©é˜µå®ç°çš„ï¼Œç®—æ³•è¦æ±‚ä¿¡é“çš„ç»Ÿè®¡å…ˆéªŒä¿¡æ¯ï¼Œè€Œè¿™å¾€å¾€éœ€è¦å¾ˆå¤§çš„å·¥ä½œé‡ï¼Œè€Œä¸”å¤§é‡çš„çŸ©é˜µè¿ç®—ä¹Ÿå¯¼è‡´è¿ç®—çš„å¤æ‚åº¦å¢å¤§ä»¥åŠç®—åŠ›çš„éœ€æ±‚ã€‚</p><hr><p>æ€»ç»“ä¸€ä¸‹ï¼Œä¸Šé¢ä¸¤ç§ç®—æ³•å¯¹äºä¿¡é“ä¼°è®¡åœ¨æŸäº›å±‚é¢ä¸Šéƒ½æœ‰è¾ƒå¥½çš„è¡¨ç°ï¼ŒLSç®—æ³•æ˜¯é€šè¿‡å‡å®šä¸€ä¸ªä¿¡é“å“åº”HLSï¼Œé€šè¿‡å°†å¯¼é¢‘é€šè¿‡å‡è®¾çš„ä¿¡é“å“åº”ä¸æ¥æ”¶ç«¯å®é™…æ¥æ”¶çš„å¯¼é¢‘ä¹‹é—´çš„å‡æ–¹å·®æ¥ä¼°è®¡ä¿¡é“å“åº”ï¼Œè¿™ç§å‡è®¾å¿½ç•¥äº†ä¿¡é“ä¸­å™ªå£°çš„å½±å“ã€‚è€ŒMMSEç®—æ³•é€šè¿‡å‡è®¾ä¸€ä¸ªçŸ©é˜µMï¼Œå‡å®šä¿¡é“å“åº”ç­‰äºæ¥æ”¶ç«¯çš„å¯¼é¢‘ä¹˜ä¸ŠçŸ©é˜µMå³MYï¼Œé€šè¿‡çœŸå®ä¿¡é“å“åº”ä¸ä¼°è®¡çš„ä¿¡é“å“åº”ä¹‹é—´çš„å‡æ–¹å·®æ¥ä¼°è®¡ä¿¡é“å“åº”ï¼Œè¿™ç§å‡è®¾è€ƒè™‘åˆ°ä¿¡é“ä¸­çš„å™ªå£°æé«˜äº†ç²¾åº¦ï¼Œä½†æ˜¯éœ€è¦å…ˆéªŒæ¡ä»¶å³çœŸæ˜¯ä¿¡é“çš„è‡ªç›¸å…³çŸ©é˜µã€‚</p><h2 id="å‹ç¼©æ„ŸçŸ¥"><a href="#å‹ç¼©æ„ŸçŸ¥" class="headerlink" title="å‹ç¼©æ„ŸçŸ¥"></a>å‹ç¼©æ„ŸçŸ¥</h2><p>å‹ç¼©æ„ŸçŸ¥åŸºäºä¿¡å·çš„ç¨€ç–æ€§ã€‚è¯¥æŠ€æœ¯çš„åŸç†æ˜¯:é¦–å…ˆæ±‚å–å¾—åˆ°ä¸€ä¸ªåŸŸ,å®ƒå¯ä»¥å®ç°å°†åŸå§‹ä¿¡å·è½¬æ¢è‡³æ­¤åŸŸåèƒ½å±•ç°å‡ºä¿¡å·çš„ç¨€ç–æ€§è´¨,å®ŒæˆåŸå§‹ä¿¡å·çš„ç¨€ç–å˜æ¢;ç„¶åä¸ºå˜æ¢å¾—æ¥çš„ç¨€ç–ä¿¡å·å¯»æ‰¾åˆé€‚çš„è§‚æµ‹çŸ©é˜µ,å½¢æˆè¾ƒä½ç»´åº¦çš„ä¿¡å·;æœ€åä»¥ä½é‡‡æ ·çš„ä»£ä»·,åº”ç”¨é‡æ„ç®—æ³•æŠŠåŸæ¥çš„ä¿¡å·ä¼°è®¡å‡ºæ¥,å›åˆ°ç¨€ç–åŸŸè¿›è¡Œå¤„ç†ã€‚ä¾‹å¦‚ï¼Œä¿¡å·é€šè¿‡æ— çº¿ä¿¡é“åˆ°è¾¾åŸºç«™çš„å¤©çº¿é˜µåˆ—ï¼Œä»åˆ°è¾¾çš„è§’åº¦è€ƒè™‘ï¼Œå®é™…ä¿¡å·åˆ°è¾¾çš„è§’åº¦å¾ˆæœ‰é™ï¼Œåœ¨è§’åº¦åŸŸä¸Šå‘ˆç°å‡ºç¨€ç–æ€§ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image026.png" alt="MRC"></p><p>å¦‚æœä¿¡å·æœ¬èº«ä¸å…·æœ‰æŸäº›ç¨€ç–æ€§ï¼Œåˆ™åˆ©ç”¨æŸä¸€æ­£äº¤åŸºå®ç°çº¿æ€§çš„ç¨€ç–è½¬å˜ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image028.png" alt="MRC"></p><p>Xæ˜¯åŸå§‹çš„Nä¸ºä¿¡å·å‘é‡ï¼Œ<img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image029.png" alt="thi">æ˜¯ç¨€ç–å˜åŒ–çŸ©é˜µï¼Œ<img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image031.png" alt="theta">æ˜¯å®Œæˆè½¬å˜çš„ç¨€ç–ä¿¡å·ã€‚å®Œæˆä¿¡å·çš„ç¨€ç–è½¬å˜åçš„ç¬¬äºŒéƒ¨å°±æ˜¯è¿›è¡Œæµ‹é‡çŸ©é˜µçš„è®¾è®¡é—®é¢˜ï¼Œå°†ä¸Šä¸€æ­¥å®Œæˆçš„ç¨€ç–ä¿¡å·ä¸æµ‹é‡çŸ©é˜µç›¸ä¹˜çš„ç›®çš„æ˜¯å°†ä¿¡å·é™ç»´ã€‚ï¼ˆå»é™¤å†—ä½™çš„ä¿¡æ¯ï¼‰</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image033.png" alt="MRC"></p><p>æµ‹é‡çŸ©é˜µÃ—ç¨€ç–å˜æ¢çŸ©é˜µå¾—åˆ°äº†Aå³æ„ŸçŸ¥çŸ©é˜µã€‚åŸä¿¡å·æ˜¯ä¸€ä¸ªNç»´çš„ä¿¡å·ï¼Œè€Œæ„ŸçŸ¥çŸ©é˜µæ˜¯ä¸€ä¸ªMÃ—Nçš„çŸ©é˜µï¼Œä¹Ÿå°±æ˜¯è¯´å®ç°äº†é™ç»´ï¼Œåç»­åªéœ€è¦å€ŸåŠ©Mç»´ä¿¡å·å°±å¯ä»¥å®ç°æœ€ç»ˆçš„åŸå§‹ä¿¡å·çš„æ¢å¤ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 5G </category>
          
          <category> é€šæ„Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 5G </tag>
            
            <tag> Channel state infomation(CSI) </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆè¯†æ— çº¿é€šä¿¡â€”â€”5G ä¿¡é“ä¼°è®¡</title>
      <link href="/2025/04/02/research/Knowing_5G/"/>
      <url>/2025/04/02/research/Knowing_5G/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯æ— çº¿é€šä¿¡"><a href="#ä»€ä¹ˆæ˜¯æ— çº¿é€šä¿¡" class="headerlink" title="ä»€ä¹ˆæ˜¯æ— çº¿é€šä¿¡"></a>ä»€ä¹ˆæ˜¯æ— çº¿é€šä¿¡</h1><p>ä½ åœ¨ä½ çš„æ‰‹æœºå¾®ä¿¡ä¸Šç¼–è¾‘äº†ä¸€æ®µæ–‡å­—ï¼Œè½»ç‚¹å‘é€ï¼Œè¿œåœ¨å¤©è¾¹çš„äº²æœ‹å¥½å‹ä¾¿èƒ½å¤Ÿå‡ ä¹ç¬æ—¶çš„æ¥æ”¶åˆ°ä½ è®¯æ¯ï¼Œè¿™å›ºç„¶å¾ˆå¥½ã€‚ä½†æ˜¯ä½ æ˜¯å¦æƒ³è±¡è¿‡ï¼Œè¿™ä¸ªä¼ è¾“çš„è¿‡ç¨‹æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿå¯èƒ½ä½ çŸ¥é“ï¼Œæ‰‹æœºå‘æ‰‹æœºåŸºç«™å‘é€ä¿¡æ¯ï¼Œç„¶ååŸºç«™ä¹‹é—´å†è¿›è¡Œä¼ è¾“ï¼Œæœ€åç”±åŸºç«™å‘æ‰‹æœºå¯¹é¢çš„äººå‘é€æ¶ˆæ¯ã€‚é‚£ä¹ˆï¼Œç°åœ¨è¯·ä½ æŠ¬å¤´ï¼Œçœ‹çœ‹ä½ å‘¨å›´ï¼Œä½ æ˜¯å¦ç”Ÿæ´»åœ¨â€œç›˜ä¸æ´â€ä¹‹ä¸­ã€‚æˆ‘ç›¸ä¿¡æ­£å¸¸çš„ç­”æ¡ˆæ˜¯å¦çš„ï¼ˆå¦‚æœä½ è¯´yesï¼Œé‚£ä½ å¾ˆå‰å®³å“Ÿï¼‰ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„æ— çº¿é€šä¿¡ã€‚è¿™æ˜¯ä¸€ä¸ªå ªç§°ä¼Ÿå¤§çš„ç§‘æŠ€æ‰‹æ®µï¼Œè¦æ˜¯ä¿¡å·éƒ½åªèƒ½é€šè¿‡å…‰çº¤ã€ä¿¡å·çº¿ä¼ è¾“ï¼Œé‚£æˆ‘ä»¬å°±çœŸçš„ç”Ÿæ´»åœ¨ç›˜ä¸æ´ä¹‹ä¸­äº†ï¼ˆ!_!ï¼‰æˆ‘ä»¬ç°åœ¨å¸¸ç”¨çš„ç§»åŠ¨è®¾å¤‡åƒæ‰‹æœºã€ç”µè„‘ã€ç”µè§†è¿™äº›ï¼Œéƒ½é…å¤‡æœ‰å¤©çº¿ï¼Œåœ¨åŸºç«™å®‰è£…è¿™å‡ åä¸Šç™¾çš„å¤©çº¿æ„æˆé˜µåˆ—æ¥æ¥å—æˆ‘ä»¬å‘ä»–å‘é€çš„ä¿¡æ¯ï¼ˆåé¢ç»Ÿç§°ä¸ºä¿¡å·ï¼‰ã€‚</p><p>é‚£ä½ å¯èƒ½ä¼šè¯´ï¼Œå°±è¿™ï¼Ÿä½ ä¸€æ ¹å¤©çº¿ã€æˆ‘ä¸€æ ¹å¤©çº¿å°±èƒ½è§£å†³çš„äº‹æƒ…ï¼Œèƒ½ç§°å¾—ä¸Šä¼Ÿå¤§ï¼Ÿå½“ç„¶ä¸æ˜¯è¿™ä¹ˆç®€å•ï¼Œä½ åœ¨ç”Ÿæ´»ä¸­ä¸éš¾å‘ç°ï¼Œå‘å‰æ¨ä¸€è¾†è½¦ï¼Œè¿‡ä¸€ä¼šä»–å°±ä¼šè‡ªå·±åœä¸‹æ¥ï¼›å‘å‰è¯´è¯ï¼Œå£°éŸ³å´åƒæ˜¯ä»å‰é¢ä¼ æ¥ã€‚è¿™äº›è¯´æ˜ä¸¤ç‚¹ï¼š</p><ol><li>æ—¥å¸¸ç”Ÿæ´»ä¸­å­˜åœ¨é˜»åŠ›ï¼Œæˆ–è€…è¯´è¡°å‡ï¼Œç©ºä¸­ä¼ é€’çš„ä¿¡å·ä¹Ÿä¸ä¾‹å¤–ä¼šå—åˆ°è¡°å‡ï¼Œå¯¼è‡´ä»æ‰‹æœºåˆ°åŸºç«™çš„ä¿¡å·çš„è´¨é‡å¾€å¾€ä¸å¦‚æ‰‹æœºç«¯åˆšå‘å‡ºã€‚</li><li>ä¿¡å·ä¸æ˜¯åƒä¸€æ ¹çº¿ä¸€æ ·å›ºå®šä¸€ä¸ªæ–¹å‘ä¼ æ’­ï¼Œè€Œæ˜¯åƒå£°æ³¢ä¸€æ ·å‘å››å‘¨æ‰©æ•£çš„ä¼ æ’­ï¼Œç¢°åˆ°ç‰©ä½“ä¹Ÿä¼šåå°„ã€‚ç°å®ç”Ÿæ´»ä¸­çš„åå°„ç‰©æ›´åŠ å¤šï¼Œè¿™å¯¼è‡´ä½ å‘å‡ºçš„ä¿¡å·åœ¨ä¼ æ’­è¿‡ç¨‹ä¸­ä¼šå˜æˆ2ä¸ªã€4ä¸ªã€8ä¸ªç”šè‡³æ›´å¤šï¼Œè¿™äº›ä¿¡å·ä¼ è¾“åˆ°åŸºç«™å°±ä¼šäº§ç”Ÿè¯¸å¤šé—®é¢˜ï¼Œæ¯”å¦‚å“ªä¸ªä¿¡å·æ‰æ˜¯ä½ æ‰‹æœºå‘å‡ºçš„ï¼Ÿä¸åŒä¿¡å·ä¹‹é—´çš„åˆ°è¾¾æ—¶é—´è¿˜ä¸åŒï¼Œå¯èƒ½å¯¼è‡´é€šä¿¡çš„å»¶è¿Ÿã€‚</li></ol><p>æ— è®ºæ˜¯ä¸Šé¢ä¿¡å·çš„è¡°å‡è¿˜æ˜¯åå°„å¯¼è‡´å¤šå¾„ï¼ˆåç»­ç§°åå°„å¯¼è‡´çš„å¤šä¸ªä¿¡å·ä¸ºå¤šå¾„ï¼‰éƒ½ä¼šé€ æˆä¿¡å·å»¶æ—¶ã€ä¿¡å·é”™ä¹±æˆ–è€…ä¸¢åŒ…çš„ç°è±¡ã€‚è¿™ä¹Ÿå°±å¼•èµ·ç§‘å­¦å®¶ä»¬å¯¹æ— çº¿ä¿¡å·ä¼ è¾“çš„ä»‹è´¨ï¼ˆåç»­æˆ‘ä»¬ç§°ä¸ºä¿¡é“ï¼‰çš„ç ”ç©¶çƒ­æƒ…ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„ä¿¡é“ä¼°è®¡ã€‚</p><h1 id="ä»€ä¹ˆæ˜¯ä¿¡é“"><a href="#ä»€ä¹ˆæ˜¯ä¿¡é“" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¿¡é“"></a>ä»€ä¹ˆæ˜¯ä¿¡é“</h1><p>é€šè¿‡ä¸Šé¢çš„ç®€å•è®²è¿°ï¼Œæˆ‘ä»¬çŸ¥é“äº†ä¿¡å·ä¼ è¾“éœ€è¦å€ŸåŠ©ä¿¡é“æ¥è¿›è¡Œï¼Œä½†æ˜¯ä¿¡é“æ˜¯ä»€ä¹ˆï¼Ÿç®€å•æ¥è¯´ï¼Œä¿¡é“å°±æ˜¯ä¿¡æ¯ä¼ è¾“çš„â€œé“è·¯â€ï¼Œå®ƒå†³å®šäº†ä½ çš„ä¿¡å·åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å“ªäº›â€œå‘å‘æ´¼æ´¼â€ï¼Œä»¥åŠå®ƒæœ€ç»ˆèƒ½å¦é¡ºåˆ©åˆ°è¾¾ç»ˆç‚¹ã€‚ä¿¡é“å¯ä»¥æŒ‰ç…§ç‰©ç†æ€§è´¨è¿›ä¸€æ­¥ç»†åˆ†æˆä¸¤å¤§ç±»ï¼š</p><ol><li><strong>æœ‰çº¿ä¿¡é“</strong>ï¼šä½ å¯ä»¥æŠŠå®ƒç†è§£æˆç°å®ç”Ÿæ´»ä¸­çš„â€œé«˜é€Ÿå…¬è·¯â€ï¼Œå…‰çº¤ã€ç”µç¼†ç­‰ç‰©ç†ä»‹è´¨å°±åƒæ˜¯åšå›ºçš„å…¬è·¯ï¼Œä¿è¯äº†ä¿¡å·å¯ä»¥ç¨³å®šä¼ è¾“ã€‚</li><li><strong>æ— çº¿ä¿¡é“</strong>ï¼šå®ƒæ›´åƒæ˜¯ä¸€æ¡â€œç©ºä¸­èˆªçº¿â€ï¼Œä¿¡å·ä¾é ç”µç£æ³¢åœ¨ç©ºä¸­ä¼ æ’­ï¼Œä¸éœ€è¦ä»»ä½•å®ä½“çš„ä»‹è´¨æ”¯æ’‘ï¼Œä½†ä¹Ÿå› æ­¤å®¹æ˜“å—åˆ°å¹²æ‰°ã€‚</li></ol><p>è€Œæˆ‘ä»¬çš„æ‰‹æœºä¿¡å·åœ¨ç»å¤§éƒ¨åˆ†çš„æƒ…å†µä¸‹æ˜¯æŒ‰ç…§æ— çº¿çš„æ–¹å¼è¿›è¡Œä¼ è¾“çš„ï¼Œè€Œæ— çº¿ä¿¡é“ä¸åƒæœ‰çº¿ä¿¡é“é‚£æ ·å—ç‰©ç†çº¿è·¯ä¿æŠ¤ï¼Œå®ƒåœ¨ç°å®ç¯å¢ƒä¸­ä¼šå—åˆ°å„ç§å› ç´ çš„å½±å“ï¼Œå¯¼è‡´ä¿¡å·åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å˜å¾—â€œå´å²–ä¸å¹³â€ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸ºäº†æ›´å¥½çš„ä¼ è¾“ä¿¡å·ï¼Œæˆ‘ä»¬å°±éœ€è¦ç ”ç©¶æ— çº¿ä¿¡é“çš„ä¸€äº›ç‰¹æ€§ã€‚</p><h3 id="è¡°å¼±"><a href="#è¡°å¼±" class="headerlink" title="è¡°å¼±"></a><strong>è¡°å¼±</strong></h3><p>ä½ æœ‰æ²¡æœ‰è¯•è¿‡åœ¨ä¸€ä¸ªæˆ¿é—´é‡Œèµ°åŠ¨æ—¶ï¼Œæ‰‹æœºçš„ä¿¡å·æ—¶å¥½æ—¶åï¼Ÿè¿™å°±æ˜¯è¡°è½çš„è¡¨ç°ã€‚è¡°è½çš„åŸå› æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ä¿¡å·åœ¨ä¼ æ’­è¿‡ç¨‹ä¸­é‡åˆ°éšœç¢ç‰©ï¼ˆå¢™å£ã€å»ºç­‘ç‰©ç­‰ï¼‰ï¼Œæˆ–è€…éšç€ä¼ æ’­è·ç¦»çš„å¢åŠ ï¼Œèƒ½é‡é€æ¸å‡å°‘ã€‚æˆ‘ä»¬é€šå¸¸æŠŠè¡°è½åˆ†æˆä¸¤ç±»ï¼š</p><ol><li><strong>å¤§å°ºåº¦è¡°è½</strong>ï¼šå½±å“çš„æ˜¯ä¿¡å·çš„æ•´ä½“å¼ºåº¦ï¼Œå’Œä¼ æ’­è·ç¦»ã€ç¯å¢ƒå¯†é›†ç¨‹åº¦æœ‰å…³ã€‚æ¯”å¦‚ï¼Œä½ ç«™åœ¨ç©ºæ—·çš„è‰åŸä¸Šï¼Œæ‰‹æœºä¿¡å·å¯èƒ½å¾ˆå¥½ï¼›ä½†å¦‚æœä½ è¿›å…¥é«˜æ¥¼å¤§å¦çš„ç”µæ¢¯ï¼Œä¿¡å·å¯èƒ½ä¼šç¬é—´å˜å·®ã€‚</li><li><strong>å°å°ºåº¦è¡°è½</strong>ï¼šå½±å“çš„æ˜¯ä¿¡å·çš„ç»†å¾®æ³¢åŠ¨ï¼Œé€šå¸¸æ˜¯å› ä¸ºå¤šæ¡è·¯å¾„çš„ä¿¡å·ç›¸äº’å¹²æ‰°ï¼Œæ¯”å¦‚ä½ åœ¨åŸå¸‚çš„è¡—é“ä¸Šèµ°åŠ¨æ—¶ï¼Œä¿¡å·å¯èƒ½ä¼šåœ¨ä¸åŒå»ºç­‘ç‰©é—´åå°„ï¼Œå¯¼è‡´è´¨é‡ä¸ç¨³å®šã€‚</li></ol><h3 id="å¤šå¾„æ•ˆåº”"><a href="#å¤šå¾„æ•ˆåº”" class="headerlink" title="å¤šå¾„æ•ˆåº”"></a><strong>å¤šå¾„æ•ˆåº”</strong></h3><p>æƒ³è±¡ä¸€ä¸‹ä½ åœ¨å±±è°·ä¸­å¤§å–Šä¸€å£°ï¼Œä½ çš„å£°éŸ³ä¼šç»è¿‡ä¸åŒè·¯å¾„åå°„å›æ¥ï¼Œå½¢æˆâ€œå›å£°â€ã€‚æ— çº¿ä¿¡å·çš„æƒ…å†µä¹Ÿæ˜¯å¦‚æ­¤â€”â€”ä¿¡å·åœ¨ä¼ æ’­è¿‡ç¨‹ä¸­ï¼Œä¼šå› ä¸ºç¢°åˆ°å»ºç­‘ç‰©ã€æ ‘æœ¨ã€åœ°é¢ç­‰äº§ç”Ÿåå°„ã€æŠ˜å°„ã€æ•£å°„ç­‰ç°è±¡ï¼Œä»è€Œå½¢æˆå¤šä¸ªåˆ°è¾¾æ¥æ”¶ç«¯çš„è·¯å¾„ã€‚é—®é¢˜æ˜¯ï¼Œä¸åŒè·¯å¾„çš„ä¿¡å·ä¼ æ’­æ—¶é—´ä¸ä¸€æ ·ï¼Œåˆ°è¾¾æ¥æ”¶ç«¯æ—¶å¯èƒ½ä¼šç›¸äº’å åŠ æˆ–æŠµæ¶ˆï¼Œå¯¼è‡´ä¿¡å·å¤±çœŸã€‚è¿™ç§ç°è±¡è¢«ç§°ä¸ºå¤šå¾„æ•ˆåº”ã€‚å¤šå¾„æ•ˆåº”ä¼šå¯¼è‡´ä¸¤ç§è¡°è½ï¼š</p><ol><li>å¹³å¦è¡°è½ï¼šå¦‚æœä¿¡å·çš„å¸¦å®½è¾ƒå°ï¼Œæ•´ä¸ªé¢‘æ®µçš„ä¿¡é“å½±å“å‡ ä¹ç›¸åŒï¼Œè¡°è½ä¸ä¼šå¤ªä¸¥é‡ã€‚</li><li>é¢‘ç‡é€‰æ‹©æ€§è¡°è½ï¼šå¦‚æœä¿¡å·çš„å¸¦å®½è¾ƒå¤§ï¼Œä¸åŒé¢‘ç‡çš„ä¿¡å·åˆ†é‡ä¼šå—åˆ°ä¸åŒç¨‹åº¦çš„è¡°è½ï¼Œä»è€Œå¯¼è‡´æ¥æ”¶ä¿¡å·çš„ç•¸å˜ã€‚</li></ol><h3 id="å¤šæ™®å‹’æ•ˆåº”"><a href="#å¤šæ™®å‹’æ•ˆåº”" class="headerlink" title="å¤šæ™®å‹’æ•ˆåº”"></a><strong>å¤šæ™®å‹’æ•ˆåº”</strong></h3><p>å¦‚æœä½ ååœ¨è·¯è¾¹ï¼Œå¬ç€è¿œå¤„é©¶æ¥çš„æ•‘æŠ¤è½¦è­¦ç¬›å£°ï¼Œä½ ä¼šå‘ç°å£°éŸ³çš„é¢‘ç‡åœ¨æ¥è¿‘æ—¶å˜é«˜ï¼Œè¿œç¦»æ—¶å˜ä½ã€‚è¿™å°±æ˜¯å¤šæ™®å‹’æ•ˆåº”ã€‚åœ¨æ— çº¿é€šä¿¡ä¸­ï¼Œå¦‚æœä¿¡å·çš„å‘å°„ç«¯æˆ–æ¥æ”¶ç«¯åœ¨è¿åŠ¨ï¼ˆæ¯”å¦‚ä½ åœ¨å¼€è½¦æ—¶æ‰“ç”µè¯ï¼‰ï¼Œä¿¡å·çš„é¢‘ç‡ä¼šå‘ç”Ÿåç§»ï¼Œå½±å“é€šä¿¡è´¨é‡ã€‚å¤šæ™®å‹’æ•ˆåº”å¸¦æ¥çš„ä¸»è¦å½±å“æ˜¯ï¼š</p><ol><li><strong>é¢‘ç‡åç§»</strong>ï¼šä¿¡å·çš„é¢‘ç‡å‘ç”Ÿå˜åŒ–ï¼Œå¯èƒ½ä¼šå¯¼è‡´è§£è°ƒå›°éš¾ã€‚</li><li><strong>å¿«è¡°è½</strong>ï¼šå½“ä¿¡é“çš„å˜åŒ–é€Ÿåº¦æ¯”ä¿¡å·çš„å˜åŒ–å¿«æ—¶ï¼Œä½ åœ¨ä¼ è¾“ä¸€ä¸ªä¿¡å·ç¬¦å·çš„æ—¶å€™ï¼Œè¿˜æ²¡ä¼ å®Œä¿¡é“çš„æ€§è´¨å°±å‘ç”Ÿäº†æ”¹å˜ï¼Œä¿¡å·å°±ä¼šè¿…é€Ÿå¤±çœŸï¼Œå½±å“é€šä¿¡çš„ç¨³å®šæ€§ã€‚</li></ol><p>æ— çº¿ä¿¡é“æ˜¯ä¿¡æ¯ä¼ è¾“çš„â€œæ— å½¢é“è·¯â€ï¼Œä½†å®ƒå¹¶ä¸æ€»æ˜¯å¹³å¦é¡ºç•…çš„ã€‚è¡°è½ã€å¤šå¾„æ•ˆåº”ã€å¤šæ™®å‹’æ•ˆåº”è¿™äº›é—®é¢˜ï¼Œä½¿å¾—æ— çº¿ä¿¡å·åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¼šå‡ºç°å„ç§ä¸å¯é¢„æµ‹çš„å˜åŒ–ã€‚è¿™ä¹Ÿæ­£æ˜¯ç§‘å­¦å®¶ä»¬ç ”ç©¶ä¿¡é“ç‰¹æ€§çš„åŸå› â€”â€”ä»–ä»¬å¸Œæœ›æ‰¾åˆ°æ›´å¥½çš„æ–¹æ³•æ¥å¯¹æŠ—ä¿¡é“çš„ä¸åˆ©å½±å“ï¼Œè®©æ— çº¿é€šä¿¡å˜å¾—æ›´åŠ ç¨³å®šé«˜æ•ˆã€‚é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½è®©ä¿¡å·åœ¨å¤æ‚çš„æ— çº¿ç¯å¢ƒä¸‹ä¾ç„¶ä¿æŒè‰¯å¥½çš„è´¨é‡å‘¢ï¼Ÿåˆ«ç€æ€¥ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ä¸‹ä¸€æ­¥è¦è®¨è®ºçš„è¯é¢˜â€”â€”ä¿¡é“ä¼°è®¡ï¼</p><h1 id="ä»€ä¹ˆæ˜¯ä¿¡é“ä¼°è®¡ï¼ˆCSIï¼‰"><a href="#ä»€ä¹ˆæ˜¯ä¿¡é“ä¼°è®¡ï¼ˆCSIï¼‰" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¿¡é“ä¼°è®¡ï¼ˆCSIï¼‰"></a>ä»€ä¹ˆæ˜¯ä¿¡é“ä¼°è®¡ï¼ˆCSIï¼‰</h1><p>æˆ‘åœ¨ä¸Šé¢é€šè¿‡ä¸€ç§ä¸¾ä¾‹å­çš„æ–¹å¼å¸¦ä½ ç®€è¦çš„ç†è§£äº†ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ— çº¿é€šä¿¡ä»¥åŠæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦åšä¿¡é“ä¼°è®¡ï¼Œä¸‹é¢æˆ‘ä»å­¦æœ¯ä¸€ç‚¹çš„è§’åº¦ä¸Šè§£é‡Šä»€ä¹ˆæ˜¯ä¿¡é“ä¼°è®¡ã€ä¸ºä»€ä¹ˆéœ€è¦ä¿¡é“ä¼°è®¡ï¼Œä»¥åŠä¿¡é“ä¼°è®¡æœ‰ä»€ä¹ˆç”¨ï¼ˆä½œè€…ä¹Ÿæ˜¯åˆå­¦è€…ï¼Œä»…ä½œä¸ºå‚è€ƒä»¥åŠè¡¥å……ï¼‰ï¼Ÿä¿¡é“ä¼°è®¡ï¼Œé¡¾åæ€ä¹‰æ˜¯å¯¹ä¿¡é“å‚æ•°è¿›è¡Œçš„ä¸€ç§ä¼°è®¡ã€‚ç”±äºä¿¡é“çš„ä¸ç¡®å®šæ€§ï¼Œæˆ‘ä»¬é€šå¸¸é‡‡ç”¨ç»Ÿè®¡çš„è§’åº¦å¯¹ä¿¡é“çš„ä¸€äº›å½±å“ä¿¡å·ä¼ è¾“çš„å‚æ•°è¿›è¡Œä¼°è®¡ï¼Œæ¯”å¦‚è¡°å‡ã€æ—¶å»¶ç­‰ç­‰ã€‚é‚£æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ä¿¡é“ä¼°è®¡ï¼Ÿæˆ‘è¿˜æ˜¯ä¸¾ä¾‹è¿›è¡Œè¯´æ˜ï¼Œå‡è®¾ä¸€ä¸ªç”¨æˆ·å‘åŸºç«™ä¼ è¾“10ä¸ªä¿¡å·ï¼Œæ¯ä¸ªä¿¡å·ç»å†å®Œå…¨ç›¸åŒçš„ä¿¡é“ï¼ˆä¹Ÿå°±æ˜¯è¯´ä¿¡é“å¯¹ä¿¡å·çš„å½±å“å®Œå…¨ä¸€æ ·ï¼‰ï¼Œå¦‚æœæˆ‘ä¸åšä¿¡é“ä¼°è®¡ï¼Œé‚£åŸºç«™æ¯æ¥æ”¶ä¸€ä¸ªä¿¡å·éƒ½è¦å¯¹è¿™ä¸ªä¿¡å·è¿›è¡Œä¸€ä¸ªä¿¡é“å½±å“çš„æ¶ˆé™¤ï¼Œè¿™å¯¹äºåŸºç«™è¿™ç§å¤§ååé‡çš„åº”ç”¨åœºæ™¯æ˜¾ç„¶ä¸åˆç†ã€‚å¦‚æœåŸºç«™å¯¹ç¬¬ä¸€ä¸ªä¿¡å·åšä¿¡é“ä¼°è®¡ï¼ŒçŸ¥é“äº†ä¿¡é“å¯¹ä¿¡å·çš„å†²æ¿€å“åº”æ˜¯å¹…åº¦è¡°å‡ä¸º1&#x2F;2ã€ç›¸ä½å»¶å10ï¼Œé‚£ä¹ˆåç»­çš„9ä¸ªä¿¡å·åŸºç«™å¯ä»¥ç›´æ¥ç»™ä¸€ä¸ª2å€çš„å¢ç›Šï¼Œç„¶åå°†ç›¸ä½æå‰10ä»¥æ­¤æ¶ˆé™¤ä¿¡é“çš„å¹²æ‰°ï¼Œå¦‚æ­¤å°±èŠ‚çœäº†èµ„æºåˆæé«˜äº†æ•ˆç‡ã€‚</p><p>åç»­ç§‘å­¦å®¶ä»¬é€šè¿‡å¯¹ä¿¡é“ä¼°è®¡å¾—åˆ°çš„å‚æ•°è¿›è¡Œç ”ç©¶ï¼Œæ¨å‡ºäº†è®¸å¤šçš„ç®—æ³•ï¼Œå‘ç°å¯ä»¥é€šè¿‡CSIå¾—åˆ°ä¿¡å·ä»å‘å‡ºåˆ°è¾¾åŸºç«™çš„æ—¶é—´ã€ä¿¡å·åˆ°åŸºç«™ä½¿è¢«æ¥æ”¶çš„è§’åº¦ç­‰ï¼Œç”±æ­¤è¡ç”Ÿäº†CSIå¾—å‡ºä¿¡é“å“åº”ç”¨äºå®šä½ç”¨æˆ·çš„åŠŸèƒ½ç­‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> 5G </category>
          
          <category> é€šæ„Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 5G </tag>
            
            <tag> Channel state infomation(CSI) </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Wi-Fi Backscatter communication</title>
      <link href="/2025/03/18/research/Wi-Fi%20Backscatter%20communication/"/>
      <url>/2025/03/18/research/Wi-Fi%20Backscatter%20communication/</url>
      
        <content type="html"><![CDATA[<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>This article is about a new way of communication for edge IoT devices. Aims at transmitting information of sensors without consuming energy or even store energy for sensing environment.</p><p>It is a great method to deal with situation which may encounter some problems like short-energy.</p><p>We realise this method based on 802.11.ac frame structure, using a mcu controling RFID switch to change the resist value, which cause the changing in phase of the Wi-Fi packets.</p><p>The <strong>180 degrees</strong> inversion in phase of Wi-Fi packets will destroy the mac frame of signal transmitted in Los(Line of sight) as superimposed by the inversed Wi-Fi packets, which cause the <strong>0 bits</strong> in ACK block.</p><p>So we can get the information that we modulated onto the Wi-Fi packets without transmitting it by decoding the ACK blocks. That is the main concept of what we do.</p><h2 id="ä»€ä¹ˆæ˜¯WiFiåå‘æ•£å°„ç³»ç»Ÿï¼ˆWiFi-BackScatter-Communication-Systemï¼‰"><a href="#ä»€ä¹ˆæ˜¯WiFiåå‘æ•£å°„ç³»ç»Ÿï¼ˆWiFi-BackScatter-Communication-Systemï¼‰" class="headerlink" title="ä»€ä¹ˆæ˜¯WiFiåå‘æ•£å°„ç³»ç»Ÿï¼ˆWiFi BackScatter Communication Systemï¼‰"></a>ä»€ä¹ˆæ˜¯WiFiåå‘æ•£å°„ç³»ç»Ÿï¼ˆWiFi BackScatter Communication Systemï¼‰</h2><p>ç›´è§‚ç‚¹è¯´ï¼ŒBackscatter é€šä¿¡æ˜¯ä¸€ç§æä½åŠŸè€—é€šä¿¡æ–¹å¼ï¼Œè®¾å¤‡ä¸ç”¨ä¸»åŠ¨â€œå‘å°„ä¿¡å·â€ï¼Œè€Œæ˜¯é€šè¿‡åå°„å·²æœ‰çš„æ— çº¿ä¿¡å·ï¼ˆæ¯”å¦‚WiFiï¼‰æ¥ä¼ é€’æ•°æ®ã€‚åŸºæœ¬åŸç†æ˜¯å‡è®¾ç©ºæ°”ä¸­å·²ç»å­˜åœ¨ä¸€ä¸ªæ— çº¿ä¿¡å·ï¼ˆæ¯”å¦‚ WiFi è·¯ç”±å™¨å‘å‡ºçš„ä¿¡å·ï¼‰ï¼ŒèƒŒæ•£å°„è®¾å¤‡ï¼ˆæ¯”å¦‚æ ‡ç­¾ï¼‰ä¸è‡ªå·±å‘å°„ä¿¡å·ï¼Œè€Œæ˜¯é€šè¿‡è°ƒèŠ‚å¤©çº¿çš„é˜»æŠ—ï¼Œé€‰æ‹©æ€§åœ°åå°„æˆ–ä¸åå°„è¿™äº›ä¿¡å·ã€‚æ¥æ”¶ç«¯è®¾å¤‡ï¼ˆæ¯”å¦‚æ™ºèƒ½æ‰‹æœºï¼‰æ£€æµ‹è¿™äº›å˜åŒ–ï¼Œä»ä¸­æ¢å¤å‡ºæ•°æ®ã€‚</p><p>å¯ä»¥ç†è§£ä¸ºæœ‰äººä¸€ç›´åœ¨ç”¨æ‰‹ç”µç­’ï¼ˆWiFi ä¿¡å·ï¼‰ç…§ä¸€ä¸ªé•œå­ï¼Œè¿™ä¸ªé•œå­ï¼ˆWiFi Tagï¼‰å¯ä»¥æ§åˆ¶è‡ªå·±æ˜¯åå…‰è¿˜æ˜¯å¸å…‰ï¼ˆåå°„æˆ–ä¸åå°„ä¿¡å·ï¼‰ï¼Œä½ ç«™åœ¨å¦ä¸€è¾¹çœ‹ï¼Œå°±èƒ½æ ¹æ®â€œäº®â€æˆ–â€œä¸äº®â€æ¥è§£ç ä¿¡æ¯ã€‚è¿™æ ·çš„é€šä¿¡æ–¹å¼å¯ä»¥å®ç°è¶…ä½åŠŸè€—ï¼ˆç”šè‡³å¯ä»¥å®Œå…¨æ— ç”µæ± ï¼‰ï¼Œå®Œå…¨é€‚é…ç‰©è”ç½‘ï¼ˆIoTï¼‰è®¾å¤‡ã€RFID æ ‡ç­¾ç­‰ã€‚</p><h2 id="å¦‚ä½•ç†è§£WiFi-Backscatteræ‰€è°“çš„ç ´å"><a href="#å¦‚ä½•ç†è§£WiFi-Backscatteræ‰€è°“çš„ç ´å" class="headerlink" title="å¦‚ä½•ç†è§£WiFi Backscatteræ‰€è°“çš„ç ´å"></a>å¦‚ä½•ç†è§£WiFi Backscatteræ‰€è°“çš„ç ´å</h2><ol><li><p>ç†è§£WiFi Tagçš„å·¥ä½œæ–¹å¼æˆ‘ä»¬å°±éœ€è¦å…ˆçŸ¥é“WiFiæ˜¯æ€ä¹ˆä¼ è¾“æ•°æ®çš„ã€‚æˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åœ¨ç”µè„‘ä¸­æ˜¯å‘ˆç°ä¸º0101è¿™æ ·çš„äºŒè¿›åˆ¶æ¯”ç‰¹æµçš„ï¼Œæ¯8ä¸ªbitæ„æˆä¸€ä¸ªå­—èŠ‚ã€‚è€ŒWiFiå°†è‡³å°‘ä¸€ä¸ªå­—èŠ‚åŒ…è£…æˆä¸€ä¸ªå­å¸§ï¼ˆsubFrameï¼‰ï¼ŒTagå°±æ˜¯ä»¥å­å¸§ä¸ºåŸºæœ¬å•ä½å®ç°ç ´åçš„åŠŸèƒ½çš„ï¼ˆä¹Ÿå°±æ˜¯è¯´ç ´åå¾ˆå¤šä¸ªbitï¼‰ã€‚å·²çŸ¥æˆ‘ä»¬æ‰‹æœºï¼ˆUEï¼‰å‘è·¯ç”±å™¨å‘é€æ•°æ®ï¼Œå¦‚æœè·¯ç”±å™¨æˆåŠŸæ¥æ”¶äº†é‚£ä¹ˆå°±ä¼šå›åº”UEä¸€ä¸ªBAï¼ˆBlock ACKï¼‰ã€‚å¦‚æœæ¥æ”¶åˆ°äº†ï¼Œåœ¨BAå¯¹åº”çš„å¸§ä½ç½®ä¸Šä¼šæ˜¾ç¤ºä¸º1.å‡è®¾æˆ‘ä»¬åŸæœ¬è¦ä¼ è¾“ä¸€å…±10ä¸ªå­å¸§ï¼Œå¦‚æœAPï¼ˆä¾‹å¦‚è·¯ç”±å™¨ï¼‰å…¨éƒ¨éƒ½æ¥æ”¶åˆ°äº†ï¼Œé‚£ä¹ˆåœ¨Wiresharkï¼ˆä¸€ä¸ªæŠ“åŒ…è½¯ä»¶ï¼‰ä¸Šå°±ä¼šæ˜¾ç¤ºBAå¯¹åº”ä½ç½®æœ‰10ä¸ª1ï¼ˆ1è¡¨ç¤ºæˆåŠŸæ¥æ”¶ï¼‰ã€‚</p></li><li><p>æœ‰çš„äººæƒ³ä½ æŠŠç”¨æˆ·å‘å‡ºçš„æ•°æ®ç ´åäº†ï¼Œé‚£ç”¨æˆ·ä¸å°±ä¸¢åŒ…äº†å—ï¼Ÿè¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±è¦ç†è§£å¤šå¾„ã€‚ä¿¡å·åœ¨ç©ºæ°”ä¸­ä¸æ˜¯åªæ²¿ä¸€æ¡ç›´çº¿ä¼ æ’­çš„ï¼Œè€Œæ˜¯åœ¨ä¸€å®šèŒƒå›´çš„è§’åº¦èŒƒå›´å†…éƒ½æœ‰çš„ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†å¤šå¾„çš„äº§ç”Ÿã€‚å‡è®¾æˆ‘ä»¬ç°åœ¨å‘å‡ºçš„ä¿¡å·åªæœ‰ä¸¤æ¡è·¯å¾„</p></li></ol><p><img src="https://github.com/allforkarina/embadded_image/blob/master/20250406065801171.png?raw=true" alt="Multiple Path"></p><p>å…¶ä¸­ä»Helperåˆ°Readerçš„è·¯å¾„æ˜¯æœ€çŸ­çš„ç›´çº¿ï¼ˆç§°ä¸ºLOSï¼‰ã€‚å¦ä¸€æ¡è·¯å¾„çš„ä¿¡å·å¯èƒ½ç”±äºå¤–ç•Œç¯å¢ƒçš„åå°„ï¼ˆè·Ÿå£°æ³¢ä¸€æ ·ï¼‰ï¼Œè·¯å¾„é•¿åº¦æ›´é•¿ï¼Œä½¿å¾—ä¿¡å·åˆ°è¾¾Readeræ—¶ç›¸æ¯”äºLOSæœ‰ä¸€ä¸ªæ—¶å»¶ï¼Œè€Œè¿™ä¸ªæ—¶å»¶å°±ä¼šå¯¼è‡´ä¿¡å·çš„ç›¸ä½å‘ç”Ÿæ”¹å˜ï¼ˆæ”¹å˜180Â°å°±ç›¸å½“äºåå‘ï¼‰ã€‚</p><ol start="3"><li>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å®ç°è¿™ä¸ªç›¸ä½åå‘å‘¢ï¼Œé è¿æ°”ç­‰ç¯å¢ƒè‡ªå·±ä½¿ä¿¡å·ç›¸ä½æ”¹å˜å—ï¼Ÿä¸‹é¢æˆ‘ä»¬å°±è¦è®²ç¡¬ä»¶å®ç°æ€è·¯ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ä¿¡å·æ³¢é•¿ä¸é¢‘ç‡ä¹‹é—´çš„å…³ç³»ï¼š</li></ol><p><img src="https://github.com/allforkarina/embadded_image/blob/master/20250406065807770.png?raw=true" alt="Multiple Path"></p><p>ä¸€èˆ¬é¢‘ç‡æˆ‘ä»¬å·²çŸ¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå°±èƒ½å¤Ÿç®—å‡ºæ¥ä¿¡å·çš„æ³¢é•¿ã€‚ä¸€ä¸ªæ³¢é•¿ä»å…¬å¼çš„è§’åº¦ç­‰ä»·äºä¸€ä¸ªå®Œæ•´å‘¨æœŸï¼Œç­‰ä»·äºä¸€ä¸ª360Â°çš„ç›¸ä½åç§»ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ä¸ªæ ‡ç­¾æˆ‘ä»¬çš„Tagåœ¨ä¿¡å·çš„ä¼ è¾“è·¯å¾„ä¸­é—´ï¼Œç”¨ä¸€ä¸ªå¼€å…³åˆ‡æ¢è·¯å¾„ï¼Œä¸€å…±ä¸¤æ¡ï¼Œä¸€æ¡è·¯å¾„é•¿åº¦æ˜¯ä¸€ä¸ªå®Œæ•´æ³¢é•¿ï¼Œé‚£ä¹ˆä¿¡å·é€šè¿‡Tagçš„å¤©çº¿è¿›å…¥æ ‡ç­¾å†å‡ºæ¥ç»è¿‡äº†ä¸€ä¸ªå®Œæ•´çš„å‘¨æœŸï¼Œå¯ä»¥è®¤ä¸ºç›¸ä½ä¸å˜ï¼›å¦ä¸€æ¡è·¯å¾„çš„é•¿åº¦æ˜¯åŠä¸ªæ³¢é•¿ï¼ŒåŒç†ä¿¡å·è¿›å…¥Tagå†å‡ºæ¥ç›¸ä½æ”¹å˜äº†180Â°ï¼Œä¸åŸæ¥çš„ä¿¡å·åå‘ã€‚ç›¸å½“äºæˆ‘ä»¬äººä¸ºçš„å°†å¤šå¾„çš„é•¿åº¦å·®å˜æˆäº†ä¸€ä¸ªæ³¢é•¿ã€‚</p><h2 id="WiFi-Tagè°ƒåˆ¶çš„å…·ä½“å®ç°æµç¨‹"><a href="#WiFi-Tagè°ƒåˆ¶çš„å…·ä½“å®ç°æµç¨‹" class="headerlink" title="WiFi Tagè°ƒåˆ¶çš„å…·ä½“å®ç°æµç¨‹"></a>WiFi Tagè°ƒåˆ¶çš„å…·ä½“å®ç°æµç¨‹</h2><p>å‡è®¾æˆ‘ä»¬çš„æ‰‹æœºå’ŒWiFiè·¯ç”±å™¨åœ¨è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œåœ¨ä¸€ç§ç†æƒ³çš„æƒ…å†µä¸‹æˆ‘ä»¬çš„ä¿¡å·è´¨é‡å¾ˆå¥½ï¼Œæ²¡æœ‰ä¸¢åŒ…çš„æƒ…å†µã€‚æˆ‘ä»¬åœ¨ä¸­é—´åŠ å…¥WiFi Backscatter Tagï¼Œå¹¶ä¸”ä»¥10KHzçš„é¢‘ç‡å»åˆ‡æ¢å¼€å…³ã€‚å‡è®¾æˆ‘ä»¬æ‰‹æœºç½‘å¡å‘é€å­å¸§çš„é€Ÿç‡ä¹Ÿæ˜¯10Kä¸ªå­å¸§æ¯ç§’ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å‡è®¾åœ¨LOSï¼ˆå³å‰é¢è¯´çš„ç›´å°„è·¯å¾„ï¼‰ä¸­ä¼ è¾“çš„ä¿¡å·ï¼ˆè°ƒåˆ¶äº†10Kä¸ªå­å¸§ï¼‰çš„ç›¸ä½éƒ½æ˜¯0Â°ï¼ˆç›¸å¯¹çš„ï¼‰ã€‚ç„¶ååœ¨æœ‰WiFi Tagçš„å¦ä¸€æ¡è·¯å¾„ï¼Œä¿¡å·è°ƒåˆ¶çš„10Kä¸ªå­å¸§æœ‰5Kä¸ªç›¸ä½ä¸º360Â°ï¼Œæœ‰5Kä¸ªç›¸ä½ä¸º180Â°ã€‚ç›¸ä½ä¸º360Â°çš„è·ŸLOSçš„ä¿¡å·å åŠ åœ¨ä¸€èµ·ç”±äºåŒç›¸ï¼Œå¯¹åŸæ¥çš„ä¿¡å·èµ·åˆ°å¢å¼ºçš„ä½œç”¨ï¼Œæ¥æ”¶ç«¯å…¨æ˜¯1ï¼ˆå‚è€ƒåŸºç¡€çŸ¥è¯†1ï¼‰è€Œç›¸ä½ä¸º180Â°çš„è·ŸLOSçš„ä¿¡å·åå‘ï¼Œå åŠ åˆ°ä¸€èµ·åˆšå¥½ç›¸äº’æŠµæ¶ˆäº†ï¼Œé‚£ä¹ˆæ¥æ”¶ç«¯å°±æ˜¯å…¨0ï¼ˆç†æƒ³æƒ…å†µï¼‰ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™ä¸ª0ã€1ä¹‹é—´çš„äº¤æ›¿å¾—å‡ºæˆ‘ä»¬WiFi Tagè¦è°ƒåˆ¶çš„ä¿¡å·ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://github.com/allforkarina/embadded_image/blob/master/20250406065816107.png?raw=true" alt="Multiple Path"></p><hr><p>ä»¥ä¸‹æ˜¯ï¼Œæˆ‘ä»¬å¦‚ä½•é€šè¿‡è½¯ä»¶å®ç°å¯¹ä¸Šè¿°æµç¨‹çš„ä»¿çœŸä»¥åŠä½“ç°ã€‚</p><h2 id="Introduction-of-environment"><a href="#Introduction-of-environment" class="headerlink" title="Introduction of environment"></a>Introduction of environment</h2><p>In this section I will briefly give a introduction of the hardware requirement, software requirement and the system environment which we based on.</p><ul><li>Firstly, we setup ubuntu 22.04 version in real PC because one of the software we used requires real NIC(Network Interface Card).</li><li>Secondly, we need a low-speed, high-frequency RFID switch which also required low power consuming. Together with a mini-mcu to control it, which means you need a energy provided method.</li><li>thirdly, you may need wireshark to get packets info at initial, then you need PicoScenes as CSI Tool to get ACK block. Also you need pktgen which is provided by Linux kernel.</li></ul><h2 id="Process-of-experiment"><a href="#Process-of-experiment" class="headerlink" title="Process of experiment"></a>Process of experiment</h2><p>Letâ€™s start from equiping your computer with necessary software. First thing is that you need an PC with a Ubuntu system at version 22.04. Then after your configuration of basic settings, you can start from â€˜Pktgenâ€™ which is already in your system software and all you need to do is activate it using your root privacy. The detail of the overall process please follow the blog: <a href="https://blog.csdn.net/qq_41596356/article/details/134004341">How to use Pktgen-powerful Wlan test tools</a>. Notice: once you reboot your system, you need to activate the Pktgen using root privacy again.</p><p>Pktgen, used as packet genration and transmission tool, you can send packet which you configure. You then need a software to receive packet and evaluate the infomation of signal-channel through the packet you received. Here I recommend using wireshark to capture packet, and using PicoScenes to get CSI. The installation steps as followed.<br>For Wireshark, you can visit its <a href="https://github.com/wireshark/wireshark">github repository</a> and paste the command at your terminal. The second one PicoScenes, you can download it following this <a href="https://www.bing.com/search?form=QBLH&q=PicoScenes">blog</a>, or visit the <a href="https://ps.zpj.io/">official docs</a> to get to know how to install, how to use it and what is the meaning of CSI values.</p>]]></content>
      
      
      
        <tags>
            
            <tag> BackScatter </tag>
            
            <tag> WiFi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºåšå®¢çš„é‚£äº›äº‹o.O</title>
      <link href="/2025/03/18/etc/hello-world/"/>
      <url>/2025/03/18/etc/hello-world/</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo-çš„ä½¿ç”¨æŒ‡å¼•"><a href="#Hexo-çš„ä½¿ç”¨æŒ‡å¼•" class="headerlink" title="Hexo çš„ä½¿ç”¨æŒ‡å¼•"></a><em>Hexo</em> çš„ä½¿ç”¨æŒ‡å¼•</h1><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><h1 id="å¦‚ä½•å¿«é€Ÿå…¥é—¨-Markdown"><a href="#å¦‚ä½•å¿«é€Ÿå…¥é—¨-Markdown" class="headerlink" title="å¦‚ä½•å¿«é€Ÿå…¥é—¨ Markdown"></a>å¦‚ä½•å¿«é€Ÿå…¥é—¨ <em><strong>Markdown</strong></em></h1><p><em>Markdown</em>ï¼Œä½œä¸ºä¸€ç§åŸºäºæ–‡æœ¬çš„å¿«é€Ÿæ ¼å¼åŒ–ç¼–å†™è¯­æ³•ï¼Œç›¸è¾ƒäºä¼ ç»Ÿçš„æ–‡æœ¬ç¼–è¯‘å™¨å¦‚ <em>Word</em>ã€<em>WPS</em> è¿™äº›åŸºäºå›¾å½¢åŒ–çš„ <em>format</em> å·¥å…·ï¼Œåªéœ€è¦ç®€å•çš„å‡ ä¸ªå­—ç¬¦ä¾¿å¯ä»¥ä¾¿å¯å®ç° <em>æ–œä½“</em>ã€<strong>ç²—ä½“</strong>ä»¥åŠ<code>é«˜äº®</code>ç­‰ç‰¹æ®Š <em>format</em>ã€‚</p><p>è€Œå¯¹æ¯”èµ· <em>Latex</em>ï¼Œ<em>Markdown</em> è™½ç„¶åŠŸèƒ½ä¸å¦‚å…¶å¼ºå¤§ï¼Œä½†æ˜¯ç”±äº <em>Latex</em> éœ€è¦æ›´é•¿çš„å­¦ä¹ å‘¨æœŸã€ç¹æ‚çš„å…¬å¼å’Œæ–‡æœ¬è¡¨è¾¾å¼ï¼Œä»¥åŠè¾ƒæ…¢çš„ç¼–è¯‘é€Ÿåº¦ï¼Œå¯¹äºæƒ³å¿«é€Ÿç¼–å†™ <em>blog</em> æˆ–è€… <em>diary</em> çš„æ–°æ‰‹ï¼Œæˆ‘ä¸ªäººæ›´åŠ æ¨èä½¿ç”¨ <em>Markdown</em>ã€‚ä¸‹é¢æˆ‘å°†å¸¦é¢†ä½ ä»¬å¿«é€Ÿå…¥æ‰‹ <em>Markdown</em>ï¼Œè®©æˆ‘ä»¬çœå»ä¸€äº›æ²¡ç”¨çš„åºŸè¯ï¼Œ<em><strong>Letâ€™s start it!!!</strong></em></p><h2 id="æ¸…æ™°åˆ†æ˜çš„æ ‡é¢˜åˆ†çº§"><a href="#æ¸…æ™°åˆ†æ˜çš„æ ‡é¢˜åˆ†çº§" class="headerlink" title="æ¸…æ™°åˆ†æ˜çš„æ ‡é¢˜åˆ†çº§"></a>æ¸…æ™°åˆ†æ˜çš„æ ‡é¢˜åˆ†çº§</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># | ## | ### | ####</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ï¼Œä¾¿æ˜¯ <em>Markdown</em> ä¸­å®šä¹‰çš„æ ‡é¢˜åˆ†çº§æ–¹å¼ï¼Œæ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯éå¸¸çš„ç®€å•æ¸…æ™°ï¼åªè¦ä½ æƒ³ï¼Œä½ å¯ä»¥ä¸æ–­åœ°å åŠ <code>#</code>æ¥å®ç°å¤šçº§æ ‡é¢˜ï¼Œå½“ç„¶è¿™æ ·çš„ç»“æœå¯èƒ½åªæ˜¯æ ‡é¢˜æ¯”ä½ çš„æ­£æ–‡è¿˜è¦ä¸èµ·çœ¼ã€‚</p><h2 id="å¼ºå¤§ã€å¿«æ·çš„ç‰¹æ®Š-Format"><a href="#å¼ºå¤§ã€å¿«æ·çš„ç‰¹æ®Š-Format" class="headerlink" title="å¼ºå¤§ã€å¿«æ·çš„ç‰¹æ®Š Format"></a>å¼ºå¤§ã€å¿«æ·çš„ç‰¹æ®Š <em>Format</em></h2><p>å½“ä½ ä½¿ç”¨ <em>Word</em> æ’°å†™ä¸€ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œå¦‚æœä½ æƒ³å°†æŸæ®µæ–‡å­—å˜æˆç²—ä½“æ¥èµ·åˆ°å¼ºè°ƒçš„ä½œç”¨ï¼Œä½ å¤§æ¦‚ç‡ä¼šé€‰ä¸­æ–‡å­—ï¼Œç§»åŠ¨ä½ çš„é¼ æ ‡åˆ°<code>B</code>çš„ç²—ä½“æ ‡è¯†ä¸Šï¼ŒClickä¸€å£°ï¼Œå®ç°åŠ ç²—çš„æ•ˆæœï¼›å¦‚æœä½ æ˜¯é«˜æ‰‹ï¼Œé‚£ä¹ˆä½ å¯èƒ½ä¼šä½¿ç”¨å¿«æ·é”®æ¥åŠ ç²—æ–‡å­—ï¼Œä½†æ˜¯åœ¨ <em>Markdown</em> çš„ä¸–ç•Œé‡Œï¼Œä½ åªéœ€è¦</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**åŠ ç²—çš„æ–‡å­—**</span></span><br></pre></td></tr></table></figure><p>ä¾¿å¯ä»¥å®ç° <strong>åŠ ç²—</strong> çš„æ•ˆæœã€‚</p><hr><p>åŒç†ï¼Œåƒ <strong>åŠ ç²—</strong> è¿™æ ·çš„æ–¹ä¾¿å¿«æ·çš„ <em>Format</em> è¿˜æœ‰ <em>æ–œä½“</em>ã€<code>ä»£ç </code>ã€<del>åˆ é™¤çº¿</del>ç­‰ç­‰ã€‚ä»–ä»¬åˆ†åˆ«å¯¹åº”çš„æ ¼å¼ä¸º</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="emphasis">_æ–œä½“_</span> | <span class="code">`ä»£ç `</span> | ~~åˆ é™¤çº¿~~</span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨çš„æ–‡æœ¬ç»“æ„"><a href="#å¸¸ç”¨çš„æ–‡æœ¬ç»“æ„" class="headerlink" title="å¸¸ç”¨çš„æ–‡æœ¬ç»“æ„"></a>å¸¸ç”¨çš„æ–‡æœ¬ç»“æ„</h2><p>è¿™æ—¶å€™æœ‰äººä¼šé—®äº†ï¼Œåšä¸»åšä¸»ï¼Œä½ çš„æ–‡æœ¬ <em><code>format</code></em> è¿˜æ˜¯å¤ªæ™®é€šäº†ï¼Œæœ‰æ²¡æœ‰ä¸åƒæ“ä½œæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Ÿæœ‰çš„æœ‰çš„ï¼æ¯”å¦‚ï¼Œä½ å¯ä»¥å¿«é€Ÿçš„è‡ªå®šä¹‰ä¸€ä¸ªåˆ—è¡¨ï¼š</p><table><thead><tr><th></th><th>col1</th><th>col2</th></tr></thead><tbody><tr><td>row1</td><td>â€”-</td><td>â€”-</td></tr><tr><td>row2</td><td>â€”-</td><td>â€”-</td></tr></tbody></table><p>åƒä¸Šé¢è¿™ä¸ª2x2çš„è¡¨æ ¼åªéœ€è¦ç®€å•çš„å®šä¹‰æ–¹å¼ï¼Œå¦‚ä¸‹</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|      | col1 | col2 |</span><br><span class="line">| ---- | ---- | ---- |</span><br><span class="line">| row1 | ---- | ---- |</span><br><span class="line">| row2 | ---- | ---- |</span><br></pre></td></tr></table></figure><p>å…¶ä¸­çš„<code>| ---- | ---- | ---- |</code>ï¼Œä¹Ÿå°±æ˜¯ç¬¬äºŒè¡Œï¼Œä½œç”¨æ˜¯åŒºåˆ†è¡¨æ ¼çš„å†…å®¹ä»¥åŠæ¯ä¸€åˆ—çš„Title. </p><hr><p>å½“ç„¶ï¼Œä½ å¯ç»“åˆæˆ‘ä»¬ä¸Šä¸€èŠ‚çš„ç‰¹æ®Šformatæ¥è‡ªå®šä¹‰ä½ çš„è¡¨æ ¼ï¼Œåƒ</p><table><thead><tr><th></th><th align="left">col1</th><th align="left">col2</th></tr></thead><tbody><tr><td>row1</td><td align="left"><code>code</code></td><td align="left"><em>Italic</em></td></tr><tr><td>row2</td><td align="left"><strong>Bold</strong></td><td align="left"><del>Dele</del></td></tr></tbody></table><hr><p>æˆ–è®¸ä½ æ­£åœ¨å°è¯•ç¼–å†™ä¸€ä¸ªæŠ€æœ¯æ€§çš„åšå®¢ï¼Œä½ å¯¹å¦‚ä½•å°†æºç å±•ç¤ºå¼€æºè€Œæ„Ÿåˆ°å¤´ç—›ã€‚ç›´æ¥å¤åˆ¶ç²˜è´´ï¼Œæ ¼å¼ä¸å¯¹ï¼Œä¸å¤Ÿä¼˜ç¾ï¼›æˆªå›¾å‘¢ï¼Œè™½ç„¶æœ‰é«˜äº®ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ³•<code>ctrl + c\v</code>. å¯¹æ­¤ï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ ä½¿ç”¨ <em>Markdonw</em> çš„ä»£ç å—Structure</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="code">``` (language)</span></span><br><span class="line"><span class="code">(Warning: $ åªæ˜¯ç”¨äºé˜²æ­¢ä»£ç å—åœ¨æˆ‘å®šä¹‰çš„markdownä»£ç å—ä¸­ç”Ÿæ•ˆï¼Œå®é™…ä½¿ç”¨åªéœ€è¦ä¸Šä¸‹ç”¨```</span>æ ‡æ³¨è¿™æ˜¯ä¸€ä¸ªä»£ç å—å³å¯ç”Ÿæ•ˆ)    </span><br><span class="line">$ <span class="code">```</span></span><br></pre></td></tr></table></figure><p>æ‹¬å·å†…çš„Languageè¡¨ç¤ºï¼Œ<em>Markdown</em> çš„ä»£ç å—æ”¯æŒå¤šç§ä¸åŒçš„è¯­è¨€ï¼Œåƒpython</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.random.randn(<span class="number">1</span>, <span class="number">100</span>)</span><br></pre></td></tr></table></figure><hr><p>æˆ–è€…ä½ éœ€è¦ä¸€ä¸ª<code>TODO List</code>æ¥å¸®åŠ©ä½ ç®¡ç†ä½ çš„äº‹é¡¹ï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦ä½¿ç”¨åˆ°åˆ—è¡¨ã€‚</p><p><em>Markdown</em> æ”¯æŒå¤šç§ä¸åŒçš„åˆ—è¡¨ï¼Œä¾‹å¦‚æ•°å­—åˆ—è¡¨ï¼š</p><ol><li>This is the first list.</li><li>This is the second list</li></ol><p>åˆæˆ–è€…æ˜¯ç‚¹åˆ—è¡¨ï¼š</p><ul><li>list here.</li><li>list here.</li></ul><h2 id="ç‰¹æ®Šçš„ç©æ³•"><a href="#ç‰¹æ®Šçš„ç©æ³•" class="headerlink" title="ç‰¹æ®Šçš„ç©æ³•"></a>ç‰¹æ®Šçš„ç©æ³•</h2><p><em>Markdown</em> ä¸ä»…ä»…æ˜¯æä¾›ä¸€ä¸ªæ–¹ä¾¿å¿«æ·çš„æ–‡æœ¬ç¼–è¾‘æ–¹å¼ï¼Œå®ƒè¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„ä½¿ç”¨æ–¹æ³•æ¥è£…ç‚¹ä½ çš„Markdownæ–‡æœ¬ã€‚</p><ul><li><em><strong>Emoji</strong></em>ï¼šâœ…ã€ğŸ˜¶â€ğŸŒ«ï¸ etc.</li></ul><hr><p>ä»¥ä¸Šå°±æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„Markdownä½¿ç”¨æ ¼å¼ï¼Œå¸Œæœ›è¿™ä¸ªæŒ‡å¼•èƒ½å¤Ÿå¯¹ä½ æœ‰å¸®åŠ©ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
