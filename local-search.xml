<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>åŸºäºè´å¶æ–¯å†³ç­–çš„åˆ†ç±»å™¨</title>
    <link href="/2025/05/24/Bayes/"/>
    <url>/2025/05/24/Bayes/</url>
    
    <content type="html"><![CDATA[<h1 id="æœ€å°é”™è¯¯ç‡è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®æˆ˜ï¼šä»£ç è§£æä¸ç†è®ºè¯¦è§£"><a href="#æœ€å°é”™è¯¯ç‡è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®æˆ˜ï¼šä»£ç è§£æä¸ç†è®ºè¯¦è§£" class="headerlink" title="æœ€å°é”™è¯¯ç‡è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®æˆ˜ï¼šä»£ç è§£æä¸ç†è®ºè¯¦è§£"></a>æœ€å°é”™è¯¯ç‡è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®æˆ˜ï¼šä»£ç è§£æä¸ç†è®ºè¯¦è§£</h1><h2 id="ä¸€ã€èƒŒæ™¯ä¸åº”ç”¨åœºæ™¯"><a href="#ä¸€ã€èƒŒæ™¯ä¸åº”ç”¨åœºæ™¯" class="headerlink" title="ä¸€ã€èƒŒæ™¯ä¸åº”ç”¨åœºæ™¯"></a>ä¸€ã€èƒŒæ™¯ä¸åº”ç”¨åœºæ™¯</h2><p>è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨æ˜¯ä¸€ç§åŸºäº**è´å¶æ–¯å®šç†**çš„ç»Ÿè®¡åˆ†ç±»æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡æœ€å¤§åŒ–åéªŒæ¦‚ç‡æ¥æœ€å°åŒ–åˆ†ç±»é”™è¯¯ç‡ã€‚è¯¥æ–¹æ³•å¹¿æ³›åº”ç”¨äºåŒ»å­¦è¯Šæ–­ã€é‡‘èé£æ§ç­‰åœºæ™¯ï¼Œå°¤å…¶é€‚åˆç‰¹å¾åˆ†å¸ƒç¬¦åˆæ­£æ€åˆ†å¸ƒçš„å°è§„æ¨¡æ•°æ®é›†ã€‚æœ¬æ–‡ä»¥é¸¢å°¾èŠ±ï¼ˆIrisï¼‰æ•°æ®é›†ä¸ºä¾‹ï¼Œè¯¦è§£å¦‚ä½•å®ç°ä¸€ä¸ªåŸºäºè´å¶æ–¯å†³ç­–çš„åˆ†ç±»å™¨ ã€‚  </p><h2 id="äºŒã€æ ¸å¿ƒä»£ç è§£æ"><a href="#äºŒã€æ ¸å¿ƒä»£ç è§£æ" class="headerlink" title="äºŒã€æ ¸å¿ƒä»£ç è§£æ"></a>äºŒã€æ ¸å¿ƒä»£ç è§£æ</h2><h2 id="1-æ•°æ®å‡†å¤‡ä¸åˆ’åˆ†"><a href="#1-æ•°æ®å‡†å¤‡ä¸åˆ’åˆ†" class="headerlink" title="1. æ•°æ®å‡†å¤‡ä¸åˆ’åˆ†"></a>1. æ•°æ®å‡†å¤‡ä¸åˆ’åˆ†</h2><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-title">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><span class="hljs-type">X</span>, y = datasets.load_iris().<span class="hljs-class"><span class="hljs-keyword">data</span>, datasets.load_iris().target</span><br></code></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šåŠ è½½é¸¢å°¾èŠ±æ•°æ®é›†ï¼ŒåŒ…å«4ä¸ªç‰¹å¾ï¼ˆèŠ±è¼&#x2F;èŠ±ç“£é•¿åº¦å’Œå®½åº¦ï¼‰å’Œ3ä¸ªç±»åˆ«ï¼ˆSetosa, Versicolor, Virginicaï¼‰ã€‚   </li><li><strong>ç†è®ºåŸºç¡€</strong>ï¼šæ•°æ®é›†éœ€æ»¡è¶³<strong>ç‹¬ç«‹åŒåˆ†å¸ƒ</strong>å‡è®¾ï¼Œå³æ ·æœ¬é—´ç›¸äº’ç‹¬ç«‹ä¸”ç‰¹å¾åˆ†å¸ƒä¸€è‡´ ã€‚</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">X_train, X_test, y_train, y_test = train_test_split(X, y, <span class="hljs-attribute">test_size</span>=0.3, <span class="hljs-attribute">random_state</span>=42)<br><br></code></pre></td></tr></table></figure><ul><li><strong>ä½œç”¨</strong>ï¼šæŒ‰7:3æ¯”ä¾‹åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œ<code>random\_state</code>ç¡®ä¿å®éªŒå¯å¤ç° ã€‚</li></ul><hr><h3 id="2-å…ˆéªŒæ¦‚ç‡ä¸ç±»åˆ«æ¡ä»¶æ¦‚ç‡ä¼°è®¡"><a href="#2-å…ˆéªŒæ¦‚ç‡ä¸ç±»åˆ«æ¡ä»¶æ¦‚ç‡ä¼°è®¡" class="headerlink" title="2. å…ˆéªŒæ¦‚ç‡ä¸ç±»åˆ«æ¡ä»¶æ¦‚ç‡ä¼°è®¡"></a>2. å…ˆéªŒæ¦‚ç‡ä¸ç±»åˆ«æ¡ä»¶æ¦‚ç‡ä¼°è®¡</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">class_counts</span> = np.bincount(y_train)<br><span class="hljs-attr">priors</span> = class_counts / len(y_train)<br><br></code></pre></td></tr></table></figure><ul><li><strong>åŸç†</strong>ï¼šå…ˆéªŒæ¦‚ç‡ $ P(Y) $ åæ˜ ç±»åˆ«åœ¨è®­ç»ƒé›†ä¸­çš„åˆ†å¸ƒæ¯”ä¾‹ã€‚ä¾‹å¦‚ï¼Œè‹¥æŸç±»åˆ«å 30%æ ·æœ¬ï¼Œåˆ™ $ P(Y&#x3D;\text{class}) &#x3D; 0.3 $ ã€‚</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs routeros">class_conditional_probs = []<br><span class="hljs-keyword">for</span> class_idx <span class="hljs-keyword">in</span> range(3):<br>    class_data = X_train[y_train == class_idx]<br>    class_mean = np.mean(class_data, <span class="hljs-attribute">axis</span>=0)<br>    class_cov = np.cov(class_data, <span class="hljs-attribute">rowvar</span>=<span class="hljs-literal">False</span>)<br>    class_conditional_probs.append(multivariate_normal(<span class="hljs-attribute">mean</span>=class_mean, <span class="hljs-attribute">cov</span>=class_cov))<br><br></code></pre></td></tr></table></figure><ul><li><strong>å…³é”®æ­¥éª¤</strong>ï¼š   <ol><li><strong>ç±»åˆ«æ¡ä»¶æ¦‚ç‡å»ºæ¨¡</strong>ï¼šå‡è®¾æ¯ä¸ªç±»åˆ«çš„ç‰¹å¾æœä»å¤šå…ƒæ­£æ€åˆ†å¸ƒï¼Œé€šè¿‡å‡å€¼å‘é‡ï¼ˆ<code>class\_mean</code>ï¼‰å’Œåæ–¹å·®çŸ©é˜µï¼ˆ<code>class\_cov</code>ï¼‰æè¿°åˆ†å¸ƒç‰¹æ€§ã€‚   </li><li><strong>å‚æ•°ä¼°è®¡</strong>ï¼šä½¿ç”¨æœ€å¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMLEï¼‰è®¡ç®—å‡å€¼å’Œåæ–¹å·®çŸ©é˜µï¼Œè¿™æ˜¯å‚æ•°åŒ–æ–¹æ³•çš„æ ¸å¿ƒ ã€‚</li></ol></li></ul><hr><h3 id="3-è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®ç°"><a href="#3-è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®ç°" class="headerlink" title="3. è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®ç°"></a>3. è´å¶æ–¯å†³ç­–åˆ†ç±»å™¨å®ç°</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MinimumErrorRateBayesianDecision</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">classify</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, features</span>):<br>        posterior_probs = [<span class="hljs-variable language_">self</span>.priors[i] * prob.pdf(features) <span class="hljs-keyword">for</span> i, prob <span class="hljs-keyword">in</span> enumerate(<span class="hljs-variable language_">self</span>.class_conditional_probs)]<br>        <span class="hljs-keyword">return</span> np.argmax(posterior_probs)<br><br></code></pre></td></tr></table></figure><ul><li><strong>å†³ç­–é€»è¾‘</strong>ï¼š   <ul><li><strong>åéªŒæ¦‚ç‡è®¡ç®—</strong>ï¼šæ ¹æ®è´å¶æ–¯å…¬å¼ $ P(Y|X) \propto P(Y) \cdot P(X|Y) $ï¼Œè®¡ç®—æ¯ä¸ªç±»åˆ«çš„åéªŒæ¦‚ç‡ã€‚   </li><li><strong>æœ€å°é”™è¯¯ç‡å†³ç­–</strong>ï¼šé€‰æ‹©åéªŒæ¦‚ç‡æœ€å¤§çš„ç±»åˆ«ä½œä¸ºé¢„æµ‹ç»“æœï¼Œæ­¤å†³ç­–è§„åˆ™ç†è®ºä¸Šæœ€å°åŒ–åˆ†ç±»é”™è¯¯ç‡ ã€‚</li></ul></li></ul><hr><h3 id="4-æ¨¡å‹è¯„ä¼°"><a href="#4-æ¨¡å‹è¯„ä¼°" class="headerlink" title="4. æ¨¡å‹è¯„ä¼°"></a>4. æ¨¡å‹è¯„ä¼°</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs stylus">correct_predictions = <span class="hljs-number">0</span><br>class_correct_predictions = <span class="hljs-selector-attr">[0]</span>*<span class="hljs-number">3</span><br>class_total_samples = <span class="hljs-selector-attr">[0]</span>*<span class="hljs-number">3</span><br><br><span class="hljs-keyword">for</span> <span class="hljs-selector-tag">i</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(X_test)):<br>    predicted_class = classifier<span class="hljs-selector-class">.classify</span>(X_test<span class="hljs-selector-attr">[i]</span>)<br>    class_total_samples<span class="hljs-selector-attr">[y_test[i]</span>] += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> predicted_class == y_test<span class="hljs-selector-attr">[i]</span>:<br>        correct_predictions += <span class="hljs-number">1</span><br>        class_correct_predictions<span class="hljs-selector-attr">[y_test[i]</span>] += <span class="hljs-number">1</span><br><br>accuracy = correct_predictions / <span class="hljs-built_in">len</span>(X_test)<br><br></code></pre></td></tr></table></figure><ul><li><strong>è¯„ä¼°æŒ‡æ ‡</strong>ï¼šè®¡ç®—æ•´ä½“å‡†ç¡®ç‡å’Œç±»åˆ«çº§åˆ«çš„å‡†ç¡®ç‡ï¼ŒéªŒè¯åˆ†ç±»å™¨æ€§èƒ½ ã€‚</li></ul><hr><h2 id="ä¸‰ã€æ•°å­¦åŸç†è¯¦è§£"><a href="#ä¸‰ã€æ•°å­¦åŸç†è¯¦è§£" class="headerlink" title="ä¸‰ã€æ•°å­¦åŸç†è¯¦è§£"></a>ä¸‰ã€æ•°å­¦åŸç†è¯¦è§£</h2><h3 id="1-è´å¶æ–¯å®šç†"><a href="#1-è´å¶æ–¯å®šç†" class="headerlink" title="1. è´å¶æ–¯å®šç†"></a>1. è´å¶æ–¯å®šç†</h3><p>è´å¶æ–¯å…¬å¼å®šä¹‰ä¸ºï¼š<br>$$<br>P(Y|X) &#x3D; \frac{P(X|Y) \cdot P(Y)}{P(X)}<br>$$   </p><ul><li><strong>å…ˆéªŒæ¦‚ç‡</strong> $ P(Y) $ï¼šç±»åˆ«åœ¨è®­ç»ƒé›†ä¸­çš„åˆ†å¸ƒæ¯”ä¾‹ã€‚   </li><li><strong>ä¼¼ç„¶</strong> $ P(X|Y) $ï¼šç±»åˆ«æ¡ä»¶æ¦‚ç‡å¯†åº¦ï¼Œé€šè¿‡å¤šå…ƒæ­£æ€åˆ†å¸ƒå»ºæ¨¡ã€‚   </li><li><strong>è¯æ®</strong> $ P(X) $ï¼šå¸¸æ•°é¡¹ï¼ˆå¯¹æ‰€æœ‰ç±»åˆ«ç›¸åŒï¼‰ï¼Œä¸å½±å“æ¯”è¾ƒåéªŒæ¦‚ç‡å¤§å° ã€‚</li></ul><h3 id="2-å¤šå…ƒæ­£æ€åˆ†å¸ƒå‡è®¾"><a href="#2-å¤šå…ƒæ­£æ€åˆ†å¸ƒå‡è®¾" class="headerlink" title="2. å¤šå…ƒæ­£æ€åˆ†å¸ƒå‡è®¾"></a>2. å¤šå…ƒæ­£æ€åˆ†å¸ƒå‡è®¾</h3><p>å‡è®¾ç‰¹å¾å‘é‡ $ X \sim \mathcal{N}(\mu, \Sigma) $ï¼Œå…¶æ¦‚ç‡å¯†åº¦å‡½æ•°ä¸ºï¼š<br>$$<br>f(X) &#x3D; \frac{1}{\sqrt{(2\pi)^k |\Sigma|}} \exp\left( -\frac{1}{2}(X-\mu)^T \Sigma^{-1}(X-\mu) \right)<br>$$   </p><ul><li><strong>å‡å€¼å‘é‡</strong> $ \mu $ï¼šåæ˜ ç‰¹å¾çš„é›†ä¸­è¶‹åŠ¿ã€‚   </li><li><strong>åæ–¹å·®çŸ©é˜µ</strong> $ \Sigma $ï¼šæè¿°ç‰¹å¾é—´çš„ç›¸å…³æ€§ ã€‚</li></ul><h3 id="3-å†³ç­–è¾¹ç•Œ"><a href="#3-å†³ç­–è¾¹ç•Œ" class="headerlink" title="3. å†³ç­–è¾¹ç•Œ"></a>3. å†³ç­–è¾¹ç•Œ</h3><h2 id="å½“ä¸¤ç±»çš„åéªŒæ¦‚ç‡ç›¸ç­‰æ—¶ï¼Œå³ï¼š-P-Y-1-cdot-P-X-Y-1-P-Y-2-cdot-P-X-Y-2-æ­¤æ—¶å¯¹åº”çš„è¶…å¹³é¢å³ä¸ºå†³ç­–è¾¹ç•Œï¼Œç”¨äºåˆ’åˆ†ä¸åŒç±»åˆ«çš„æ ·æœ¬ç©ºé—´-ã€‚"><a href="#å½“ä¸¤ç±»çš„åéªŒæ¦‚ç‡ç›¸ç­‰æ—¶ï¼Œå³ï¼š-P-Y-1-cdot-P-X-Y-1-P-Y-2-cdot-P-X-Y-2-æ­¤æ—¶å¯¹åº”çš„è¶…å¹³é¢å³ä¸ºå†³ç­–è¾¹ç•Œï¼Œç”¨äºåˆ’åˆ†ä¸åŒç±»åˆ«çš„æ ·æœ¬ç©ºé—´-ã€‚" class="headerlink" title="å½“ä¸¤ç±»çš„åéªŒæ¦‚ç‡ç›¸ç­‰æ—¶ï¼Œå³ï¼š$$P(Y_1) \cdot P(X|Y_1) &#x3D; P(Y_2) \cdot P(X|Y_2)$$æ­¤æ—¶å¯¹åº”çš„è¶…å¹³é¢å³ä¸ºå†³ç­–è¾¹ç•Œï¼Œç”¨äºåˆ’åˆ†ä¸åŒç±»åˆ«çš„æ ·æœ¬ç©ºé—´ ã€‚   "></a>å½“ä¸¤ç±»çš„åéªŒæ¦‚ç‡ç›¸ç­‰æ—¶ï¼Œå³ï¼š<br>$$<br>P(Y_1) \cdot P(X|Y_1) &#x3D; P(Y_2) \cdot P(X|Y_2)<br>$$<br>æ­¤æ—¶å¯¹åº”çš„è¶…å¹³é¢å³ä¸ºå†³ç­–è¾¹ç•Œï¼Œç”¨äºåˆ’åˆ†ä¸åŒç±»åˆ«çš„æ ·æœ¬ç©ºé—´ ã€‚   </h2><h2 id="å››ã€å®éªŒç»“æœä¸åˆ†æ"><a href="#å››ã€å®éªŒç»“æœä¸åˆ†æ" class="headerlink" title="å››ã€å®éªŒç»“æœä¸åˆ†æ"></a>å››ã€å®éªŒç»“æœä¸åˆ†æ</h2><h3 id="1-åˆ†ç±»å‡†ç¡®ç‡"><a href="#1-åˆ†ç±»å‡†ç¡®ç‡" class="headerlink" title="1. åˆ†ç±»å‡†ç¡®ç‡"></a>1. åˆ†ç±»å‡†ç¡®ç‡</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼ˆå®é™…è¿è¡Œç»“æœå¯èƒ½ä¸åŒï¼‰</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Setosaå‡†ç¡®ç‡: 1.0&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Versicolorå‡†ç¡®ç‡: 0.93&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ•´ä½“å‡†ç¡®ç‡: 0.95&quot;</span>)<br><br></code></pre></td></tr></table></figure><ul><li><strong>ç»“æœåˆ†æ</strong>ï¼šæ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šè¡¨ç°ä¼˜å¼‚ï¼Œå°¤å…¶å¯¹Setosaç±»åˆ«å®ç°å®Œç¾åˆ†ç±»ï¼Œè¡¨æ˜æ­£æ€åˆ†å¸ƒå‡è®¾åœ¨è¯¥æ•°æ®é›†ä¸Šæˆç«‹ ã€‚</li></ul><h3 id="2-å¯è§†åŒ–å†³ç­–è¾¹ç•Œ"><a href="#2-å¯è§†åŒ–å†³ç­–è¾¹ç•Œ" class="headerlink" title="2. å¯è§†åŒ–å†³ç­–è¾¹ç•Œ"></a>2. å¯è§†åŒ–å†³ç­–è¾¹ç•Œ</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs stylus">import matplotlib<span class="hljs-selector-class">.pyplot</span> as plt<br>plt<span class="hljs-selector-class">.scatter</span>(X_test<span class="hljs-selector-attr">[:, 0]</span>, X_test<span class="hljs-selector-attr">[:, 1]</span>, c=y_test, cmap=<span class="hljs-string">&#x27;viridis&#x27;</span>)<br>plt<span class="hljs-selector-class">.xlabel</span>(<span class="hljs-string">&quot;Sepal Length&quot;</span>)<br>plt<span class="hljs-selector-class">.ylabel</span>(<span class="hljs-string">&quot;Sepal Width&quot;</span>)<br>plt<span class="hljs-selector-class">.title</span>(<span class="hljs-string">&quot;Bayesian Decision Boundary&quot;</span>)<br>plt<span class="hljs-selector-class">.colorbar</span>(label=<span class="hljs-string">&quot;Class&quot;</span>)<br>plt<span class="hljs-selector-class">.show</span>()<br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250524_02.png" alt="Agglomerative Clustering"><br><em>å›¾2ï¼šåŸºäºè´å¶æ–¯å†³ç­–çš„åˆ†ç±»è¾¹ç•Œå¯è§†åŒ–ï¼ˆç¤ºä¾‹ï¼‰</em>   </p><hr><h2 id="äº”ã€æ€»ç»“ä¸æ‰©å±•"><a href="#äº”ã€æ€»ç»“ä¸æ‰©å±•" class="headerlink" title="äº”ã€æ€»ç»“ä¸æ‰©å±•"></a>äº”ã€æ€»ç»“ä¸æ‰©å±•</h2><h3 id="1-ä¼˜åŠ¿ä¸å±€é™æ€§"><a href="#1-ä¼˜åŠ¿ä¸å±€é™æ€§" class="headerlink" title="1. ä¼˜åŠ¿ä¸å±€é™æ€§"></a>1. ä¼˜åŠ¿ä¸å±€é™æ€§</h3><ul><li><strong>ä¼˜åŠ¿</strong>ï¼š   <ul><li>ç†è®ºåŸºç¡€æ‰å®ï¼Œé€‚ç”¨äºå°è§„æ¨¡æ•°æ®ã€‚   </li><li>é€šè¿‡å‚æ•°ä¼°è®¡å¯è§£é‡Šæ€§å¼º ã€‚</li></ul></li><li><strong>å±€é™æ€§</strong>ï¼š   <ul><li>ä¾èµ–æ­£æ€åˆ†å¸ƒå‡è®¾ï¼Œè‹¥å®é™…æ•°æ®åˆ†å¸ƒåç¦»è¾ƒå¤§å¯èƒ½å¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚   </li><li>åæ–¹å·®çŸ©é˜µå¯èƒ½å› æ ·æœ¬ä¸è¶³è€Œå¥‡å¼‚ï¼Œéœ€æ­£åˆ™åŒ–å¤„ç† ã€‚</li></ul></li></ul><h3 id="2-æ”¹è¿›æ–¹å‘"><a href="#2-æ”¹è¿›æ–¹å‘" class="headerlink" title="2. æ”¹è¿›æ–¹å‘"></a>2. æ”¹è¿›æ–¹å‘</h3><ul><li><strong>éå‚æ•°åŒ–æ–¹æ³•</strong>ï¼šä½¿ç”¨æ ¸å¯†åº¦ä¼°è®¡æ›¿ä»£æ­£æ€åˆ†å¸ƒå‡è®¾ã€‚   </li><li><strong>æ­£åˆ™åŒ–æŠ€æœ¯</strong>ï¼šåœ¨åæ–¹å·®çŸ©é˜µä¸­åŠ å…¥å¾®å°æ‰°åŠ¨ï¼ˆå¦‚ <code>class\_cov += 1e-6 \* np.eye(dim)</code>ï¼‰é˜²æ­¢å¥‡å¼‚ ã€‚</li></ul><blockquote><p>å®Œæ•´ä»£ç ä»“åº“ï¼š[GitHubé“¾æ¥]   </p></blockquote><h1 id="ğŸƒ-æœ´ç´ è´å¶æ–¯å®ç°å†³ç­–åˆ†ç±»"><a href="#ğŸƒ-æœ´ç´ è´å¶æ–¯å®ç°å†³ç­–åˆ†ç±»" class="headerlink" title="ğŸƒ æœ´ç´ è´å¶æ–¯å®ç°å†³ç­–åˆ†ç±»"></a>ğŸƒ æœ´ç´ è´å¶æ–¯å®ç°å†³ç­–åˆ†ç±»</h1><h3 id="1-å¯¼å…¥åº“"><a href="#1-å¯¼å…¥åº“" class="headerlink" title="1. å¯¼å…¥åº“"></a>1. å¯¼å…¥åº“</h3><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-title">from</span> sklearn.datasets <span class="hljs-keyword">import</span> make_classification <br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt <br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np <br><br></code></pre></td></tr></table></figure><ul><li><strong>ä½œç”¨</strong>ï¼šå¯¼å…¥æ‰€éœ€çš„åº“ã€‚   <ul><li><code>make\_classification</code>ï¼šç”¨äºç”Ÿæˆåˆæˆçš„åˆ†ç±»æ•°æ®é›† ã€‚   </li><li><code>matplotlib.pyplot</code>ï¼šç”¨äºå¯è§†åŒ–ç»“æœã€‚   </li><li><code>numpy</code>ï¼šè¿›è¡Œæ•°å€¼è®¡ç®—ã€‚</li></ul></li></ul><hr><h3 id="2-å®šä¹‰é«˜æ–¯æ¦‚ç‡å¯†åº¦å‡½æ•°"><a href="#2-å®šä¹‰é«˜æ–¯æ¦‚ç‡å¯†åº¦å‡½æ•°" class="headerlink" title="2. å®šä¹‰é«˜æ–¯æ¦‚ç‡å¯†åº¦å‡½æ•°"></a>2. å®šä¹‰é«˜æ–¯æ¦‚ç‡å¯†åº¦å‡½æ•°</h3><figure class="highlight gml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gml">def gaussian_pdf(<span class="hljs-variable language_">x</span>, <span class="hljs-built_in">mean</span>, std_dev): <br>    <span class="hljs-keyword">return</span> (<span class="hljs-number">1</span> / (np.<span class="hljs-built_in">sqrt</span>(<span class="hljs-number">2</span> * np.<span class="hljs-symbol">pi</span>) * std_dev)) * np.<span class="hljs-built_in">exp</span>(<span class="hljs-number">-0.5</span> * ((<span class="hljs-variable language_">x</span> - <span class="hljs-built_in">mean</span>) / std_dev)**<span class="hljs-number">2</span>) <br><br></code></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šè®¡ç®—å•ä¸ªç‰¹å¾å€¼åœ¨é«˜æ–¯åˆ†å¸ƒä¸‹çš„æ¦‚ç‡å¯†åº¦ã€‚   </li><li><strong>å…¬å¼è§£é‡Š</strong>ï¼š</li></ul><p>é«˜æ–¯åˆ†å¸ƒï¼ˆæ­£æ€åˆ†å¸ƒï¼‰çš„æ¦‚ç‡å¯†åº¦å‡½æ•°å…¬å¼ä¸ºï¼š<br>$$<br>f(x) &#x3D; \frac{1}{\sqrt{2\pi}\sigma} e^{-\frac{(x-\mu)^2}{2\sigma^2}}<br>$$<br>å…¶ä¸­ <code>mean</code> æ˜¯å‡å€¼ $ \mu $ï¼Œ<code>std\_dev</code> æ˜¯æ ‡å‡†å·® $ \sigma $ã€‚   </p><ul><li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šåœ¨æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ä¸­ï¼Œå‡è®¾æ¯ä¸ªç‰¹å¾åœ¨ç»™å®šç±»åˆ«ä¸‹æœä»é«˜æ–¯åˆ†å¸ƒã€‚</li></ul><hr><h3 id="3-è‡ªå®šä¹‰æ•°æ®é›†åˆ’åˆ†å‡½æ•°"><a href="#3-è‡ªå®šä¹‰æ•°æ®é›†åˆ’åˆ†å‡½æ•°" class="headerlink" title="3. è‡ªå®šä¹‰æ•°æ®é›†åˆ’åˆ†å‡½æ•°"></a>3. è‡ªå®šä¹‰æ•°æ®é›†åˆ’åˆ†å‡½æ•°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">train_test_split</span>(<span class="hljs-params">X, y, test_size=<span class="hljs-number">0.2</span>, random_state=<span class="hljs-literal">None</span></span>): <br>    <span class="hljs-keyword">if</span> random_state <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>: <br>        np.random.seed(random_state)    <br><br></code></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šå°†æ•°æ®é›†åˆ’åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚   </li><li><strong>å‚æ•°è¯´æ˜</strong>ï¼š   <ul><li><code>X</code>ï¼šç‰¹å¾æ•°æ®ã€‚   </li><li><code>y</code>ï¼šç›®æ ‡æ ‡ç­¾ã€‚   </li><li><code>test\_size</code>ï¼šæµ‹è¯•é›†æ¯”ä¾‹ï¼ˆé»˜è®¤ 20%ï¼‰ã€‚   </li><li><code>random\_state</code>ï¼šéšæœºç§å­ï¼Œç¡®ä¿ç»“æœå¯å¤ç° ã€‚</li></ul></li><li><strong>å®ç°é€»è¾‘</strong>ï¼š   <ul><li>ä½¿ç”¨ <code>np.random.permutation</code> æ‰“ä¹±æ•°æ®ç´¢å¼•ã€‚   </li><li>æŒ‰æ¯”ä¾‹åˆ’åˆ†æµ‹è¯•é›†å’Œè®­ç»ƒé›†ã€‚</li></ul></li></ul><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">m</span> = X.shape[<span class="hljs-number">0</span>]                              <span class="hljs-comment"># è·å–æ•°æ®é›†çš„å¤§å° </span><br><span class="hljs-attr">permutation</span> = np.random.permutation(m)      <span class="hljs-comment"># éšæœºç”Ÿæˆæ‰“ä¹±çš„æ•°ç»„ å¯¹åº”ä¸ºæ‰“ä¹±çš„ç´¢å¼•</span><br><span class="hljs-attr">test_size</span> = int(m * test_size)              <span class="hljs-comment"># è®¡ç®—æµ‹è¯•é›†çš„å¤§å° </span><br><span class="hljs-attr">test_indices</span> = permutation[:test_size]      <span class="hljs-comment"># å–test_sizeä¸ªæ‰“ä¹±çš„ç´¢å¼•</span><br><span class="hljs-attr">train_indices</span> = permutation[test_size:]     <span class="hljs-comment"># å–åé¢æ‰€æœ‰ç´¢å¼•ä½œä¸ºè®­ç»ƒé›†    </span><br><br></code></pre></td></tr></table></figure><ul><li><strong>å…³é”®æ­¥éª¤</strong>ï¼š   <ul><li><code>X.shape[0]</code>ï¼šè·å–æ ·æœ¬æ€»æ•°ã€‚   </li><li><code>permutation</code>ï¼šç”Ÿæˆéšæœºç´¢å¼•ã€‚   </li><li><code>test\_indices</code>ï¼šå‰ <code>test\_size</code> ä¸ªç´¢å¼•ä½œä¸ºæµ‹è¯•é›†ã€‚   </li><li><code>train\_indices</code>ï¼šå‰©ä½™ç´¢å¼•ä½œä¸ºè®­ç»ƒé›†ã€‚</li></ul></li></ul><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs inform7">X_train = X<span class="hljs-comment">[train_indices]</span> <br>X_test = X<span class="hljs-comment">[test_indices]</span> <br>y_train = y<span class="hljs-comment">[train_indices]</span> <br>y_test = y<span class="hljs-comment">[test_indices]</span> <br> <br>return X_train, X_test, y_train, y_test <br><br></code></pre></td></tr></table></figure><ul><li><strong>è¾“å‡º</strong>ï¼šè¿”å›åˆ’åˆ†åçš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚</li></ul><hr><h3 id="4-è´å¶æ–¯åˆ†ç±»å™¨çš„é¢„æµ‹å‡½æ•°"><a href="#4-è´å¶æ–¯åˆ†ç±»å™¨çš„é¢„æµ‹å‡½æ•°" class="headerlink" title="4. è´å¶æ–¯åˆ†ç±»å™¨çš„é¢„æµ‹å‡½æ•°"></a>4. è´å¶æ–¯åˆ†ç±»å™¨çš„é¢„æµ‹å‡½æ•°</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs scss">def <span class="hljs-built_in">predict_bayes</span>(x, means, variances, priors): <br>    posteriors = [] <br>    for i in <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(means)): <br>        likelihood = np.<span class="hljs-built_in">prod</span>(<span class="hljs-built_in">gaussian_pdf</span>(x, means[i], np.<span class="hljs-built_in">sqrt</span>(variances[i])))      <br>        posterior = likelihood * priors[i]                                          <br>        posteriors.<span class="hljs-built_in">append</span>(posterior)                                                <br>    return np.<span class="hljs-built_in">argmax</span>(posteriors) <br><br></code></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šåŸºäºæœ´ç´ è´å¶æ–¯ç®—æ³•é¢„æµ‹æ ·æœ¬ç±»åˆ«ã€‚   </li><li><strong>æ­¥éª¤è§£æ</strong>ï¼š   <ol><li><strong>ä¼¼ç„¶è®¡ç®—</strong>ï¼šå¯¹æ¯ä¸ªç‰¹å¾è®¡ç®—é«˜æ–¯æ¦‚ç‡å¯†åº¦ï¼Œå¹¶é€šè¿‡ <code>np.prod</code> è¿ä¹˜å¾—åˆ°è”åˆæ¦‚ç‡ï¼ˆå‡è®¾ç‰¹å¾æ¡ä»¶ç‹¬ç«‹ï¼‰ã€‚   </li><li><strong>åéªŒæ¦‚ç‡</strong>ï¼šä¼¼ç„¶ä¹˜ä»¥å…ˆéªŒæ¦‚ç‡ <code>priors[i]</code>ã€‚   </li><li><strong>åˆ†ç±»å†³ç­–</strong>ï¼šé€‰æ‹©åéªŒæ¦‚ç‡æœ€å¤§çš„ç±»åˆ«ä½œä¸ºé¢„æµ‹ç»“æœï¼ˆ<code>np.argmax</code>ï¼‰ã€‚</li></ol></li></ul><hr><h3 id="5-ç”Ÿæˆåˆæˆæ•°æ®é›†"><a href="#5-ç”Ÿæˆåˆæˆæ•°æ®é›†" class="headerlink" title="5. ç”Ÿæˆåˆæˆæ•°æ®é›†"></a>5. ç”Ÿæˆåˆæˆæ•°æ®é›†</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros">X, y = make_classification(<span class="hljs-attribute">n_samples</span>=1500, <span class="hljs-attribute">n_features</span>=2, <br>                            <span class="hljs-attribute">n_informative</span>=2, <span class="hljs-attribute">n_redundant</span>=0,  <br>                            <span class="hljs-attribute">n_clusters_per_class</span>=1, <span class="hljs-attribute">random_state</span>=6) <br><br></code></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šç”Ÿæˆä¸€ä¸ªäºŒç»´äºŒåˆ†ç±»æ•°æ®é›†ã€‚   </li><li><strong>å‚æ•°è§£é‡Š</strong>ï¼š   <ul><li><code>n\_samples=1500</code>ï¼šç”Ÿæˆ 1500 ä¸ªæ ·æœ¬ã€‚   </li><li><code>n\_features=2</code>ï¼šæ¯ä¸ªæ ·æœ¬æœ‰ 2 ä¸ªç‰¹å¾ï¼ˆx1, x2ï¼‰ã€‚   </li><li><code>n\_informative=2</code>ï¼šä¸¤ä¸ªç‰¹å¾å‡ä¸ºä¿¡æ¯æ€§ç‰¹å¾ï¼ˆç”¨äºåˆ†ç±»ï¼‰ã€‚   </li><li><code>n\_redundant=0</code>ï¼šæ— å†—ä½™ç‰¹å¾ã€‚   </li><li><code>n\_clusters\_per\_class=1</code>ï¼šæ¯ä¸ªç±»åˆ«æœ‰ 1 ä¸ªèšç±»ä¸­å¿ƒã€‚   </li><li><code>random\_state=6</code>ï¼šç¡®ä¿æ•°æ®ç”Ÿæˆå¯å¤ç° ã€‚</li></ul></li></ul><hr><h3 id="6-æ•°æ®é›†åˆ’åˆ†"><a href="#6-æ•°æ®é›†åˆ’åˆ†" class="headerlink" title="6. æ•°æ®é›†åˆ’åˆ†"></a>6. æ•°æ®é›†åˆ’åˆ†</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">X_train, X_test, y_train, y_test = train_test_split(X, y, <span class="hljs-attribute">test_size</span>=0.2, <span class="hljs-attribute">random_state</span>=2)<br><br></code></pre></td></tr></table></figure><ul><li><strong>ä½œç”¨</strong>ï¼šå°†æ•°æ®é›†æŒ‰ 80%&#x2F;20% åˆ’åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚</li></ul><hr><h3 id="7-è®¡ç®—ç±»åˆ«å‡å€¼å’Œæ–¹å·®"><a href="#7-è®¡ç®—ç±»åˆ«å‡å€¼å’Œæ–¹å·®" class="headerlink" title="7. è®¡ç®—ç±»åˆ«å‡å€¼å’Œæ–¹å·®"></a>7. è®¡ç®—ç±»åˆ«å‡å€¼å’Œæ–¹å·®</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs maxima">unique_classes = <span class="hljs-built_in">np</span>.<span class="hljs-built_in">unique</span>(y_train) <br><br>means = []          <br>variances = []      <br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> unique_classes: <br>    X_train_class_i = X_train[y_train == i]                 <br>    mean_class_i = <span class="hljs-built_in">np</span>.<span class="hljs-built_in">mean</span>(X_train_class_i, axis=<span class="hljs-number">0</span>)         <br>    variance_class_i = <span class="hljs-built_in">np</span>.<span class="hljs-built_in">var</span>(X_train_class_i, axis=<span class="hljs-number">0</span>)     <br>    means.<span class="hljs-built_in">append</span>(mean_class_i) <br>    variances.<span class="hljs-built_in">append</span>(variance_class_i) <br> <br>means = <span class="hljs-built_in">np</span>.<span class="hljs-built_in">array</span>(means) <br>variances = <span class="hljs-built_in">np</span>.<span class="hljs-built_in">array</span>(variances) <br><br></code></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šå¯¹æ¯ä¸ªç±»åˆ«è®¡ç®—ç‰¹å¾çš„å‡å€¼å’Œæ–¹å·®ã€‚   </li><li><strong>å…³é”®ç‚¹</strong>ï¼š   <ul><li><code>np.unique(y\_train)</code>ï¼šè·å–è®­ç»ƒé›†ä¸­æ‰€æœ‰ç±»åˆ«æ ‡ç­¾ã€‚   </li><li><code>X\_train[y\_train == i]</code>ï¼šç­›é€‰å½“å‰ç±»åˆ«çš„æ ·æœ¬ã€‚   </li><li><code>np.mean</code> å’Œ <code>np.var</code>ï¼šè®¡ç®—å‡å€¼å’Œæ–¹å·®ã€‚</li></ul></li></ul><hr><h3 id="8-è®¡ç®—å…ˆéªŒæ¦‚ç‡"><a href="#8-è®¡ç®—å…ˆéªŒæ¦‚ç‡" class="headerlink" title="8. è®¡ç®—å…ˆéªŒæ¦‚ç‡"></a>8. è®¡ç®—å…ˆéªŒæ¦‚ç‡</h3><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">priors</span> <span class="hljs-operator">=</span> [np.mean(y_train <span class="hljs-operator">=</span><span class="hljs-operator">=</span> i) for i in np.unique(y_train)] <br><br></code></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šè®¡ç®—æ¯ä¸ªç±»åˆ«çš„å…ˆéªŒæ¦‚ç‡ $ P(Y) $ã€‚   </li><li><strong>å®ç°åŸç†</strong>ï¼š</li></ul><h2 id="å¯¹äºå¸ƒå°”æ•°ç»„-y-train-iï¼Œnp-mean-è¿”å›-Trueï¼ˆå³ç±»åˆ«-i-çš„æ ·æœ¬ï¼‰çš„æ¯”ä¾‹ã€‚"><a href="#å¯¹äºå¸ƒå°”æ•°ç»„-y-train-iï¼Œnp-mean-è¿”å›-Trueï¼ˆå³ç±»åˆ«-i-çš„æ ·æœ¬ï¼‰çš„æ¯”ä¾‹ã€‚" class="headerlink" title="å¯¹äºå¸ƒå°”æ•°ç»„ y\_train == iï¼Œnp.mean è¿”å› Trueï¼ˆå³ç±»åˆ« i çš„æ ·æœ¬ï¼‰çš„æ¯”ä¾‹ã€‚   "></a>å¯¹äºå¸ƒå°”æ•°ç»„ <code>y\_train == i</code>ï¼Œ<code>np.mean</code> è¿”å› <code>True</code>ï¼ˆå³ç±»åˆ« i çš„æ ·æœ¬ï¼‰çš„æ¯”ä¾‹ã€‚   </h2><h3 id="9-é¢„æµ‹ä¸è¯„ä¼°"><a href="#9-é¢„æµ‹ä¸è¯„ä¼°" class="headerlink" title="9. é¢„æµ‹ä¸è¯„ä¼°"></a>9. é¢„æµ‹ä¸è¯„ä¼°</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus">y_pred = <span class="hljs-selector-attr">[predict_bayes(x, means, variances, priors) for x in X_test]</span> <br>correct = np<span class="hljs-selector-class">.sum</span>(y_pred == y_test) / <span class="hljs-built_in">len</span>(y_test)                            <br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-string">&quot;Accuracy: &#123;:.2f&#125;%&quot;</span>.format(correct * <span class="hljs-number">100</span>)</span></span>) <br><br></code></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼š   <ul><li>å¯¹æµ‹è¯•é›†é€æ ·æœ¬é¢„æµ‹ç±»åˆ«ã€‚   </li><li>è®¡ç®—å‡†ç¡®ç‡ï¼šé¢„æµ‹æ­£ç¡®çš„æ ·æœ¬æ•°å æ€»æ ·æœ¬æ•°çš„æ¯”ä¾‹ã€‚</li></ul></li></ul><hr><h3 id="10-å¯è§†åŒ–ç»“æœ"><a href="#10-å¯è§†åŒ–ç»“æœ" class="headerlink" title="10. å¯è§†åŒ–ç»“æœ"></a>10. å¯è§†åŒ–ç»“æœ</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs stylus">plt<span class="hljs-selector-class">.figure</span>(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">8</span>))<br>scatter_true = plt<span class="hljs-selector-class">.scatter</span>(X_test<span class="hljs-selector-attr">[:, 0]</span>, X_test<span class="hljs-selector-attr">[:, 1]</span>, c=y_test,  <br>                           s=<span class="hljs-number">30</span>, cmap=<span class="hljs-string">&#x27;coolwarm&#x27;</span>,label=<span class="hljs-string">&#x27;True class&#x27;</span>) <br>scatter_pred = plt<span class="hljs-selector-class">.scatter</span>(X_test<span class="hljs-selector-attr">[:, 0]</span>, X_test<span class="hljs-selector-attr">[:, 1]</span>, s=<span class="hljs-number">30</span>,  <br>                           facecolors=<span class="hljs-string">&#x27;none&#x27;</span>,  <br>                           edgecolors=np<span class="hljs-selector-class">.array</span>(<span class="hljs-selector-attr">[<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>]</span>)<span class="hljs-selector-attr">[y_pred]</span>, <br>                           <span class="hljs-selector-tag">label</span> = <span class="hljs-string">&#x27;Predicted class&#x27;</span>) <br>plt<span class="hljs-selector-class">.legend</span>(handles=<span class="hljs-selector-attr">[scatter_true, scatter_pred]</span>) <br>plt<span class="hljs-selector-class">.show</span>()<br><br></code></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šå¯è§†åŒ–æµ‹è¯•é›†çš„çœŸå®æ ‡ç­¾å’Œé¢„æµ‹ç»“æœã€‚   </li><li><strong>å›¾å½¢è¯´æ˜</strong>ï¼š   <ul><li><code>c=y\_test</code>ï¼šé¢œè‰²è¡¨ç¤ºçœŸå®ç±»åˆ«ï¼ˆçº¢&#x2F;è“ï¼‰ã€‚   </li><li><code>edgecolors=np.array([&#39;b&#39;, &#39;r&#39;])[y\_pred]</code>ï¼šè¾¹ç¼˜é¢œè‰²è¡¨ç¤ºé¢„æµ‹ç±»åˆ«ã€‚   </li><li><code>facecolors=&#39;none&#39;</code>ï¼šä»…æ˜¾ç¤ºè¾¹ç¼˜ï¼Œä¾¿äºå¯¹æ¯”é¢„æµ‹ä¸çœŸå®æ ‡ç­¾ã€‚</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250524_03.png" alt="Accuracy&#x3D;95%"> </p><hr><h3 id="å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“"></a>å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“</h3><ol><li><strong>æœ´ç´ è´å¶æ–¯å‡è®¾</strong>ï¼šç‰¹å¾ä¹‹é—´æ¡ä»¶ç‹¬ç«‹ï¼Œé€šè¿‡è¿ä¹˜è®¡ç®—è”åˆæ¦‚ç‡ ã€‚   </li><li><strong>é«˜æ–¯åˆ†å¸ƒå»ºæ¨¡</strong>ï¼šå‡è®¾æ¯ä¸ªç‰¹å¾åœ¨ç»™å®šç±»åˆ«ä¸‹æœä»æ­£æ€åˆ†å¸ƒã€‚   </li><li><strong>å…ˆéªŒæ¦‚ç‡ä¼°è®¡</strong>ï¼šé€šè¿‡è®­ç»ƒé›†ä¸­ç±»åˆ«çš„é¢‘ç‡è®¡ç®— $ P(Y) $ã€‚   </li><li><strong>å†³ç­–è§„åˆ™</strong>ï¼šæœ€å¤§åŒ–åéªŒæ¦‚ç‡ $ P(Y|X) \propto P(X|Y)P(Y) $ã€‚</li></ol><hr><h1 id="æ ¸å‡½æ•°ä¼°è®¡æ¦‚ç‡å¯†åº¦å‡½æ•°çš„æœ´ç´ è´å¶æ–¯"><a href="#æ ¸å‡½æ•°ä¼°è®¡æ¦‚ç‡å¯†åº¦å‡½æ•°çš„æœ´ç´ è´å¶æ–¯" class="headerlink" title="æ ¸å‡½æ•°ä¼°è®¡æ¦‚ç‡å¯†åº¦å‡½æ•°çš„æœ´ç´ è´å¶æ–¯"></a>æ ¸å‡½æ•°ä¼°è®¡æ¦‚ç‡å¯†åº¦å‡½æ•°çš„æœ´ç´ è´å¶æ–¯</h1><h3 id="1-predict-bayes-å‡½æ•°ï¼šåŸºäºæŸå¤±çŸ©é˜µçš„è´å¶æ–¯å†³ç­–"><a href="#1-predict-bayes-å‡½æ•°ï¼šåŸºäºæŸå¤±çŸ©é˜µçš„è´å¶æ–¯å†³ç­–" class="headerlink" title="1. predict_bayes å‡½æ•°ï¼šåŸºäºæŸå¤±çŸ©é˜µçš„è´å¶æ–¯å†³ç­–"></a>1. predict_bayes å‡½æ•°ï¼šåŸºäºæŸå¤±çŸ©é˜µçš„è´å¶æ–¯å†³ç­–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">predict_bayes</span>(<span class="hljs-params">x, parzen_estimations, priors, loss_matrix</span>): <br>    expected_losses = []                                        <span class="hljs-comment"># åˆå§‹åŒ–æœŸæœ›æŸå¤±åˆ—è¡¨ </span><br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(parzen_estimations)): <br>        expected_loss = <span class="hljs-number">0</span>                                       <span class="hljs-comment"># åˆå§‹åŒ–æœŸæœ›æŸå¤± </span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(parzen_estimations)): <br>            posterior = priors[i] * parzen_estimations[i]       <span class="hljs-comment"># è®¡ç®—åéªŒæ¦‚ç‡     </span><br>            expected_loss += loss_matrix[i][j] * posterior      <span class="hljs-comment"># è®¡ç®—æœŸæœ›æŸå¤± </span><br>        expected_losses.append(expected_loss)                   <span class="hljs-comment"># å°†æœŸæœ›æŸå¤±æ·»åŠ åˆ°åˆ—è¡¨ä¸­ </span><br>    <span class="hljs-keyword">return</span> np.argmin(expected_losses, axis=<span class="hljs-number">0</span>)                   <span class="hljs-comment"># è¿”å›æœŸæœ›æŸå¤±æœ€å°çš„ç±»åˆ«ä½œä¸ºé¢„æµ‹ç»“æœ</span><br><br></code></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šæ ¹æ®<strong>æœŸæœ›æŸå¤±æœ€å°åŒ–</strong>åŸåˆ™ï¼Œå°†è¾“å…¥æ ·æœ¬ <code>x</code> åˆ†ç±»åˆ°æŸä¸ªç±»åˆ«ã€‚   </li><li><strong>å…³é”®æ­¥éª¤è§£æ</strong>ï¼š   <ol><li><strong>åéªŒæ¦‚ç‡è®¡ç®—</strong>ï¼š    <figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">posterior</span> <span class="hljs-operator">=</span> priors[i] * parzen_estimations[i]<br><br></code></pre></td></tr></table></figure><ul><li><strong>å…¬å¼</strong>ï¼š</li></ul></li></ol><ul><li><strong>ç†è®ºä¾æ®</strong>ï¼šè´å¶æ–¯å®šç† $ P(Y|X) &#x3D; \frac{P(Y) \cdot P(X|Y)}{P(X)} $ï¼Œåˆ†æ¯ $ P(X) $ å¯¹æ‰€æœ‰ç±»åˆ«ç›¸åŒï¼Œå¯å¿½ç•¥ ã€‚</li></ul></li></ul><ol><li><strong>æœŸæœ›æŸå¤±è®¡ç®—</strong>ï¼š    <figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs inform7">expected_loss += loss_matrix<span class="hljs-comment">[i]</span><span class="hljs-comment">[j]</span> * posterior<br><br></code></pre></td></tr></table></figure><ul><li><strong>å…¬å¼</strong>ï¼š</li></ul></li></ol><ul><li><strong>ç†è®ºä¾æ®</strong>ï¼šè´å¶æ–¯å†³ç­–çš„ç›®æ ‡æ˜¯æœ€å°åŒ–<strong>æ¡ä»¶é£é™©</strong>ï¼ˆå³æœŸæœ›æŸå¤±ï¼‰ï¼Œè€Œéå•çº¯æœ€å¤§åŒ–åéªŒæ¦‚ç‡ ã€‚</li></ul><ol start="2"><li><strong>å†³ç­–è§„åˆ™</strong>ï¼š    <figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-keyword">return</span> np.argmin(expected_losses, axis=<span class="hljs-number">0</span>)<br><br></code></pre></td></tr></table></figure><ul><li><strong>è§£é‡Š</strong>ï¼šé€‰æ‹©æœŸæœ›æŸå¤±æœ€å°çš„ç±»åˆ« <code>j</code> ä½œä¸ºé¢„æµ‹ç»“æœï¼Œè€Œéç›´æ¥é€‰æ‹©åéªŒæ¦‚ç‡æœ€å¤§çš„ç±»åˆ«ã€‚   </li><li><strong>å¯¹æ¯”æ™®é€šè´å¶æ–¯</strong>ï¼šæ™®é€šæœ´ç´ è´å¶æ–¯ä»…æ¯”è¾ƒåéªŒæ¦‚ç‡ï¼ˆå³æŸå¤±çŸ©é˜µä¸ºå•ä½çŸ©é˜µæ—¶çš„æƒ…å†µï¼‰ï¼Œè€Œæ­¤ä»£ç é€šè¿‡è‡ªå®šä¹‰ <code>loss\_matrix</code> å®ç°<strong>é£é™©æ•æ„Ÿå†³ç­–</strong> ã€‚</li></ul></li></ol><hr><h3 id="2-Parzençª—å£ä¼°è®¡ï¼šéå‚æ•°æ¦‚ç‡å¯†åº¦ä¼°è®¡"><a href="#2-Parzençª—å£ä¼°è®¡ï¼šéå‚æ•°æ¦‚ç‡å¯†åº¦ä¼°è®¡" class="headerlink" title="2. Parzençª—å£ä¼°è®¡ï¼šéå‚æ•°æ¦‚ç‡å¯†åº¦ä¼°è®¡"></a>2. Parzençª—å£ä¼°è®¡ï¼šéå‚æ•°æ¦‚ç‡å¯†åº¦ä¼°è®¡</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs powershell">def parzen_window_estimation(x, <span class="hljs-keyword">data</span>, <span class="hljs-built_in">h</span>=<span class="hljs-number">1</span>, window_func=squ_window): <br>    N, d = data.shape                           <span class="hljs-comment"># è·å–æ•°æ®çš„æ•°é‡å’Œç»´åº¦</span><br>    k_n = window_func(cdist(x, <span class="hljs-keyword">data</span>) / <span class="hljs-built_in">h</span>)       <span class="hljs-comment"># è®¡ç®—æ¯ä¸ªæ ·æœ¬åˆ°xçš„è·ç¦»å¹¶åº”ç”¨çª—å£å‡½æ•°é™åˆ¶æƒé‡</span><br>    <span class="hljs-keyword">return</span> np.sum(k_n, axis=<span class="hljs-number">1</span>) / (N * <span class="hljs-built_in">h</span>**d)     <span class="hljs-comment"># è¿”å›Parzençª—å£ä¼°è®¡çš„ç»“æœ shape=[N, ] hæ˜¯çª—å¤§å°</span><br><br></code></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šé€šè¿‡Parzençª—å£æ³•ä¼°è®¡æ ·æœ¬ <code>x</code> çš„æ¦‚ç‡å¯†åº¦ã€‚   </li><li><strong>å…³é”®æ­¥éª¤è§£æ</strong>ï¼š   <ol><li><strong>è·ç¦»è®¡ç®—</strong>ï¼š    <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">cdist</span><span class="hljs-params">(x, data)</span></span> / h<br><br></code></pre></td></tr></table></figure><ul><li><strong>ä½œç”¨</strong>ï¼šè®¡ç®—æµ‹è¯•æ ·æœ¬ <code>x</code> ä¸æ‰€æœ‰è®­ç»ƒæ ·æœ¬ <code>data</code> çš„æ¬§æ°è·ç¦»ï¼Œå¹¶é™¤ä»¥å¸¦å®½ <code>h</code> è¿›è¡Œå½’ä¸€åŒ–ã€‚   </li><li><strong>ç†è®ºä¾æ®</strong>ï¼šParzençª—å£æ˜¯ä¸€ç§éå‚æ•°å¯†åº¦ä¼°è®¡æ–¹æ³•ï¼Œé€šè¿‡æ ¸å‡½æ•°ï¼ˆçª—å£å‡½æ•°ï¼‰åŠ æƒé‚»åŸŸå†…çš„æ ·æœ¬ç‚¹ ã€‚</li></ul></li><li><strong>çª—å£å‡½æ•°åº”ç”¨</strong>ï¼š    <figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-function"><span class="hljs-title">window_func</span>(<span class="hljs-params">...</span>)</span><br><br></code></pre></td></tr></table></figure><ul><li><strong>çª—å£å‡½æ•°ç±»å‹</strong>ï¼š   <ul><li><strong>æ–¹çª—</strong>ï¼ˆ<code>squ\_window</code>ï¼‰ï¼šä»…ç»Ÿè®¡è·ç¦»åœ¨ <code>[-h/2, h/2]</code> å†…çš„æ ·æœ¬ã€‚   </li><li><strong>æ­£æ€çª—</strong>ï¼ˆ<code>nor\_window</code>ï¼‰ï¼šä½¿ç”¨é«˜æ–¯åˆ†å¸ƒæƒé‡ï¼ˆæƒé‡éšè·ç¦»æŒ‡æ•°è¡°å‡ï¼‰ã€‚   </li><li><strong>æŒ‡æ•°çª—</strong>ï¼ˆ<code>exp\_window</code>ï¼‰ï¼šæƒé‡éšè·ç¦»çº¿æ€§è¡°å‡ã€‚   </li><li><strong>ä¸‰è§’çª—</strong>ï¼ˆ<code>tri\_window</code>ï¼‰ï¼šæƒé‡éšè·ç¦»çº¿æ€§è¡°å‡è‡³é›¶ã€‚</li></ul></li><li><strong>ç†è®ºä¾æ®</strong>ï¼šä¸åŒçª—å£å‡½æ•°å¯¹å¯†åº¦ä¼°è®¡çš„å¹³æ»‘æ€§æœ‰å½±å“ï¼Œæ­£æ€çª—é€‚åˆè¿ç»­åˆ†å¸ƒï¼Œæ–¹çª—é€‚åˆç¦»æ•£åˆ†å¸ƒ ã€‚</li></ul></li><li><strong>å¯†åº¦ä¼°è®¡å€¼</strong>ï¼š    <figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs lasso">np.<span class="hljs-keyword">sum</span>(<span class="hljs-params">...</span>) / (N * h**d)<br><br></code></pre></td></tr></table></figure><ul><li><strong>å…¬å¼</strong>ï¼š</li></ul></li></ol><ul><li><strong>ç†è®ºä¾æ®</strong>ï¼šParzençª—å£é€šè¿‡æ ¸å¯†åº¦ä¼°è®¡é€¼è¿‘çœŸå®åˆ†å¸ƒï¼Œæ— éœ€å‡è®¾æ•°æ®æœä»ç‰¹å®šåˆ†å¸ƒ ã€‚</li></ul></li></ul><hr><h3 id="3-ä»£ç æ•´ä½“æµç¨‹ä¸è´å¶æ–¯å†³ç­–çš„å…³ç³»"><a href="#3-ä»£ç æ•´ä½“æµç¨‹ä¸è´å¶æ–¯å†³ç­–çš„å…³ç³»" class="headerlink" title="3. ä»£ç æ•´ä½“æµç¨‹ä¸è´å¶æ–¯å†³ç­–çš„å…³ç³»"></a>3. ä»£ç æ•´ä½“æµç¨‹ä¸è´å¶æ–¯å†³ç­–çš„å…³ç³»</h3><ol><li><strong>è®­ç»ƒé˜¶æ®µ</strong>ï¼š   <ul><li>å¯¹æ¯ä¸ªç±»åˆ« <code>i</code>ï¼Œä½¿ç”¨è®­ç»ƒæ•°æ® <code>X\_train[y\_train == i]</code> è®¡ç®— Parzen çª—å£å¯†åº¦ä¼°è®¡ <code>parzen\_estimations[i]</code>ã€‚   </li><li>è®¡ç®—æ¯ä¸ªç±»åˆ«çš„å…ˆéªŒæ¦‚ç‡ <code>priors[i] = P(Y=i)</code>ã€‚</li></ul></li><li><strong>é¢„æµ‹é˜¶æ®µ</strong>ï¼š   <ul><li>å¯¹æ¯ä¸ªæµ‹è¯•æ ·æœ¬ <code>x</code>ï¼š   <ul><li>ä½¿ç”¨ Parzen çª—å£æ³•è®¡ç®—å…¶åœ¨æ¯ä¸ªç±»åˆ«ä¸‹çš„æ¦‚ç‡å¯†åº¦ <code>parzen\_estimations</code>ã€‚   </li><li>ç»“åˆå…ˆéªŒæ¦‚ç‡å’ŒæŸå¤±çŸ©é˜µï¼Œè®¡ç®—æ¯ä¸ªå¯èƒ½å†³ç­–çš„æœŸæœ›æŸå¤±ã€‚   </li><li>é€‰æ‹©æœŸæœ›æŸå¤±æœ€å°çš„ç±»åˆ«ä½œä¸ºé¢„æµ‹ç»“æœã€‚</li></ul></li></ul></li><li><strong>ä¸æ™®é€šæœ´ç´ è´å¶æ–¯çš„åŒºåˆ«</strong>ï¼š   <ul><li><strong>æ™®é€šæœ´ç´ è´å¶æ–¯</strong>ï¼šå‡è®¾ç‰¹å¾æœä»ç‰¹å®šåˆ†å¸ƒï¼ˆå¦‚é«˜æ–¯åˆ†å¸ƒï¼‰ï¼Œä¸”ç‰¹å¾æ¡ä»¶ç‹¬ç«‹ï¼Œç›´æ¥è®¡ç®—åéªŒæ¦‚ç‡ã€‚   </li><li><strong>æœ¬ä»£ç å®ç°</strong>ï¼š   <ul><li>ä½¿ç”¨éå‚æ•°æ–¹æ³•ï¼ˆParzençª—å£ï¼‰ä¼°è®¡æ¦‚ç‡å¯†åº¦ï¼Œæ— éœ€å‡è®¾åˆ†å¸ƒå½¢å¼ã€‚   </li><li>å¼•å…¥æŸå¤±çŸ©é˜µï¼Œå…è®¸è‡ªå®šä¹‰è¯¯åˆ†ç±»ä»£ä»·ï¼ˆå¦‚åŒ»ç–—è¯Šæ–­ä¸­è¯¯è¯Šç™Œç—‡çš„ä»£ä»·æ›´é«˜ï¼‰ã€‚</li></ul></li></ul></li></ol><hr><h3 id="4-å…³é”®å‚æ•°çš„ä½œç”¨"><a href="#4-å…³é”®å‚æ•°çš„ä½œç”¨" class="headerlink" title="4. å…³é”®å‚æ•°çš„ä½œç”¨"></a>4. å…³é”®å‚æ•°çš„ä½œç”¨</h3><ul><li>å¸¦å®½ <code>**h**</code>ï¼š   <ul><li><code>h</code> è¶Šå¤§ï¼Œå¯†åº¦ä¼°è®¡è¶Šå¹³æ»‘ï¼ˆå¯èƒ½æ¬ æ‹Ÿåˆï¼‰ï¼Œ<code>h</code> è¶Šå°ï¼Œå¯†åº¦ä¼°è®¡è¶Šå°–é”ï¼ˆå¯èƒ½è¿‡æ‹Ÿåˆï¼‰ã€‚</li></ul></li><li><strong>çª—å£å‡½æ•°</strong>ï¼š   <ul><li>æ–¹çª—ï¼ˆ<code>squ\_window</code>ï¼‰é€‚åˆç¦»æ•£åˆ†å¸ƒï¼Œæ­£æ€çª—ï¼ˆ<code>nor\_window</code>ï¼‰é€‚åˆè¿ç»­åˆ†å¸ƒã€‚</li></ul></li><li>æŸå¤±çŸ©é˜µ <code>**loss\_matrix**</code>ï¼š   <ul><li>å•ä½çŸ©é˜µï¼ˆ<code>[[0,1],[1,0]]</code>ï¼‰å¯¹åº”æœ€å°é”™è¯¯ç‡å†³ç­–ï¼Œéå•ä½çŸ©é˜µå¯¹åº”æœ€å°é£é™©å†³ç­– ã€‚</li></ul></li></ul><hr><h3 id="5-ç¤ºä¾‹è¯´æ˜"><a href="#5-ç¤ºä¾‹è¯´æ˜" class="headerlink" title="5. ç¤ºä¾‹è¯´æ˜"></a>5. ç¤ºä¾‹è¯´æ˜</h3><p>å‡è®¾ <code>loss\_matrix = [[0, 2], [1, 0]]</code>ï¼š   </p><ul><li>å°†å®é™…ç±»åˆ«ä¸º 0 çš„æ ·æœ¬è¯¯åˆ¤ä¸º 1 çš„ä»£ä»·æ˜¯ 2ï¼Œè€Œå°†å®é™…ç±»åˆ«ä¸º 1 çš„æ ·æœ¬è¯¯åˆ¤ä¸º 0 çš„ä»£ä»·æ˜¯ 1ã€‚   </li><li>åˆ†ç±»å™¨ä¼šæ›´å€¾å‘äºé¿å…å°†ç±»åˆ« 0 è¯¯åˆ¤ä¸º 1ï¼Œä»è€Œåœ¨ä»£ä»·æ•æ„Ÿåœºæ™¯ä¸‹ä¼˜åŒ–å†³ç­– ã€‚</li></ul><hr><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šé€šè¿‡éå‚æ•°å¯†åº¦ä¼°è®¡ï¼ˆParzençª—å£ï¼‰å’Œé£é™©æœ€å°åŒ–ï¼ˆæŸå¤±çŸ©é˜µï¼‰å®ç°çµæ´»çš„è´å¶æ–¯å†³ç­–ã€‚   </li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š   <ul><li>æ•°æ®åˆ†å¸ƒæœªçŸ¥æˆ–éé«˜æ–¯åˆ†å¸ƒã€‚   </li><li>ä¸åŒç±»åˆ«çš„è¯¯åˆ†ç±»ä»£ä»·ä¸ä¸€è‡´ï¼ˆå¦‚åŒ»ç–—ã€é‡‘èé£æ§ï¼‰ã€‚</li></ul></li><li><strong>æ”¹è¿›æ–¹å‘</strong>ï¼š   <ul><li>ä½¿ç”¨äº¤å‰éªŒè¯é€‰æ‹©æœ€ä¼˜å¸¦å®½ <code>h</code>ã€‚   </li><li>æ›¿æ¢æ›´å¤æ‚çš„æ ¸å‡½æ•°ï¼ˆå¦‚é«˜æ–¯æ··åˆæ ¸ï¼‰ã€‚</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250524_01.png" alt="Accuracy&#x3D;97%"></p><p>â¡ï¸ é€šè¿‡åŠ çª—ä»¥åŠæŸå¤±çŸ©é˜µè¡¥å¿é”™è¯¯åˆ¤æ–­ï¼Œå¯ä»¥å‘ç°å¯¹äºåŒä¸€ä¸ªæ•°æ®åœ¨åˆ†ç±»çš„æ­£ç¡®æ€§ä¸Šæœ‰ä¸€å®šçš„å¢å¼ºï¼›   </p>]]></content>
    
    
    <categories>
      
      <category>AI</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ML</tag>
      
      <tag>Python</tag>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MQTT+LuatOSå­¦ä¹ æ—¥å¿—</title>
    <link href="/2025/05/23/How_use_mqtt_in_LuatOS/"/>
    <url>/2025/05/23/How_use_mqtt_in_LuatOS/</url>
    
    <content type="html"><![CDATA[<h2 id="MQTTåŸºç¡€æ¦‚å¿µï¼š"><a href="#MQTTåŸºç¡€æ¦‚å¿µï¼š" class="headerlink" title="MQTTåŸºç¡€æ¦‚å¿µï¼š"></a>MQTTåŸºç¡€æ¦‚å¿µï¼š</h2><h2 id="MQTTæ˜¯ä¸€ç§é€šä¿¡æ¶æ„ï¼›MQTTæ˜¯ä¸€ä¸ªä¸€å¯¹å¤šçš„é€šä¿¡æ¶æ„ï¼Œä¸€ä¸ªæœåŠ¡ç«¯ï¼ˆBrokerï¼‰å¯ä»¥æœ‰å¤šä¸ªå®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼›"><a href="#MQTTæ˜¯ä¸€ç§é€šä¿¡æ¶æ„ï¼›MQTTæ˜¯ä¸€ä¸ªä¸€å¯¹å¤šçš„é€šä¿¡æ¶æ„ï¼Œä¸€ä¸ªæœåŠ¡ç«¯ï¼ˆBrokerï¼‰å¯ä»¥æœ‰å¤šä¸ªå®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼›" class="headerlink" title="MQTTæ˜¯ä¸€ç§é€šä¿¡æ¶æ„ï¼›MQTTæ˜¯ä¸€ä¸ªä¸€å¯¹å¤šçš„é€šä¿¡æ¶æ„ï¼Œä¸€ä¸ªæœåŠ¡ç«¯ï¼ˆBrokerï¼‰å¯ä»¥æœ‰å¤šä¸ªå®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼›   "></a>MQTTæ˜¯ä¸€ç§é€šä¿¡æ¶æ„ï¼›<br>MQTTæ˜¯ä¸€ä¸ªä¸€å¯¹å¤šçš„é€šä¿¡æ¶æ„ï¼Œä¸€ä¸ªæœåŠ¡ç«¯ï¼ˆBrokerï¼‰å¯ä»¥æœ‰å¤šä¸ªå®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼›   </h2><p>MQTTä¸­æœ‰ä¸‰ä¸ªæ¦‚å¿µï¼š   </p><ol><li>ä¸»é¢˜ï¼ˆTopicï¼‰   </li><li>å‘å¸ƒï¼ˆPublishï¼‰   </li><li>è®¢é˜…ï¼ˆSubscribeï¼‰</li></ol><p>ä¸»é¢˜æ˜¯ä¸€ç§å¯»å€æ–¹å¼ï¼Œç±»ä¼¼äºWindowçš„æ–‡ä»¶å¤¹å¤šçº§ç›®å½•<br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_2.png" alt="Topic"></p><h2 id="ä¾‹å¦‚-factory-line1-machine3-temperature-ç­‰ç­‰ï¼Œä¸åŒçš„TopicæŒ‡å‘ä¸åŒçš„å†…å®¹ä»¥åŠç±»åˆ«ï¼›"><a href="#ä¾‹å¦‚-factory-line1-machine3-temperature-ç­‰ç­‰ï¼Œä¸åŒçš„TopicæŒ‡å‘ä¸åŒçš„å†…å®¹ä»¥åŠç±»åˆ«ï¼›" class="headerlink" title="ä¾‹å¦‚ factory/line1/machine3/temperature ç­‰ç­‰ï¼Œä¸åŒçš„TopicæŒ‡å‘ä¸åŒçš„å†…å®¹ä»¥åŠç±»åˆ«ï¼›   "></a>ä¾‹å¦‚ <code>factory/line1/machine3/temperature</code> ç­‰ç­‰ï¼Œä¸åŒçš„TopicæŒ‡å‘ä¸åŒçš„å†…å®¹ä»¥åŠç±»åˆ«ï¼›   </h2><p>å®¢æˆ·ç«¯Clientå¯ä»¥å³ä½œä¸ºå‘å¸ƒçš„æ¥æºä¹Ÿå¯ä»¥è®¢é˜…å‘å¸ƒçš„å†…å®¹ï¼›<br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_b.png" alt="Client"></p><h2 id="è€ŒBrokerä½œä¸ºä¿¡æ¯çš„ä¸­è½¬ç«™ï¼Œæ¥æ”¶å‘å¸ƒçš„ä¿¡æ¯å¹¶æ¨é€ç»™è®¢é˜…çš„ç”¨æˆ·ç«¯ï¼›"><a href="#è€ŒBrokerä½œä¸ºä¿¡æ¯çš„ä¸­è½¬ç«™ï¼Œæ¥æ”¶å‘å¸ƒçš„ä¿¡æ¯å¹¶æ¨é€ç»™è®¢é˜…çš„ç”¨æˆ·ç«¯ï¼›" class="headerlink" title="è€ŒBrokerä½œä¸ºä¿¡æ¯çš„ä¸­è½¬ç«™ï¼Œæ¥æ”¶å‘å¸ƒçš„ä¿¡æ¯å¹¶æ¨é€ç»™è®¢é˜…çš„ç”¨æˆ·ç«¯ï¼›   "></a>è€ŒBrokerä½œä¸ºä¿¡æ¯çš„ä¸­è½¬ç«™ï¼Œæ¥æ”¶å‘å¸ƒçš„ä¿¡æ¯å¹¶æ¨é€ç»™è®¢é˜…çš„ç”¨æˆ·ç«¯ï¼›   </h2><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_j.png" alt="Broker"></p><h2 id="å‘å¸ƒè€…æ— éœ€æ‹…å¿ƒæ˜¯å¦å°†ä¿¡æ¯å‘é€ç»™äº†è®¢é˜…è€…ï¼Œå‡†ç¡®æ¥è¯´å‘å¸ƒè€…ä¸è®¢é˜…è€…ä¹‹é—´ä¸æ˜¯ç›´è¿çš„ï¼"><a href="#å‘å¸ƒè€…æ— éœ€æ‹…å¿ƒæ˜¯å¦å°†ä¿¡æ¯å‘é€ç»™äº†è®¢é˜…è€…ï¼Œå‡†ç¡®æ¥è¯´å‘å¸ƒè€…ä¸è®¢é˜…è€…ä¹‹é—´ä¸æ˜¯ç›´è¿çš„ï¼" class="headerlink" title="å‘å¸ƒè€…æ— éœ€æ‹…å¿ƒæ˜¯å¦å°†ä¿¡æ¯å‘é€ç»™äº†è®¢é˜…è€…ï¼Œå‡†ç¡®æ¥è¯´å‘å¸ƒè€…ä¸è®¢é˜…è€…ä¹‹é—´ä¸æ˜¯ç›´è¿çš„ï¼   "></a>å‘å¸ƒè€…æ— éœ€æ‹…å¿ƒæ˜¯å¦å°†ä¿¡æ¯å‘é€ç»™äº†è®¢é˜…è€…ï¼Œå‡†ç¡®æ¥è¯´å‘å¸ƒè€…ä¸è®¢é˜…è€…ä¹‹é—´ä¸æ˜¯ç›´è¿çš„ï¼   </h2><h2 id="LuatOSä¸­MQTTçš„API"><a href="#LuatOSä¸­MQTTçš„API" class="headerlink" title="LuatOSä¸­MQTTçš„API"></a>LuatOSä¸­MQTTçš„API</h2><h3 id="å¸¸é‡ï¼š"><a href="#å¸¸é‡ï¼š" class="headerlink" title="å¸¸é‡ï¼š"></a>å¸¸é‡ï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image.png" alt="const"></p><h3 id="è®¢é˜…ä¸»é¢˜ï¼š"><a href="#è®¢é˜…ä¸»é¢˜ï¼š" class="headerlink" title="è®¢é˜…ä¸»é¢˜ï¼š"></a>è®¢é˜…ä¸»é¢˜ï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_z.png" alt="subscribe"></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Lua"><span class="hljs-comment">-- è®¢é˜…å•ä¸ªtopic, ä¸”qos=0mqttc:subscribe(&quot;/luatos/123456&quot;, 0)</span><br><span class="hljs-comment">-- è®¢é˜…å•ä¸ªtopic, ä¸”qos=1mqttc:subscribe(&quot;/luatos/12345678&quot;, 1)</span><br><span class="hljs-comment">-- è®¢é˜…å¤šä¸ªtopic, ä¸”ä½¿ç”¨ä¸åŒçš„qos -&gt; &#123; , &#125;åŒºåˆ†ä¸åŒtopic</span><br>mqttc:subscribe(&#123;[<span class="hljs-string">&quot;/luatos/1234567&quot;</span>]=<span class="hljs-number">1</span>,[<span class="hljs-string">&quot;/luatos/12345678&quot;</span>]=<span class="hljs-number">2</span>&#125;)<br></code></pre></td></tr></table></figure><h3 id="åˆ›å»ºClientï¼š"><a href="#åˆ›å»ºClientï¼š" class="headerlink" title="åˆ›å»ºClientï¼š"></a>åˆ›å»ºClientï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_s.png" alt="Create Client"></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Lua"><span class="hljs-comment">-- æ™®é€šTCPé“¾æ¥</span><br>mqttc = mqtt.<span class="hljs-built_in">create</span>(<span class="hljs-literal">nil</span>,<span class="hljs-string">&quot;120.55.137.106&quot;</span>, <span class="hljs-number">1884</span>)<br><span class="hljs-comment">-- æ™®é€šTCPé“¾æ¥,mqttæ¥æ”¶ç¼“å†²åŒº4096</span><br>mqttc = mqtt.<span class="hljs-built_in">create</span>(<span class="hljs-literal">nil</span>,<span class="hljs-string">&quot;120.55.137.106&quot;</span>, <span class="hljs-number">1884</span>, <span class="hljs-literal">nil</span>, &#123;rxSize = <span class="hljs-number">4096</span>&#125;)<br><span class="hljs-comment">-- åŠ å¯†TCPé“¾æ¥,ä¸éªŒè¯æœåŠ¡å™¨è¯ä¹¦</span><br>mqttc = mqtt.<span class="hljs-built_in">create</span>(<span class="hljs-literal">nil</span>,<span class="hljs-string">&quot;120.55.137.106&quot;</span>, <span class="hljs-number">8883</span>, <span class="hljs-literal">true</span>)<br><span class="hljs-comment">-- åŠ å¯†TCPTCPé“¾æ¥,å•æœåŠ¡å™¨è¯ä¹¦éªŒè¯</span><br>mqttc = mqtt.<span class="hljs-built_in">create</span>(<span class="hljs-literal">nil</span>,<span class="hljs-string">&quot;120.55.137.106&quot;</span>, <span class="hljs-number">8883</span>, &#123;server_cert=<span class="hljs-built_in">io</span>.readFile(<span class="hljs-string">&quot;/luadb/ca.crt&quot;</span>)&#125;)<br><span class="hljs-comment">-- åŠ å¯†TCPTCPé“¾æ¥,å•æœåŠ¡å™¨è¯ä¹¦éªŒè¯, ä½†å¯é€‰è®¤è¯</span><br>mqttc = mqtt.<span class="hljs-built_in">create</span>(<span class="hljs-literal">nil</span>,<span class="hljs-string">&quot;120.55.137.106&quot;</span>, <span class="hljs-number">8883</span>, &#123;server_cert=<span class="hljs-built_in">io</span>.readFile(<span class="hljs-string">&quot;/luadb/ca.crt&quot;</span>), verify=<span class="hljs-number">1</span>&#125;)<br><span class="hljs-comment">-- åŠ å¯†TCPTCPé“¾æ¥,åŒå‘è¯ä¹¦éªŒè¯</span><br>mqttc = mqtt.<span class="hljs-built_in">create</span>(<span class="hljs-literal">nil</span>,<span class="hljs-string">&quot;120.55.137.106&quot;</span>, <span class="hljs-number">8883</span>, &#123;server_cert=<span class="hljs-built_in">io</span>.readFile(<span class="hljs-string">&quot;/luadb/ca.crt&quot;</span>),client_cert=<span class="hljs-built_in">io</span>.readFile(<span class="hljs-string">&quot;/luadb/client.pem&quot;</span>),client_key=<span class="hljs-built_in">io</span>.readFile(<span class="hljs-string">&quot;/luadb/client.key&quot;</span>),client_password=<span class="hljs-string">&quot;123456&quot;</span>,&#125;)<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°MQTTçš„é€šä¿¡åè®®ä¸ºTCPï¼Œå®˜æ–¹æ–‡æ¡£è¯´ä¸æ”¯æŒWebsocketï¼   </p><h3 id="è®¾ç½®ç™»å½•Clientçš„ä¿¡æ¯ï¼š"><a href="#è®¾ç½®ç™»å½•Clientçš„ä¿¡æ¯ï¼š" class="headerlink" title="è®¾ç½®ç™»å½•Clientçš„ä¿¡æ¯ï¼š"></a>è®¾ç½®ç™»å½•Clientçš„ä¿¡æ¯ï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_q.png" alt="auth"></p><h3 id="MQTTæœåŠ¡å™¨è¿æ¥ï¼š"><a href="#MQTTæœåŠ¡å™¨è¿æ¥ï¼š" class="headerlink" title="MQTTæœåŠ¡å™¨è¿æ¥ï¼š"></a>MQTTæœåŠ¡å™¨è¿æ¥ï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_1q.png" alt="connect"></p><h3 id="MQTTå‘å¸ƒï¼š"><a href="#MQTTå‘å¸ƒï¼š" class="headerlink" title="MQTTå‘å¸ƒï¼š"></a>MQTTå‘å¸ƒï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_r.png" alt="publish"></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Lua"><span class="hljs-comment">--   topic         data</span><br>mqttc:publish(<span class="hljs-string">&quot;/luatos/123456&quot;</span>, <span class="hljs-string">&quot;123&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="æ£€æµ‹çŠ¶æ€ï¼š"><a href="#æ£€æµ‹çŠ¶æ€ï¼š" class="headerlink" title="æ£€æµ‹çŠ¶æ€ï¼š"></a>æ£€æµ‹çŠ¶æ€ï¼š</h3><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_m.png" alt="Check State"></p><h2 id="Luaè¯­è¨€çš„æ•´ä½“æ¡†æ¶"><a href="#Luaè¯­è¨€çš„æ•´ä½“æ¡†æ¶" class="headerlink" title="Luaè¯­è¨€çš„æ•´ä½“æ¡†æ¶"></a>Luaè¯­è¨€çš„æ•´ä½“æ¡†æ¶</h2><hr><p>åœ¨Luaä¸­ï¼Œé€šè¿‡è°ƒç”¨ <code>require(&quot;sys&quot;)</code> å®šä¹‰ä¸€ä¸ªå®ä¾‹sysï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªå®ä¾‹æ¥åˆ›å»ºç³»ç»Ÿä»»åŠ¡ï¼š<br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image_h.png" alt="example"><br>å¯ä»¥åŒæ—¶åˆ›å»ºå¤šä¸ªä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡ä¹‹é—´å¹¶è¡Œè¿è¡Œï¼Œä¸”è¿è¡Œéƒ½é™åˆ¶åœ¨è‡ªå·±çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œä¿éšœä¸åŒä»»åŠ¡ä¹‹é—´ä¸ä¼šç›¸äº’å¹²æ‰°ã€‚å¦‚æœæƒ³è¦è®©ä¸åŒçš„ä»»åŠ¡ä¹‹é—´æœ‰å…ˆåæ‰§è¡Œçš„é€»è¾‘å¯ä»¥é€šè¿‡   </p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Lua">sys.publish(<span class="hljs-string">&quot;net_ready&quot;</span>, device_IMEI)<br>sys.waitUntil(<span class="hljs-string">&quot;net_ready&quot;</span>)<br><br></code></pre></td></tr></table></figure><p>è¿™ä¸¤å¥ä»£ç å®ç°ã€‚ä¸€ä¸ªç”¨äºå‘å¸ƒä¸€æ¡äº‹ä»¶ï¼Œå¦ä¸€ä¸ªç­‰å¾…è¯¥äº‹ä»¶çš„å®Œæˆï¼Œç”±æ­¤å¾—åˆ°ä¸€ä¸ªæ‰§è¡Œçš„å…ˆåé¡ºåºï¼›   </p><h2 id="MQTT-Luaè¯­è¨€ç¤ºä¾‹ä»£ç ï¼š"><a href="#MQTT-Luaè¯­è¨€ç¤ºä¾‹ä»£ç ï¼š" class="headerlink" title="MQTT+Luaè¯­è¨€ç¤ºä¾‹ä»£ç ï¼š"></a>MQTT+Luaè¯­è¨€ç¤ºä¾‹ä»£ç ï¼š</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Lua"><span class="hljs-comment">-- LuaToolséœ€è¦PROJECTå’ŒVERSIONè¿™ä¸¤ä¸ªä¿¡æ¯</span><br>PROJECT = <span class="hljs-string">&quot;mqttdemo&quot;</span><br>VERSION = <span class="hljs-string">&quot;1.0.0&quot;</span><br></code></pre></td></tr></table></figure><p>.luaæ–‡ä»¶çš„å¼€å¤´å¿…é¡»è¦PROJECTçš„åç§°ä»¥åŠVERSIONçš„ç‰ˆæœ¬ï¼›   </p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Lua"><span class="hljs-comment">--æ ¹æ®è‡ªå·±çš„æœåŠ¡å™¨ä¿®æ”¹ä»¥ä¸‹å‚æ•°</span><br><span class="hljs-keyword">local</span> mqtt_host = <span class="hljs-string">&quot;lbsmqtt.airm2m.com&quot;</span><br><span class="hljs-keyword">local</span> mqtt_port = <span class="hljs-number">1884</span><br><span class="hljs-keyword">local</span> mqtt_isssl = <span class="hljs-literal">false</span><br><span class="hljs-keyword">local</span> ca_file = <span class="hljs-literal">false</span><br><br><span class="hljs-comment">--å¿…é¡»è·ŸæœåŠ¡å™¨çš„é…ç½®ä¸€æ ·</span><br><span class="hljs-keyword">local</span> client_id = <span class="hljs-string">&quot;mqttx_b55c41b7&quot;</span><br><span class="hljs-keyword">local</span> user_name = <span class="hljs-string">&quot;user&quot;</span><br><span class="hljs-keyword">local</span> password = <span class="hljs-string">&quot;password&quot;</span><br><br><span class="hljs-keyword">local</span> pub_topic = <span class="hljs-string">&quot;/luatos/pub/123&quot;</span><span class="hljs-comment">-- .. (mcu.unique_id():toHex())</span><br><span class="hljs-keyword">local</span> sub_topic = <span class="hljs-string">&quot;/luatos/sub/123&quot;</span><span class="hljs-comment">-- .. (mcu.unique_id():toHex())</span><br></code></pre></td></tr></table></figure><p>ç”¨æˆ·çš„å‚æ•°é…ç½®ï¼š<br>hostä»¥åŠportæ˜¯è‡ªå·±æœåŠ¡å™¨çš„å‚æ•°ï¼Œissslè¡¨ç¤ºæ˜¯å¦åŠ å¯†è¿æ¥ï¼›   </p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Lua"><span class="hljs-comment">-- ç»“å°¾æ€»æ˜¯è¿™ä¸€å¥</span><br>sys.run()<br><span class="hljs-comment">-- sys.run()ä¹‹ååé¢ä¸è¦åŠ ä»»ä½•è¯­å¥!!!!!</span><br></code></pre></td></tr></table></figure><h2 id="ç»“æŸçš„è¯­å¥ï¼Œå¯åŠ¨syså¹¶ä¸”å¾ªç¯è¿è¡Œä»»åŠ¡åˆ—è¡¨é‡Œé¢çš„ä»»åŠ¡ã€‚"><a href="#ç»“æŸçš„è¯­å¥ï¼Œå¯åŠ¨syså¹¶ä¸”å¾ªç¯è¿è¡Œä»»åŠ¡åˆ—è¡¨é‡Œé¢çš„ä»»åŠ¡ã€‚" class="headerlink" title="ç»“æŸçš„è¯­å¥ï¼Œå¯åŠ¨syså¹¶ä¸”å¾ªç¯è¿è¡Œä»»åŠ¡åˆ—è¡¨é‡Œé¢çš„ä»»åŠ¡ã€‚   "></a>ç»“æŸçš„è¯­å¥ï¼Œå¯åŠ¨syså¹¶ä¸”å¾ªç¯è¿è¡Œä»»åŠ¡åˆ—è¡¨é‡Œé¢çš„ä»»åŠ¡ã€‚   </h2><p>æ•´ä½“çš„æµç¨‹ï¼š   </p><ol><li>è®¾ç½®ä¸¤ä¸ªç³»ç»Ÿå†…éƒ¨ä»»åŠ¡ï¼Œä»»åŠ¡ä¸€ä¸ºè”ç½‘ï¼Œ4Gæ¨¡å—æä¾›SIMå¡æˆåŠŸè”ç½‘å¹¶ä¸”è¿”å›è®¾å¤‡çš„IMEIå·ï¼›   </li><li>è®¾ç½®ç¬¬äºŒä¸ªä»»åŠ¡ï¼Œå°†è®¾å¤‡çš„IMEIå·åˆ†é…ç»™Clientï¼Œå¹¶ä¸”è®¾ç½®å‘å¸ƒã€è®¢é˜…çš„ä¸»é¢˜ï¼Œç¡®ä¿ç‹¬ç«‹æ€§ï¼›   </li><li>åˆ›å»ºmqttè¿æ¥ï¼ˆä¸ä¸€å®šæ­£å¸¸è¿æ¥ä¸Šï¼‰ï¼Œä»¥è®¾å¤‡å·ä»¥åŠé¢„è®¾ç½®çš„user nameå’Œpasswordé…ç½®mqttï¼Œå¯ä»¥è®¾ç½®è‡ªåŠ¨é‡è¿ï¼›   </li><li>ç¼–å†™mqttå›è°ƒå‡½æ•°ï¼Œåœ¨mqttå›è°ƒå‡½æ•°ä¸­æ£€æµ‹äº‹ä»¶ï¼Œå½“è¿æ¥ä¸Šmqttæ—¶å°†æ•°æ®æ‰“åŒ…å¹¶ä¸”é€šè¿‡publishå‘ç»™brokerï¼›</li></ol><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Lua">mqttc:on(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(mqtt_client, event, data, payload)</span></span><br><span class="hljs-built_in">log</span>.info(<span class="hljs-string">&quot;mqtt&quot;</span>, <span class="hljs-string">&quot;event&quot;</span>, event) <span class="hljs-comment">-- å¯æœ‰</span><br><span class="hljs-keyword">if</span> event == <span class="hljs-string">&quot;conack&quot;</span> <span class="hljs-keyword">then</span><br>    <span class="hljs-comment">-- MQTT è¿æ¥æˆåŠŸ</span><br>    sys.publish(<span class="hljs-string">&quot;mqtt_conack&quot;</span>)<br>    mqtt_client:subscribe(sub_topic)<br><br>   <span class="hljs-comment">-- é‡‡é›†è®¾å¤‡ä¿¡æ¯</span><br>   <span class="hljs-keyword">local</span> imei = mobile.imei()<br>   <span class="hljs-keyword">local</span> csq = mobile.csq()            <span class="hljs-comment">-- ä¿¡å·å¼ºåº¦</span><br>    <span class="hljs-keyword">local</span> voltage = mobile.getVbatt()   <span class="hljs-comment">-- ç”µæ± ç”µå‹ï¼ˆå•ä½ mVï¼‰</span><br><br>   <span class="hljs-comment">-- æ„é€  JSON æ ¼å¼çš„ payload æ•°æ®</span><br>    <span class="hljs-keyword">local</span> device_data = json.encode(&#123;<br>        imei = imei,<br>        csq = csq,<br>        voltage = voltage,<br>        timestamp = <span class="hljs-built_in">os</span>.<span class="hljs-built_in">time</span>()<br>   &#125;)<br><br>   <span class="hljs-built_in">log</span>.info(<span class="hljs-string">&quot;mqtt&quot;</span>, <span class="hljs-string">&quot;publish data&quot;</span>, device_data)<br><br>    <span class="hljs-comment">-- å‘å¸ƒæ•°æ®åˆ° topicï¼ˆå‘å¸ƒä¸€æ¬¡ï¼‰</span><br>    mqtt_client:publish(pub_topic, device_data, <span class="hljs-number">0</span>)<br><br>    <span class="hljs-comment">-- å¯é€‰ï¼šé…ç½®ä¸€ä¸ªä¸Šç½‘æŒ‡ç¤ºç¯äº®èµ·</span><br>   gpio.set(<span class="hljs-number">11</span>, <span class="hljs-number">1</span>)  <span class="hljs-comment">-- è®¾ç½® GPIO11 ä¸ºé«˜ç”µå¹³ï¼Œè¡¨ç¤ºè”ç½‘æˆåŠŸ</span><br><span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span>)<br><br></code></pre></td></tr></table></figure><p>ä¸€äº›Luaè¯­è¨€çš„ç»†èŠ‚ï¼š   </p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Lua"><span class="hljs-comment">-- _G -&gt; GLOBAL VALUE</span><br><span class="hljs-built_in">_G</span>.sys = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;sys&quot;</span>)<br><span class="hljs-built_in">_G</span>.sysplus = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;sysplus&quot;</span>)<br><span class="hljs-built_in">_G</span>.mobile = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;mobile&quot;</span>)<br><span class="hljs-built_in">_G</span>.uart = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;uart&quot;</span>)<br><br><span class="hljs-comment">-- uart init</span><br>uart.setup(<br>    uart_id,<br>    uart_baud,<br>    uart_bitwidth,<br>    uart_stopbit<br>)<br><br><span class="hljs-comment">-- system inner tasks</span><br>sys.taskInit(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span><br>    <span class="hljs-keyword">local</span> device_id = mobile.imei() <span class="hljs-comment">-- read AIR780EG&#x27;s IMEI</span><br>    <span class="hljs-comment">-- waiting for 4G connected</span><br>    sys.waitUntil(<span class="hljs-string">&quot;IP_READY&quot;</span>)<br><span class="hljs-comment">-- system publish event</span><br>    sys.publish(<span class="hljs-string">&quot;net_ready&quot;</span>, device_id)<br><span class="hljs-keyword">end</span>)<br><br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„è„šæœ¬ï¼Œå…·ä½“çš„å†…å®¹å¦‚ä¸‹ï¼š   </p><ol><li>ä»»åŠ¡ä¸€ï¼šå®ç°è”ç½‘åŠŸèƒ½å¹¶åœ¨è”ç½‘åå‘å¸ƒäº‹ä»¶ï¼›   </li><li>ä»»åŠ¡äºŒï¼šç­‰å¾…è”ç½‘äº‹ä»¶ï¼Œå¹¶æ ¹æ®IMEIè®¾ç½®client-idä»¥åŠå‘å¸ƒã€è®¢é˜…ä¸»é¢˜ï¼›ä¹‹åæ ¹æ®é…ç½®åˆ›å»ºmqttè¿æ¥å¹¶å°è¯•è¿æ¥ï¼›åœ¨mqttå›è°ƒå‡½æ•°ä¸­ï¼Œå¦‚æœè¿æ¥ä¸Šäº†åˆ™é€šè¿‡ä¸²å£å‘å•ç‰‡æœºå‘é€ä¿¡æ¯ï¼Œå¹¶å‘å¸ƒmqttè¿æ¥äº‹ä»¶ï¼›   </li><li>ä»»åŠ¡ä¸‰ï¼šç­‰å¾…mqttè¿æ¥äº‹ä»¶ï¼Œä¹‹åå¼€å§‹æ¥æ”¶å•ç‰‡ä¼ å…¥çš„æ•°æ®å¹¶ä¸”å®šä½æ•°æ®ä½ç½®ï¼Œå°†æ•°æ®æ‰“åŒ…å¹¶é€šè¿‡mqttä¸Šä¼ äº‘ç«¯ï¼›</li></ol><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><code class="hljs Lua">PROJECT = <span class="hljs-string">&quot;AIR780EG_DEMO&quot;</span><br>VERSION = <span class="hljs-string">&quot;1.0.0&quot;</span><br><br><span class="hljs-comment">-- Setup instance</span><br><span class="hljs-built_in">_G</span>.sys = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;sys&quot;</span>)<br><span class="hljs-built_in">_G</span>.sysplus = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;sysplus&quot;</span>)<br><br><span class="hljs-keyword">local</span> wdt = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;wdt&quot;</span>)<br><span class="hljs-keyword">local</span> <span class="hljs-built_in">log</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;log&quot;</span>)<br><span class="hljs-keyword">local</span> uart = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;uart&quot;</span>)<br><span class="hljs-keyword">local</span> mobile = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;mobile&quot;</span>)<br><span class="hljs-keyword">local</span> mqtt = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;mqtt&quot;</span>)    <span class="hljs-comment">-- åŠ è½½ mqtt æ¨¡å—</span><br><span class="hljs-keyword">local</span> rtos = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;rtos&quot;</span>)    <span class="hljs-comment">-- åŠ è½½ rtos æ¨¡å—ï¼ˆç”¨äºè¯†åˆ«å¹³å°ï¼‰</span><br><span class="hljs-keyword">local</span> pm = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;pm&quot;</span>)        <span class="hljs-comment">-- åŠ è½½ç”µæºç®¡ç†æ¨¡å—ï¼ˆç”¨äºç”µæºé…ç½®ï¼‰</span><br><br><span class="hljs-keyword">if</span> wdt <span class="hljs-keyword">then</span><br>    <span class="hljs-comment">--æ·»åŠ ç¡¬ç‹—é˜²æ­¢ç¨‹åºå¡æ­»ï¼Œåœ¨æ”¯æŒçš„è®¾å¤‡ä¸Šå¯ç”¨è¿™ä¸ªåŠŸèƒ½</span><br>    wdt.init(<span class="hljs-number">9000</span>)<span class="hljs-comment">--åˆå§‹åŒ–watchdogè®¾ç½®ä¸º9s</span><br>    sys.timerLoopStart(wdt.feed, <span class="hljs-number">3000</span>)<span class="hljs-comment">--3så–‚ä¸€æ¬¡ç‹—</span><br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment">-- uart configuration</span><br><span class="hljs-keyword">local</span> uart_id = <span class="hljs-number">1</span><br><span class="hljs-keyword">local</span> uart_baud = <span class="hljs-number">115200</span><br><span class="hljs-keyword">local</span> uart_bitwidth = <span class="hljs-number">8</span><br><span class="hljs-keyword">local</span> uart_stopbit = <span class="hljs-number">1</span><br>uart.Setup(uart_id, uart_baud, uart_bitwidth, uart_stopbit)<br><br><span class="hljs-comment">-- server configuration</span><br><span class="hljs-keyword">local</span> mqtt_host = <span class="hljs-string">&quot;lbsmqtt.airm2m.com&quot;</span><br><span class="hljs-keyword">local</span> mqtt_port = <span class="hljs-number">1884</span><br><span class="hljs-keyword">local</span> mqtt_isssl = <span class="hljs-literal">false</span><br><span class="hljs-keyword">local</span> ca_file = <span class="hljs-literal">false</span><br><br><span class="hljs-comment">-- mqtt client configuration</span><br><span class="hljs-keyword">local</span> client_id = <span class="hljs-string">&quot;air780eg&quot;</span><br><span class="hljs-keyword">local</span> user_name = <span class="hljs-string">&quot;user&quot;</span><br><span class="hljs-keyword">local</span> password = <span class="hljs-string">&quot;password&quot;</span><br><br><span class="hljs-keyword">local</span> mqttc = <span class="hljs-literal">nil</span><br><span class="hljs-keyword">local</span> publish_topic = <span class="hljs-string">&quot;/air780eg/publish/123&quot;</span><br><span class="hljs-keyword">local</span> subscribe_topic = <span class="hljs-string">&quot;/air780eg/subscribe/123&quot;</span><br><br><span class="hljs-keyword">local</span> IsFirstConnect = <span class="hljs-literal">true</span><br><br><span class="hljs-comment">-- Task list</span><br><br><span class="hljs-comment">-- Air780Eçš„ATå›ºä»¶é»˜è®¤ä¼šä¸ºå¼€æœºé”®é˜²æŠ–, å¯¼è‡´éƒ¨åˆ†ç”¨æˆ·åˆ·æœºå¾ˆéº»çƒ¦</span><br><span class="hljs-keyword">if</span> rtos.bsp() == <span class="hljs-string">&quot;EC618&quot;</span> <span class="hljs-keyword">and</span> pm <span class="hljs-keyword">and</span> pm.PWK_MODE <span class="hljs-keyword">then</span><br>    pm.power(pm.PWK_MODE, <span class="hljs-literal">false</span>)<br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment">-- network connect</span><br>sys.taskInit(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span></span><br>    <span class="hljs-keyword">local</span> device_IMEI = mobile.imei()   <span class="hljs-comment">-- string </span><br>    sys.waitUntil(<span class="hljs-string">&quot;IP_READY&quot;</span>)<br>    sys.publish(<span class="hljs-string">&quot;net_ready&quot;</span>, device_IMEI)<br><span class="hljs-keyword">end</span>)<br><br><span class="hljs-comment">-- mqtt connect</span><br>sys.taskInit(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span></span><br>    <span class="hljs-keyword">local</span> ret, IMEI = sys.waitUntil(<span class="hljs-string">&quot;net_ready&quot;</span>)<br>    <span class="hljs-keyword">if</span> ret <span class="hljs-keyword">then</span><br>        <span class="hljs-comment">-- use IMEI to set unique topic</span><br>        client_id = IMEI<br>        publish_topic = client_id .. <span class="hljs-string">&quot;/publish&quot;</span><br>        subscribe_topic = client_id .. <span class="hljs-string">&quot;/subscribe&quot;</span><br>        <span class="hljs-keyword">if</span> IsFirstConnect <span class="hljs-keyword">then</span><br>            <span class="hljs-comment">-- uart transmit logger to MCU</span><br>            uart.<span class="hljs-built_in">write</span>(uart_id, <span class="hljs-string">&quot;IMEI: &quot;</span> .. IMEI .. <span class="hljs-string">&quot;\r\n&quot;</span>)<br>            uart.<span class="hljs-built_in">write</span>(uart_id, <span class="hljs-string">&quot;publish_topic:&quot;</span> .. publish_topic .. <span class="hljs-string">&quot;\r\n&quot;</span>)<br>            uart.<span class="hljs-built_in">write</span>(uart_id, <span class="hljs-string">&quot;subscribe_topic:&quot;</span> .. subscribe_topic .. <span class="hljs-string">&quot;\r\n&quot;</span>)<br>            IsFirstConnect = <span class="hljs-literal">false</span><br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><br>    <span class="hljs-comment">-- create mqtt client</span><br>    mqttc = mqtt.<span class="hljs-built_in">create</span>(mqtt_host, mqtt_port, mqtt_isssl, ca_file)<br>    mqttc:auth(client_id, user_name, password)  <span class="hljs-comment">-- set mqtt user-name and password(should be equal to the server setting)</span><br>    mqttc:autoreconn(<span class="hljs-literal">true</span>, <span class="hljs-number">3000</span>)                <span class="hljs-comment">-- set auto-reconnect</span><br><br>    <span class="hljs-comment">-- define callback function</span><br>    mqttc:on(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(mqtt_client, event, data, payload)</span></span><br>        <span class="hljs-keyword">if</span> event == <span class="hljs-string">&quot;conack&quot;</span> <span class="hljs-keyword">then</span><br>            uart.<span class="hljs-built_in">write</span>(uart_id, <span class="hljs-string">&quot;MQTT Connect\r\n&quot;</span>)<br>            sys.publish(<span class="hljs-string">&quot;mqtt_ready&quot;</span>)<br>        <span class="hljs-keyword">elseif</span> event == <span class="hljs-string">&quot;recv&quot;</span> <span class="hljs-keyword">then</span><br>            <span class="hljs-built_in">log</span>.info(<span class="hljs-string">&quot;mqtt&quot;</span>, <span class="hljs-string">&quot;æ”¶åˆ°æ¶ˆæ¯&quot;</span>, data, payload)<br>        <span class="hljs-keyword">elseif</span> event == <span class="hljs-string">&quot;sent&quot;</span> <span class="hljs-keyword">then</span><br>            <span class="hljs-built_in">log</span>.info(<span class="hljs-string">&quot;mqtt&quot;</span>, <span class="hljs-string">&quot;å‘é€æˆåŠŸ&quot;</span>, data)<br>        <span class="hljs-keyword">elseif</span> event == <span class="hljs-string">&quot;disconnect&quot;</span> <span class="hljs-keyword">then</span><br>            <span class="hljs-built_in">log</span>.warn(<span class="hljs-string">&quot;mqtt&quot;</span>, <span class="hljs-string">&quot;æ–­å¼€è¿æ¥&quot;</span>)<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span>)<br><br>    <span class="hljs-comment">-- start to conneect server</span><br>    mqttc:connect()<br><span class="hljs-keyword">end</span>)<br><br><span class="hljs-comment">-- UART æ•°æ®æ¥æ”¶ + MQTT ä¸Šä¼ </span><br>sys.taskInit(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span><br>    sys.waitUntil(<span class="hljs-string">&quot;mqtt_ready&quot;</span>)<br><br>    <span class="hljs-built_in">log</span>.info(<span class="hljs-string">&quot;uart&quot;</span>, <span class="hljs-string">&quot;å¼€å§‹ç›‘å¬ UART æ•°æ®ä¸Šä¼ &quot;</span>)<br>    <span class="hljs-keyword">local</span> buffer = <span class="hljs-string">&quot;&quot;</span><br><br>    <span class="hljs-comment">-- uartæ¥æ”¶è§¦å‘ä¸­æ–­ ä»idç«¯å£æ¥æ”¶lené•¿åº¦çš„æ•°æ®</span><br>    uart.on(uart_id, <span class="hljs-string">&quot;receive&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(id, len)</span></span><br>        <span class="hljs-keyword">local</span> data = uart.<span class="hljs-built_in">read</span>(id, <span class="hljs-built_in">len</span>)<br>        buffer = buffer .. data<br><br>        <span class="hljs-comment">-- ç¤ºä¾‹ï¼šä»¥æ¢è¡Œç¬¦ä½œä¸ºä¸€æ¡å®Œæ•´æ•°æ®çš„ç»“æŸ</span><br>        <span class="hljs-keyword">while</span> buffer:<span class="hljs-built_in">find</span>(<span class="hljs-string">&quot;\r\n&quot;</span>) <span class="hljs-keyword">do</span><br>            <span class="hljs-keyword">local</span> packet, remain = buffer:<span class="hljs-built_in">match</span>(<span class="hljs-string">&quot;^(.-)\r\n(.*)$&quot;</span>)<br>            buffer = remain <span class="hljs-keyword">or</span> <span class="hljs-string">&quot;&quot;</span><br><br>            <span class="hljs-comment">-- æ‰“å°æ¥æ”¶åˆ°çš„ä¸²å£æ•°æ®</span><br>            <span class="hljs-built_in">log</span>.info(<span class="hljs-string">&quot;uart&quot;</span>, <span class="hljs-string">&quot;æ”¶åˆ°æ•°æ®&quot;</span>, packet)<br>            uart.<span class="hljs-built_in">write</span>(uart_id, <span class="hljs-string">&quot;Receive Finish!\r\n&quot;</span>)<br><br>            <span class="hljs-comment">-- å‘å¸ƒåˆ° MQTTï¼ˆQoS=0ï¼‰</span><br>            <span class="hljs-keyword">if</span> mqttc <span class="hljs-keyword">then</span><br>                mqttc:publish(publish_topic, packet, <span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">end</span><br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span>)<br><span class="hljs-keyword">end</span>)<br><br><span class="hljs-comment">--[[</span><br><span class="hljs-comment">    è¯´æ˜ï¼š</span><br><span class="hljs-comment">    1. è¯¥ä»£ç ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ UART æ¥æ”¶æ•°æ®å¹¶é€šè¿‡ MQTT ä¸Šä¼ ã€‚</span><br><span class="hljs-comment">    2. ä½¿ç”¨äº† sysplus åº“æ¥å¤„ç†ç³»ç»Ÿä»»åŠ¡å’Œäº‹ä»¶ã€‚</span><br><span class="hljs-comment">    3. ä½¿ç”¨äº† mqtt åº“æ¥å¤„ç† MQTT å®¢æˆ·ç«¯çš„è¿æ¥å’Œæ¶ˆæ¯å‘é€ã€‚</span><br><span class="hljs-comment">    4. ä½¿ç”¨äº† log åº“æ¥è®°å½•æ—¥å¿—ä¿¡æ¯ã€‚</span><br><span class="hljs-comment">]]</span><br>sys.run()<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Communication</category>
      
      <category>LuatOS learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MQTT</tag>
      
      <tag>Lua</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>èšç±»åˆ†ç±»â€”ç®—æ³•ä»¥åŠpythonå®ç°</title>
    <link href="/2025/05/23/K_Means/"/>
    <url>/2025/05/23/K_Means/</url>
    
    <content type="html"><![CDATA[<h1 id="ğŸ§ -ä½¿ç”¨-Python-å®ç°é«˜æ•ˆå‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative-Clusteringï¼‰"><a href="#ğŸ§ -ä½¿ç”¨-Python-å®ç°é«˜æ•ˆå‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative-Clusteringï¼‰" class="headerlink" title="ğŸ§  ä½¿ç”¨ Python å®ç°é«˜æ•ˆå‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative Clusteringï¼‰"></a>ğŸ§  ä½¿ç”¨ Python å®ç°é«˜æ•ˆå‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative Clusteringï¼‰</h1><h2 id="åœ¨æœ¬ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€èµ·æ¢ç´¢å¦‚ä½•ä½¿ç”¨-Python-å®ç°ä¸€ä¸ªé«˜æ•ˆçš„-å‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative-Hierarchical-Clusteringï¼‰ç®—æ³•ï¼Œå¹¶æ”¯æŒä¸‰ç§ä¸åŒçš„ç°‡é—´è·ç¦»åº¦é‡æ–¹å¼ï¼šsingle-linkage-complete-linkage-å’Œ-average-linkageã€‚æˆ‘ä»¬è¿˜å°†é€šè¿‡å¯è§†åŒ–å±•ç¤ºä¸åŒæ–¹æ³•çš„æ•ˆæœï¼Œå¹¶åˆ†æå…¶ä¼˜åŠ£ã€‚"><a href="#åœ¨æœ¬ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€èµ·æ¢ç´¢å¦‚ä½•ä½¿ç”¨-Python-å®ç°ä¸€ä¸ªé«˜æ•ˆçš„-å‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative-Hierarchical-Clusteringï¼‰ç®—æ³•ï¼Œå¹¶æ”¯æŒä¸‰ç§ä¸åŒçš„ç°‡é—´è·ç¦»åº¦é‡æ–¹å¼ï¼šsingle-linkage-complete-linkage-å’Œ-average-linkageã€‚æˆ‘ä»¬è¿˜å°†é€šè¿‡å¯è§†åŒ–å±•ç¤ºä¸åŒæ–¹æ³•çš„æ•ˆæœï¼Œå¹¶åˆ†æå…¶ä¼˜åŠ£ã€‚" class="headerlink" title="åœ¨æœ¬ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€èµ·æ¢ç´¢å¦‚ä½•ä½¿ç”¨ Python å®ç°ä¸€ä¸ªé«˜æ•ˆçš„ å‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative Hierarchical Clusteringï¼‰ç®—æ³•ï¼Œå¹¶æ”¯æŒä¸‰ç§ä¸åŒçš„ç°‡é—´è·ç¦»åº¦é‡æ–¹å¼ï¼šsingle linkage, complete linkage å’Œ average linkageã€‚æˆ‘ä»¬è¿˜å°†é€šè¿‡å¯è§†åŒ–å±•ç¤ºä¸åŒæ–¹æ³•çš„æ•ˆæœï¼Œå¹¶åˆ†æå…¶ä¼˜åŠ£ã€‚   "></a>åœ¨æœ¬ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€èµ·æ¢ç´¢å¦‚ä½•ä½¿ç”¨ Python å®ç°ä¸€ä¸ªé«˜æ•ˆçš„ <strong>å‡èšå±‚æ¬¡èšç±»ï¼ˆAgglomerative Hierarchical Clusteringï¼‰ç®—æ³•</strong>ï¼Œå¹¶æ”¯æŒä¸‰ç§ä¸åŒçš„ç°‡é—´è·ç¦»åº¦é‡æ–¹å¼ï¼š<code>single linkage</code>, <code>complete linkage</code> å’Œ <code>average linkage</code>ã€‚æˆ‘ä»¬è¿˜å°†é€šè¿‡å¯è§†åŒ–å±•ç¤ºä¸åŒæ–¹æ³•çš„æ•ˆæœï¼Œå¹¶åˆ†æå…¶ä¼˜åŠ£ã€‚   </h2><h2 id="ğŸ“š-ä¸€ã€ä»€ä¹ˆæ˜¯å‡èšå±‚æ¬¡èšç±»ï¼Ÿ"><a href="#ğŸ“š-ä¸€ã€ä»€ä¹ˆæ˜¯å‡èšå±‚æ¬¡èšç±»ï¼Ÿ" class="headerlink" title="ğŸ“š ä¸€ã€ä»€ä¹ˆæ˜¯å‡èšå±‚æ¬¡èšç±»ï¼Ÿ"></a>ğŸ“š ä¸€ã€ä»€ä¹ˆæ˜¯å‡èšå±‚æ¬¡èšç±»ï¼Ÿ</h2><p>å‡èšå±‚æ¬¡èšç±»æ˜¯ä¸€ç§ <strong>è‡ªåº•å‘ä¸Šçš„æ— ç›‘ç£èšç±»ç®—æ³•</strong>ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š   </p><blockquote><p>æ¯ä¸ªæ•°æ®ç‚¹åˆå§‹æ—¶éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç°‡ï¼Œç„¶åé€æ­¥åˆå¹¶æœ€ç›¸ä¼¼çš„ä¸¤ä¸ªç°‡ï¼Œç›´åˆ°è¾¾åˆ°é¢„è®¾çš„ç°‡æ•°ã€‚   </p></blockquote><h2 id="ä¸-K-Means-ä¸åŒï¼Œå®ƒä¸éœ€è¦æå‰æŒ‡å®šç°‡çš„æ•°é‡å³å¯æ„å»ºæ•´ä¸ªèšç±»æ ‘ï¼ˆdendrogramï¼‰ï¼Œå› æ­¤éå¸¸é€‚åˆæ¢ç´¢æ€§æ•°æ®åˆ†æã€‚"><a href="#ä¸-K-Means-ä¸åŒï¼Œå®ƒä¸éœ€è¦æå‰æŒ‡å®šç°‡çš„æ•°é‡å³å¯æ„å»ºæ•´ä¸ªèšç±»æ ‘ï¼ˆdendrogramï¼‰ï¼Œå› æ­¤éå¸¸é€‚åˆæ¢ç´¢æ€§æ•°æ®åˆ†æã€‚" class="headerlink" title="ä¸ K-Means ä¸åŒï¼Œå®ƒä¸éœ€è¦æå‰æŒ‡å®šç°‡çš„æ•°é‡å³å¯æ„å»ºæ•´ä¸ªèšç±»æ ‘ï¼ˆdendrogramï¼‰ï¼Œå› æ­¤éå¸¸é€‚åˆæ¢ç´¢æ€§æ•°æ®åˆ†æã€‚   "></a>ä¸ K-Means ä¸åŒï¼Œå®ƒä¸éœ€è¦æå‰æŒ‡å®šç°‡çš„æ•°é‡å³å¯æ„å»ºæ•´ä¸ªèšç±»æ ‘ï¼ˆdendrogramï¼‰ï¼Œå› æ­¤éå¸¸é€‚åˆæ¢ç´¢æ€§æ•°æ®åˆ†æã€‚   </h2><h2 id="âš™ï¸-äºŒã€ä»£ç æ¦‚è¿°"><a href="#âš™ï¸-äºŒã€ä»£ç æ¦‚è¿°" class="headerlink" title="âš™ï¸ äºŒã€ä»£ç æ¦‚è¿°"></a>âš™ï¸ äºŒã€ä»£ç æ¦‚è¿°</h2><h3 id="ğŸ”-åŠŸèƒ½äº®ç‚¹ï¼š"><a href="#ğŸ”-åŠŸèƒ½äº®ç‚¹ï¼š" class="headerlink" title="ğŸ” åŠŸèƒ½äº®ç‚¹ï¼š"></a>ğŸ” åŠŸèƒ½äº®ç‚¹ï¼š</h3><ul><li>æ”¯æŒä¸‰ç§ <strong>linkage æ–¹æ³•</strong>ï¼š   <ul><li><code>&#39;single&#39;</code>: æœ€çŸ­è·ç¦»æ³•ï¼ˆæœ€è¿‘é‚»ï¼‰   </li><li><code>&#39;complete&#39;</code>: æœ€é•¿è·ç¦»æ³•ï¼ˆæœ€è¿œé‚»ï¼‰   </li><li><code>&#39;average&#39;</code>: å¹³å‡è·ç¦»æ³•</li></ul></li><li>ä½¿ç”¨ <strong>æœ€å°å †ï¼ˆheapqï¼‰</strong> åŠ é€ŸæŸ¥æ‰¾æœ€è¿‘ç°‡å¯¹   </li><li>å¯¹ Iris æ•°æ®é›†è¿›è¡Œç‰¹å¾é€‰æ‹©åèšç±»   </li><li>ç»˜åˆ¶åŸå§‹æ ‡ç­¾ä¸ä¸åŒ linkage èšç±»ç»“æœå¯¹æ¯”å›¾</li></ul><hr><h2 id="ğŸ“¦-ä¸‰ã€ä¾èµ–åº“ä»‹ç»"><a href="#ğŸ“¦-ä¸‰ã€ä¾èµ–åº“ä»‹ç»" class="headerlink" title="ğŸ“¦ ä¸‰ã€ä¾èµ–åº“ä»‹ç»"></a>ğŸ“¦ ä¸‰ã€ä¾èµ–åº“ä»‹ç»</h2><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> heapq<br><span class="hljs-title">from</span> scipy.spatial.distance <span class="hljs-keyword">import</span> squareform, pdist<br><span class="hljs-title">from</span> collections <span class="hljs-keyword">import</span> defaultdict<br><br></code></pre></td></tr></table></figure><table><thead><tr><th align="left">åº“</th><th align="left">ç”¨é€”</th></tr></thead><tbody><tr><td align="left"><code>numpy</code></td><td align="left">é«˜æ•ˆæ•°ç»„æ“ä½œ</td></tr><tr><td align="left"><code>pandas</code></td><td align="left">æ•°æ®è¯»å–ä¸å¤„ç†</td></tr><tr><td align="left"><code>matplotlib</code></td><td align="left">å¯è§†åŒ–ç»˜å›¾</td></tr><tr><td align="left"><code>heapq</code></td><td align="left">æœ€å°å †å®ç°ä¼˜å…ˆé˜Ÿåˆ—</td></tr><tr><td align="left"><code>scipy.spatial.distance</code></td><td align="left">è®¡ç®—æˆå¯¹è·ç¦»</td></tr></tbody></table><hr><h2 id="ğŸ“-å››ã€æ ¸å¿ƒå‡½æ•°è¯¦è§£"><a href="#ğŸ“-å››ã€æ ¸å¿ƒå‡½æ•°è¯¦è§£" class="headerlink" title="ğŸ“ å››ã€æ ¸å¿ƒå‡½æ•°è¯¦è§£"></a>ğŸ“ å››ã€æ ¸å¿ƒå‡½æ•°è¯¦è§£</h2><h3 id="1-ç°‡é—´è·ç¦»è®¡ç®—å‡½æ•°"><a href="#1-ç°‡é—´è·ç¦»è®¡ç®—å‡½æ•°" class="headerlink" title="1. ç°‡é—´è·ç¦»è®¡ç®—å‡½æ•°"></a>1. ç°‡é—´è·ç¦»è®¡ç®—å‡½æ•°</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs maxima">def cluster_distance(c1, c2, dist_matrix, <span class="hljs-built_in">method</span>=&#x27;single&#x27;):<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">method</span> == &#x27;single&#x27;:<br>        <span class="hljs-built_in">return</span> <span class="hljs-built_in">np</span>.<span class="hljs-built_in">min</span>(dist_matrix[<span class="hljs-built_in">np</span>.ix_(c1, c2)])<br>    elif <span class="hljs-built_in">method</span> == &#x27;complete&#x27;:<br>        <span class="hljs-built_in">return</span> <span class="hljs-built_in">np</span>.<span class="hljs-built_in">max</span>(dist_matrix[<span class="hljs-built_in">np</span>.ix_(c1, c2)])<br>    elif <span class="hljs-built_in">method</span> == &#x27;average&#x27;:<br>        <span class="hljs-built_in">return</span> <span class="hljs-built_in">np</span>.<span class="hljs-built_in">mean</span>(dist_matrix[<span class="hljs-built_in">np</span>.ix_(c1, c2)])<br>    <span class="hljs-keyword">else</span>:<br>        raise ValueError(<span class="hljs-string">&quot;Unknown method&quot;</span>)<br><br></code></pre></td></tr></table></figure><ul><li><strong>åŠŸèƒ½</strong>ï¼šæ ¹æ®æŒ‡å®šçš„ <code>linkage</code> æ–¹æ³•è®¡ç®—ä¸¤ä¸ªç°‡ä¹‹é—´çš„è·ç¦»ã€‚   </li><li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š   <ul><li><code>&#39;single&#39;</code>: ç”¨äºè¯†åˆ«é“¾çŠ¶åˆ†å¸ƒçš„æ•°æ®ã€‚   </li><li><code>&#39;complete&#39;</code>: æ›´å…³æ³¨ç°‡å†…ç´§å¯†æ€§ã€‚   </li><li><code>&#39;average&#39;</code>: ä¸¤è€…æŠ˜ä¸­ï¼Œé€‚åˆå¤§å¤šæ•°æƒ…å†µ ã€‚</li></ul></li></ul><hr><h3 id="2-åˆå§‹åŒ–è·ç¦»çŸ©é˜µ"><a href="#2-åˆå§‹åŒ–è·ç¦»çŸ©é˜µ" class="headerlink" title="2. åˆå§‹åŒ–è·ç¦»çŸ©é˜µ"></a>2. åˆå§‹åŒ–è·ç¦»çŸ©é˜µ</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">dist_matrix = <span class="hljs-built_in">squareform</span>(<span class="hljs-built_in">pdist</span>(features<span class="hljs-selector-attr">[:, feature_indices]</span>))<br><br></code></pre></td></tr></table></figure><ul><li><code>pdist</code>ï¼šè®¡ç®—æ‰€æœ‰æ ·æœ¬ä¸¤ä¸¤ä¹‹é—´çš„æ¬§æ°è·ç¦»ã€‚   </li><li><code>squareform</code>ï¼šå°†å‹ç¼©çš„è·ç¦»å‘é‡è½¬æ¢ä¸º NÃ—N çš„è·ç¦»çŸ©é˜µ ã€‚</li></ul><hr><h3 id="3-åˆå§‹åŒ–æ¯ä¸ªæ ·æœ¬ä¸ºç‹¬ç«‹ç°‡"><a href="#3-åˆå§‹åŒ–æ¯ä¸ªæ ·æœ¬ä¸ºç‹¬ç«‹ç°‡" class="headerlink" title="3. åˆå§‹åŒ–æ¯ä¸ªæ ·æœ¬ä¸ºç‹¬ç«‹ç°‡"></a>3. åˆå§‹åŒ–æ¯ä¸ªæ ·æœ¬ä¸ºç‹¬ç«‹ç°‡</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">init_clusters = <span class="hljs-selector-attr">[[i]</span> <span class="hljs-keyword">for</span> <span class="hljs-selector-tag">i</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(numberOfsamples)]<br><br></code></pre></td></tr></table></figure><ul><li>åˆå§‹æ—¶æ¯ä¸ªæ ·æœ¬æ˜¯ä¸€ä¸ªç°‡ï¼Œç”¨ç´¢å¼•è¡¨ç¤ºã€‚</li></ul><hr><h3 id="4-æ„å»ºæœ€å°å †ç»´æŠ¤ç°‡å¯¹è·ç¦»"><a href="#4-æ„å»ºæœ€å°å †ç»´æŠ¤ç°‡å¯¹è·ç¦»" class="headerlink" title="4. æ„å»ºæœ€å°å †ç»´æŠ¤ç°‡å¯¹è·ç¦»"></a>4. æ„å»ºæœ€å°å †ç»´æŠ¤ç°‡å¯¹è·ç¦»</h3><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs oxygene"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(clusters)):<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(i+<span class="hljs-number">1</span>, len(clusters)):<br>        dist = cluster_distance(clusters[i], clusters[j], dist_matrix, <span class="hljs-keyword">method</span>)<br>        <span class="hljs-title function_">heapq</span>.<span class="hljs-title function_">heappush</span><span class="hljs-params">(heap, (dist, i, j)</span>)<br><br></code></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ <code>heapq</code> æ„å»ºæœ€å°å †ï¼Œæ¯æ¬¡å–å‡ºå½“å‰æœ€è¿‘çš„ç°‡å¯¹è¿›è¡Œåˆå¹¶ã€‚   </li><li>æ—¶é—´å¤æ‚åº¦ä» O(NÂ³) é™ä½è‡³ O(NÂ² log N) ã€‚</li></ul><hr><h3 id="5-åˆå¹¶ç°‡å¹¶æ›´æ–°å †"><a href="#5-åˆå¹¶ç°‡å¹¶æ›´æ–°å †" class="headerlink" title="5. åˆå¹¶ç°‡å¹¶æ›´æ–°å †"></a>5. åˆå¹¶ç°‡å¹¶æ›´æ–°å †</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs stylus">while <span class="hljs-built_in">sum</span>(valid) &gt; numberOfcluster:<br>    while True:<br>        dist, <span class="hljs-selector-tag">i</span>, j = heapq<span class="hljs-selector-class">.heappop</span>(heap)<br>        <span class="hljs-keyword">if</span> valid<span class="hljs-selector-attr">[i]</span> and valid<span class="hljs-selector-attr">[j]</span>:<br>            break<br>    clusters<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-class">.extend</span>(clusters<span class="hljs-selector-attr">[j]</span>)<br>    valid<span class="hljs-selector-attr">[j]</span> = False<br>    <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(clusters)):<br>        <span class="hljs-keyword">if</span> k != <span class="hljs-selector-tag">i</span> and valid<span class="hljs-selector-attr">[k]</span>:<br>            dist = <span class="hljs-built_in">cluster_distance</span>(clusters<span class="hljs-selector-attr">[i]</span>, clusters<span class="hljs-selector-attr">[k]</span>, dist_matrix, method)<br>            heapq<span class="hljs-selector-class">.heappush</span>(heap, (dist, <span class="hljs-selector-tag">i</span>, k))<br><br></code></pre></td></tr></table></figure><ul><li><strong>æœ‰æ•ˆç°‡æ ‡è®°</strong>ï¼šä½¿ç”¨ <code>valid</code> æ•°ç»„è®°å½•å“ªäº›ç°‡æ˜¯æœ‰æ•ˆçš„ã€‚   </li><li><strong>åŠ¨æ€æ›´æ–°è·ç¦»</strong>ï¼šåˆå¹¶åé‡æ–°è®¡ç®—æ–°ç°‡ä¸å…¶ä»–ç°‡çš„è·ç¦»å¹¶æ’å…¥å †ä¸­ã€‚</li></ul><hr><h2 id="ğŸ“Š-å…­ã€å¯è§†åŒ–å±•ç¤º"><a href="#ğŸ“Š-å…­ã€å¯è§†åŒ–å±•ç¤º" class="headerlink" title="ğŸ“Š å…­ã€å¯è§†åŒ–å±•ç¤º"></a>ğŸ“Š å…­ã€å¯è§†åŒ–å±•ç¤º</h2><p>æˆ‘ä»¬ç»˜åˆ¶äº†å››ç§å›¾åƒï¼š   </p><ol><li>åŸå§‹æ•°æ®æŒ‰çœŸå®æ ‡ç­¾æ˜¾ç¤º   </li><li><code>&#39;single&#39;</code> linkage èšç±»ç»“æœ   </li><li><code>&#39;complete&#39;</code> linkage èšç±»ç»“æœ   </li><li><code>&#39;average&#39;</code> linkage èšç±»ç»“æœ</li></ol><p>æ¯ç§æ–¹æ³•éƒ½ä½¿ç”¨ä¸åŒé¢œè‰²å’Œå½¢çŠ¶çš„æ ‡è®°æ¥åŒºåˆ†ç°‡ã€‚   </p><h3 id="ç¤ºä¾‹ä»£ç ç‰‡æ®µï¼š"><a href="#ç¤ºä¾‹ä»£ç ç‰‡æ®µï¼š" class="headerlink" title="ç¤ºä¾‹ä»£ç ç‰‡æ®µï¼š"></a>ç¤ºä¾‹ä»£ç ç‰‡æ®µï¼š</h3><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs prolog">plt.scatter(<br>    features[clu, feature_indices[<span class="hljs-number">0</span>]],<br>    features[clu, feature_indices[<span class="hljs-number">1</span>]],<br>    color=[color],<br>    marker=marker,<br>    label=f<span class="hljs-string">&#x27;Cluster &#123;idx+1&#125;&#x27;</span><br>)<br><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250523191326805.png" alt="Agglomerative Clustering"></p><hr><h2 id="ğŸ§©-ä¸ƒã€ä¸‰ç§-Linkage-æ–¹æ³•å¯¹æ¯”"><a href="#ğŸ§©-ä¸ƒã€ä¸‰ç§-Linkage-æ–¹æ³•å¯¹æ¯”" class="headerlink" title="ğŸ§© ä¸ƒã€ä¸‰ç§ Linkage æ–¹æ³•å¯¹æ¯”"></a>ğŸ§© ä¸ƒã€ä¸‰ç§ Linkage æ–¹æ³•å¯¹æ¯”</h2><table><thead><tr><th align="left">Linkage æ–¹æ³•</th><th align="left">ç‰¹ç‚¹</th><th align="left">é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><code>&#39;single&#39;</code></td><td align="left">å®¹æ˜“å½¢æˆâ€œé“¾å¼â€ç°‡</td><td align="left">é€‚ç”¨äºæµå½¢å‹æ•°æ®</td></tr><tr><td align="left"><code>&#39;complete&#39;</code></td><td align="left">å¼ºè°ƒç°‡å†…ç´§å‡‘æ€§</td><td align="left">é€‚ç”¨äºçƒå½¢åˆ†å¸ƒæ•°æ®</td></tr><tr><td align="left"><code>&#39;average&#39;</code></td><td align="left">æŠ˜ä¸­æ–¹æ¡ˆï¼Œå¹³è¡¡è¡¨ç°</td><td align="left">é€šç”¨æ€§å¼º</td></tr></tbody></table><hr><h2 id="ğŸ“š-å‚è€ƒèµ„æ–™"><a href="#ğŸ“š-å‚è€ƒèµ„æ–™" class="headerlink" title="ğŸ“š å‚è€ƒèµ„æ–™"></a>ğŸ“š å‚è€ƒèµ„æ–™</h2><ul><li>[1] Scipy pdist &amp; squareform æ–‡æ¡£   </li><li>[2] NumPy ä¸ Pandas ç®€ä»‹   </li><li>[3] å¯†åº¦å³°å€¼èšç±»ç®—æ³•ç»¼è¿°   </li><li>[4] è‡ªé€‚åº”å¯†åº¦å³°å€¼èšç±»ç®—æ³•   </li><li>[5] å±‚æ¬¡èšç±»ä¸ DPC ç®—æ³•å¯¹æ¯”</li></ul><hr><h1 id="ğŸ§ -ä½¿ç”¨-Python-å®ç°å‘é‡åŒ–-K-Means-èšç±»ç®—æ³•"><a href="#ğŸ§ -ä½¿ç”¨-Python-å®ç°å‘é‡åŒ–-K-Means-èšç±»ç®—æ³•" class="headerlink" title="ğŸ§  ä½¿ç”¨ Python å®ç°å‘é‡åŒ– K-Means èšç±»ç®—æ³•"></a>ğŸ§  ä½¿ç”¨ Python å®ç°å‘é‡åŒ– K-Means èšç±»ç®—æ³•</h1><h2 id="K-Means-æ˜¯ä¸€ç§ç»å…¸çš„æ— ç›‘ç£èšç±»ç®—æ³•ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®æŒ–æ˜ã€å›¾åƒå‹ç¼©ã€å®¢æˆ·åˆ†ç¾¤ç­‰é¢†åŸŸã€‚æœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥æ­¥ç†è§£å¹¶å®ç°ä¸€ä¸ªé«˜æ•ˆçš„å‘é‡åŒ–-K-Means-ç®—æ³•ï¼Œå¹¶é€šè¿‡-sklearn-åŠ è½½-Iris-æ•°æ®é›†è¿›è¡Œå®æˆ˜æ¼”ç¤ºã€‚"><a href="#K-Means-æ˜¯ä¸€ç§ç»å…¸çš„æ— ç›‘ç£èšç±»ç®—æ³•ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®æŒ–æ˜ã€å›¾åƒå‹ç¼©ã€å®¢æˆ·åˆ†ç¾¤ç­‰é¢†åŸŸã€‚æœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥æ­¥ç†è§£å¹¶å®ç°ä¸€ä¸ªé«˜æ•ˆçš„å‘é‡åŒ–-K-Means-ç®—æ³•ï¼Œå¹¶é€šè¿‡-sklearn-åŠ è½½-Iris-æ•°æ®é›†è¿›è¡Œå®æˆ˜æ¼”ç¤ºã€‚" class="headerlink" title="K-Means æ˜¯ä¸€ç§ç»å…¸çš„æ— ç›‘ç£èšç±»ç®—æ³•ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®æŒ–æ˜ã€å›¾åƒå‹ç¼©ã€å®¢æˆ·åˆ†ç¾¤ç­‰é¢†åŸŸã€‚æœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥æ­¥ç†è§£å¹¶å®ç°ä¸€ä¸ªé«˜æ•ˆçš„å‘é‡åŒ– K-Means ç®—æ³•ï¼Œå¹¶é€šè¿‡ sklearn åŠ è½½ Iris æ•°æ®é›†è¿›è¡Œå®æˆ˜æ¼”ç¤ºã€‚   "></a>K-Means æ˜¯ä¸€ç§ç»å…¸çš„æ— ç›‘ç£èšç±»ç®—æ³•ï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®æŒ–æ˜ã€å›¾åƒå‹ç¼©ã€å®¢æˆ·åˆ†ç¾¤ç­‰é¢†åŸŸã€‚æœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥æ­¥ç†è§£å¹¶å®ç°ä¸€ä¸ª<strong>é«˜æ•ˆçš„å‘é‡åŒ– K-Means ç®—æ³•</strong>ï¼Œå¹¶é€šè¿‡ <code>sklearn</code> åŠ è½½ Iris æ•°æ®é›†è¿›è¡Œå®æˆ˜æ¼”ç¤ºã€‚   </h2><h2 id="ğŸ“¦-ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡"><a href="#ğŸ“¦-ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡" class="headerlink" title="ğŸ“¦ ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡"></a>ğŸ“¦ ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡</h2><p>æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹åº“ï¼š   </p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-title">from</span> sklearn.cluster <span class="hljs-keyword">import</span> KMeans<br><span class="hljs-title">from</span> sklearn <span class="hljs-keyword">import</span> datasets<br><br></code></pre></td></tr></table></figure><h3 id="âœ…-æ•°æ®åŠ è½½"><a href="#âœ…-æ•°æ®åŠ è½½" class="headerlink" title="âœ… æ•°æ®åŠ è½½"></a>âœ… æ•°æ®åŠ è½½</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">iris</span> = datasets.load_iris()<br><span class="hljs-attr">X</span> = iris.data[:, :<span class="hljs-number">4</span>]<br><span class="hljs-attr">numberOfcluster</span> = len(iris.target_names)<br><br></code></pre></td></tr></table></figure><ul><li><code>X</code>: ç‰¹å¾çŸ©é˜µï¼ˆ150 Ã— 4ï¼‰   </li><li><code>numberOfcluster</code>: ç±»åˆ«æ•°ä¸º 3</li></ul><hr><h2 id="âš™ï¸-äºŒã€ä½¿ç”¨-sklearn-çš„-KMeans-è¿›è¡Œèšç±»"><a href="#âš™ï¸-äºŒã€ä½¿ç”¨-sklearn-çš„-KMeans-è¿›è¡Œèšç±»" class="headerlink" title="âš™ï¸ äºŒã€ä½¿ç”¨ sklearn çš„ KMeans è¿›è¡Œèšç±»"></a>âš™ï¸ äºŒã€ä½¿ç”¨ sklearn çš„ KMeans è¿›è¡Œèšç±»</h2><p>æˆ‘ä»¬å…ˆè°ƒç”¨ <code>sklearn.cluster.KMeans</code> å¿«é€Ÿå®Œæˆèšç±»ä»»åŠ¡ï¼š   </p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs abnf"><span class="hljs-attribute">estimator</span> <span class="hljs-operator">=</span> KMeans(n_clusters<span class="hljs-operator">=</span>numberOfcluster)<br>estimator.fit(X)<br>label_pred <span class="hljs-operator">=</span> estimator.labels_<br><br></code></pre></td></tr></table></figure><p>ç„¶åç»˜åˆ¶åŸå§‹æ•°æ®å’Œèšç±»åçš„ç»“æœå›¾ï¼š   </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs stylus">plt<span class="hljs-selector-class">.figure</span>(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))<br>plt<span class="hljs-selector-class">.subplot</span>(<span class="hljs-number">121</span>)<br>plt<span class="hljs-selector-class">.scatter</span>(X<span class="hljs-selector-attr">[:, 1]</span>, X<span class="hljs-selector-attr">[:, 2]</span>, c=<span class="hljs-string">&quot;red&quot;</span>, <span class="hljs-attribute">marker</span>=<span class="hljs-string">&#x27;o&#x27;</span>, label=<span class="hljs-string">&#x27;data&#x27;</span>) <br>plt<span class="hljs-selector-class">.xlabel</span>(<span class="hljs-string">&#x27;sepal length&#x27;</span>) <br>plt<span class="hljs-selector-class">.ylabel</span>(<span class="hljs-string">&#x27;sepal width&#x27;</span>) <br>plt<span class="hljs-selector-class">.legend</span>(loc=<span class="hljs-number">2</span>) <br><br>plt<span class="hljs-selector-class">.subplot</span>(<span class="hljs-number">122</span>)<br>x0 = X<span class="hljs-selector-attr">[label_pred == 0]</span> <br>x1 = X<span class="hljs-selector-attr">[label_pred == 1]</span> <br>x2 = X<span class="hljs-selector-attr">[label_pred == 2]</span> <br>plt<span class="hljs-selector-class">.scatter</span>(x0<span class="hljs-selector-attr">[:, 1]</span>, x0<span class="hljs-selector-attr">[:, 2]</span>, c=<span class="hljs-string">&quot;red&quot;</span>, <span class="hljs-attribute">marker</span>=<span class="hljs-string">&#x27;o&#x27;</span>, label=<span class="hljs-string">&#x27;label0&#x27;</span>) <br>plt<span class="hljs-selector-class">.scatter</span>(x1<span class="hljs-selector-attr">[:, 1]</span>, x1<span class="hljs-selector-attr">[:, 2]</span>, c=<span class="hljs-string">&quot;green&quot;</span>, <span class="hljs-attribute">marker</span>=<span class="hljs-string">&#x27;*&#x27;</span>, label=<span class="hljs-string">&#x27;label1&#x27;</span>) <br>plt<span class="hljs-selector-class">.scatter</span>(x2<span class="hljs-selector-attr">[:, 1]</span>, x2<span class="hljs-selector-attr">[:, 2]</span>, c=<span class="hljs-string">&quot;blue&quot;</span>, <span class="hljs-attribute">marker</span>=<span class="hljs-string">&#x27;+&#x27;</span>, label=<span class="hljs-string">&#x27;label2&#x27;</span>) <br>plt<span class="hljs-selector-class">.xlabel</span>(<span class="hljs-string">&#x27;sepal length&#x27;</span>) <br>plt<span class="hljs-selector-class">.ylabel</span>(<span class="hljs-string">&#x27;sepal width&#x27;</span>) <br>plt<span class="hljs-selector-class">.legend</span>(loc=<span class="hljs-number">2</span>) <br>plt<span class="hljs-selector-class">.show</span>()<br><br></code></pre></td></tr></table></figure><blockquote><p>âœ… ä½¿ç”¨ sklearn å¯ä»¥å¿«é€Ÿå®Œæˆèšç±»ï¼Œä½†äº†è§£å…¶å†…éƒ¨å®ç°æ›´æœ‰åŠ©äºæ·±å…¥ç†è§£ç®—æ³•åŸç† ã€‚   </p></blockquote><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250523191344622.png" alt="K-Means"></p><hr><h2 id="ğŸ§©-ä¸‰ã€æ‰‹åŠ¨å®ç°å‘é‡åŒ–-K-Means"><a href="#ğŸ§©-ä¸‰ã€æ‰‹åŠ¨å®ç°å‘é‡åŒ–-K-Means" class="headerlink" title="ğŸ§© ä¸‰ã€æ‰‹åŠ¨å®ç°å‘é‡åŒ– K-Means"></a>ğŸ§© ä¸‰ã€æ‰‹åŠ¨å®ç°å‘é‡åŒ– K-Means</h2><p>ä¸ºäº†æ›´æ·±å…¥ç†è§£ K-Means çš„å·¥ä½œåŸç†ï¼Œæˆ‘ä»¬å®ç°äº†<strong>å‘é‡åŒ–ç‰ˆæœ¬çš„ K-Means ç®—æ³•</strong>ï¼Œé¿å…äº†ä¼ ç»Ÿçš„åµŒå¥—å¾ªç¯ï¼Œæé«˜äº†è®¡ç®—æ•ˆç‡ã€‚   </p><h3 id="1-å‘é‡åŒ–è®¡ç®—è·ç¦»çŸ©é˜µ"><a href="#1-å‘é‡åŒ–è®¡ç®—è·ç¦»çŸ©é˜µ" class="headerlink" title="1. å‘é‡åŒ–è®¡ç®—è·ç¦»çŸ©é˜µ"></a>1. å‘é‡åŒ–è®¡ç®—è·ç¦»çŸ©é˜µ</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs maxima">def compute_distances(dataSet, centroids):<br>    m = dataSet.shape[<span class="hljs-number">0</span>]<br>    k = centroids.shape[<span class="hljs-number">0</span>]<br>    <span class="hljs-built_in">diff</span> = dataSet[:, <span class="hljs-built_in">np</span>.newaxis, :] - centroids[<span class="hljs-built_in">np</span>.newaxis, :, :]<br>    distances = <span class="hljs-built_in">np</span>.<span class="hljs-built_in">sum</span>(<span class="hljs-built_in">diff</span>**<span class="hljs-number">2</span>, axis=<span class="hljs-number">2</span>)<br>    <span class="hljs-built_in">return</span> distances<br><br></code></pre></td></tr></table></figure><ul><li>åˆ©ç”¨ NumPy å¹¿æ’­æœºåˆ¶ä¸€æ¬¡æ€§è®¡ç®—æ‰€æœ‰ç‚¹åˆ°è´¨å¿ƒçš„è·ç¦»ã€‚   </li><li>é¿å…åŒé‡ for å¾ªç¯ï¼Œæå‡æ€§èƒ½ ã€‚</li></ul><hr><h3 id="2-åˆ†é…æ ·æœ¬åˆ°æœ€è¿‘è´¨å¿ƒ"><a href="#2-åˆ†é…æ ·æœ¬åˆ°æœ€è¿‘è´¨å¿ƒ" class="headerlink" title="2. åˆ†é…æ ·æœ¬åˆ°æœ€è¿‘è´¨å¿ƒ"></a>2. åˆ†é…æ ·æœ¬åˆ°æœ€è¿‘è´¨å¿ƒ</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">assign_clusters</span>(<span class="hljs-params">distances</span>):<br>    <span class="hljs-keyword">return</span> np.argmin(distances, axis=<span class="hljs-number">1</span>)<br><br></code></pre></td></tr></table></figure><ul><li>æ²¿åˆ—æ–¹å‘å–æœ€å°å€¼ç´¢å¼•ï¼Œç¡®å®šæ¯ä¸ªæ ·æœ¬æ‰€å±ç°‡ã€‚</li></ul><hr><h3 id="3-éšæœºåˆå§‹åŒ–è´¨å¿ƒ"><a href="#3-éšæœºåˆå§‹åŒ–è´¨å¿ƒ" class="headerlink" title="3. éšæœºåˆå§‹åŒ–è´¨å¿ƒ"></a>3. éšæœºåˆå§‹åŒ–è´¨å¿ƒ</h3><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs fortran">def randomCenter(dataSet, k): <br>    m, n = dataSet.<span class="hljs-built_in">shape</span>  <br>    centroids = np.zeros((k, n))  <br>    for i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(k):  <br>        <span class="hljs-built_in">index</span> = <span class="hljs-built_in">int</span>(np.random.uniform(<span class="hljs-number">0</span>, m))   <br>        centroids[i, :] = dataSet[<span class="hljs-built_in">index</span>, :]  <br>    <span class="hljs-keyword">return</span> centroids<br><br></code></pre></td></tr></table></figure><ul><li>ä»æ•°æ®é›†ä¸­éšæœºé€‰æ‹© <code>k</code> ä¸ªæ ·æœ¬ä½œä¸ºåˆå§‹è´¨å¿ƒ ã€‚</li></ul><hr><h3 id="4-æ›´æ–°è´¨å¿ƒ"><a href="#4-æ›´æ–°è´¨å¿ƒ" class="headerlink" title="4. æ›´æ–°è´¨å¿ƒ"></a>4. æ›´æ–°è´¨å¿ƒ</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs maxima">def update_centroids(dataSet, cluster_indices, k):<br>    centroids = <span class="hljs-built_in">np</span>.zeros((k, dataSet.shape[<span class="hljs-number">1</span>]))<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(k):<br>        mask = (cluster_indices == j)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">np</span>.any(mask):<br>            centroids[j] = <span class="hljs-built_in">np</span>.<span class="hljs-built_in">mean</span>(dataSet[mask], axis=<span class="hljs-number">0</span>)<br>    <span class="hljs-built_in">return</span> centroids<br><br></code></pre></td></tr></table></figure><ul><li>å¯¹æ¯ä¸ªç°‡è®¡ç®—å‡å€¼ä½œä¸ºæ–°è´¨å¿ƒã€‚</li></ul><hr><h3 id="5-ä¸»å‡½æ•°ï¼šå‘é‡åŒ–-K-Means"><a href="#5-ä¸»å‡½æ•°ï¼šå‘é‡åŒ–-K-Means" class="headerlink" title="5. ä¸»å‡½æ•°ï¼šå‘é‡åŒ– K-Means"></a>5. ä¸»å‡½æ•°ï¼šå‘é‡åŒ– K-Means</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs scss">def <span class="hljs-built_in">KMeans_vectorized</span>(dataSet, k, max_iter=<span class="hljs-number">100</span>):<br>    centroids = <span class="hljs-built_in">randomCenter</span>(dataSet, k)<br>    <br>    for iter_num in <span class="hljs-built_in">range</span>(max_iter):<br>        distances = <span class="hljs-built_in">compute_distances</span>(dataSet, centroids)<br>        cluster_indices = <span class="hljs-built_in">assign_clusters</span>(distances)<br>        new_centroids = <span class="hljs-built_in">update_centroids</span>(dataSet, cluster_indices, k)<br><br>        if np.<span class="hljs-built_in">allclose</span>(centroids, new_centroids):<br>            break<br>        centroids = new_centroids<br>    return centroids, cluster_indices, iter_num<br><br></code></pre></td></tr></table></figure><ul><li>æ”¶æ•›æ¡ä»¶ï¼šæ–°æ—§è´¨å¿ƒå‡ ä¹ç›¸ç­‰æ—¶åœæ­¢è¿­ä»£ã€‚   </li><li>æœ€ç»ˆè¿”å›è´¨å¿ƒã€ç°‡æ ‡ç­¾å’Œè¿­ä»£æ¬¡æ•°ã€‚</li></ul><hr><h2 id="ğŸ“Š-å››ã€å¯è§†åŒ–èšç±»ç»“æœ"><a href="#ğŸ“Š-å››ã€å¯è§†åŒ–èšç±»ç»“æœ" class="headerlink" title="ğŸ“Š å››ã€å¯è§†åŒ–èšç±»ç»“æœ"></a>ğŸ“Š å››ã€å¯è§†åŒ–èšç±»ç»“æœ</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs stylus">plt<span class="hljs-selector-class">.figure</span>(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))<br>colors_list = <span class="hljs-selector-attr">[<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>]</span><br>markers_list = <span class="hljs-selector-attr">[<span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;s&#x27;</span>, <span class="hljs-string">&#x27;^&#x27;</span>]</span><br><br><span class="hljs-keyword">for</span> <span class="hljs-selector-tag">i</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(k):<br>    plt<span class="hljs-selector-class">.scatter</span>(<br>        dataSet<span class="hljs-selector-attr">[clusterAssment == i, 1]</span>, <br>        dataSet<span class="hljs-selector-attr">[clusterAssment == i, 3]</span>, <br>        c=colors_list<span class="hljs-selector-attr">[i]</span>, <br>        <span class="hljs-attribute">marker</span>=markers_list[i], <br>        label=f<span class="hljs-string">&#x27;Cluster &#123;i+1&#125;&#x27;</span><br>    )<br>    plt<span class="hljs-selector-class">.scatter</span>(<br>        centroids<span class="hljs-selector-attr">[i, 1]</span>, <br>        centroids<span class="hljs-selector-attr">[i, 3]</span>, <br>        c=colors_list<span class="hljs-selector-attr">[i]</span>, <br>        <span class="hljs-attribute">marker</span>=<span class="hljs-string">&#x27;x&#x27;</span>, <br>        s=<span class="hljs-number">100</span>, <br>        label=<span class="hljs-string">&#x27;Centroids&#x27;</span><br>    )<br><br>plt<span class="hljs-selector-class">.xlabel</span>(<span class="hljs-string">&#x27;Feature 0&#x27;</span>)<br>plt<span class="hljs-selector-class">.ylabel</span>(<span class="hljs-string">&#x27;Feature 1&#x27;</span>)<br>plt<span class="hljs-selector-class">.title</span>(f<span class="hljs-string">&#x27;KMeans Clustering Result in iter num: &#123;iter_num&#125;&#x27;</span>)<br>plt<span class="hljs-selector-class">.legend</span>()<br>plt<span class="hljs-selector-class">.show</span>()<br><br></code></pre></td></tr></table></figure><ul><li>ä¸åŒé¢œè‰²ä»£è¡¨ä¸åŒç°‡ã€‚   </li><li>ä¸åŒæ ‡è®°åŒºåˆ†ç°‡å†…ç‚¹ä¸è´¨å¿ƒã€‚</li></ul><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250523191351498.png" alt="K-Means"></p><hr><h2 id="ğŸ“Œ-äº”ã€æ€»ç»“"><a href="#ğŸ“Œ-äº”ã€æ€»ç»“" class="headerlink" title="ğŸ“Œ äº”ã€æ€»ç»“"></a>ğŸ“Œ äº”ã€æ€»ç»“</h2><table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">å‘é‡åŒ–å®ç°</td><td align="left">æå‡èšç±»é€Ÿåº¦ï¼Œé€‚ç”¨äºå¤§è§„æ¨¡æ•°æ®</td></tr><tr><td align="left">éšæœºåˆå§‹åŒ–</td><td align="left">ç®€å•æ˜“æ‡‚ï¼Œä½†å¯èƒ½é™·å…¥å±€éƒ¨æœ€ä¼˜</td></tr><tr><td align="left">æ”¶æ•›åˆ¤æ–­</td><td align="left">ä½¿ç”¨ <code>np.allclose()</code> é¿å…æ— é™è¿­ä»£</td></tr><tr><td align="left">å¯è§†åŒ–æ”¯æŒ</td><td align="left">å¸®åŠ©ç›´è§‚ç†è§£èšç±»æ•ˆæœ</td></tr></tbody></table><hr><h2 id="ğŸ“š-å…­ã€å‚è€ƒèµ„æ–™"><a href="#ğŸ“š-å…­ã€å‚è€ƒèµ„æ–™" class="headerlink" title="ğŸ“š å…­ã€å‚è€ƒèµ„æ–™"></a>ğŸ“š å…­ã€å‚è€ƒèµ„æ–™</h2><ul><li>[1] Scikit-learn å®˜æ–¹æ–‡æ¡£ï¼šKMeans èšç±»ä»‹ç»   </li><li>[2] KMeans åˆå§‹åŒ–æ–¹æ³•è¯¦è§£ï¼š<code>k-means++</code> vs <code>random</code>   </li><li>[3] NumPy å’Œ Matplotlib åœ¨æœºå™¨å­¦ä¹ ä¸­çš„åº”ç”¨   </li><li>[4] å‘é‡åŒ–è®¡ç®—æé«˜æ•ˆç‡çš„æ–¹æ³•</li></ul><hr><h1 id="ğŸ§ -ä½¿ç”¨-Python-å®ç°è‡ªå®šä¹‰-DBSCAN-èšç±»ç®—æ³•"><a href="#ğŸ§ -ä½¿ç”¨-Python-å®ç°è‡ªå®šä¹‰-DBSCAN-èšç±»ç®—æ³•" class="headerlink" title="ğŸ§  ä½¿ç”¨ Python å®ç°è‡ªå®šä¹‰ DBSCAN èšç±»ç®—æ³•"></a>ğŸ§  ä½¿ç”¨ Python å®ç°è‡ªå®šä¹‰ DBSCAN èšç±»ç®—æ³•</h1><h2 id="DBSCANï¼ˆDensity-Based-Spatial-Clustering-of-Applications-with-Noiseï¼‰æ˜¯ä¸€ç§åŸºäºå¯†åº¦çš„èšç±»ç®—æ³•ï¼Œèƒ½å¤Ÿå‘ç°ä»»æ„å½¢çŠ¶çš„ç°‡ï¼Œå¹¶ä¸”èƒ½è¯†åˆ«å‡ºå™ªå£°ç‚¹ã€‚æœ¬ç¯‡åšå®¢å°†å¸¦ä½ ä¸€æ­¥æ­¥å®ç°ä¸€ä¸ªé«˜æ•ˆçš„-è‡ªå®šä¹‰-DBSCAN-ç®—æ³•ï¼Œå¹¶ä½¿ç”¨æåæ ‡æ–¹å¼ç”Ÿæˆæµ‹è¯•æ ·æœ¬æ•°æ®é›†è¿›è¡ŒéªŒè¯ã€‚"><a href="#DBSCANï¼ˆDensity-Based-Spatial-Clustering-of-Applications-with-Noiseï¼‰æ˜¯ä¸€ç§åŸºäºå¯†åº¦çš„èšç±»ç®—æ³•ï¼Œèƒ½å¤Ÿå‘ç°ä»»æ„å½¢çŠ¶çš„ç°‡ï¼Œå¹¶ä¸”èƒ½è¯†åˆ«å‡ºå™ªå£°ç‚¹ã€‚æœ¬ç¯‡åšå®¢å°†å¸¦ä½ ä¸€æ­¥æ­¥å®ç°ä¸€ä¸ªé«˜æ•ˆçš„-è‡ªå®šä¹‰-DBSCAN-ç®—æ³•ï¼Œå¹¶ä½¿ç”¨æåæ ‡æ–¹å¼ç”Ÿæˆæµ‹è¯•æ ·æœ¬æ•°æ®é›†è¿›è¡ŒéªŒè¯ã€‚" class="headerlink" title="DBSCANï¼ˆDensity-Based Spatial Clustering of Applications with Noiseï¼‰æ˜¯ä¸€ç§åŸºäºå¯†åº¦çš„èšç±»ç®—æ³•ï¼Œèƒ½å¤Ÿå‘ç°ä»»æ„å½¢çŠ¶çš„ç°‡ï¼Œå¹¶ä¸”èƒ½è¯†åˆ«å‡ºå™ªå£°ç‚¹ã€‚æœ¬ç¯‡åšå®¢å°†å¸¦ä½ ä¸€æ­¥æ­¥å®ç°ä¸€ä¸ªé«˜æ•ˆçš„ è‡ªå®šä¹‰ DBSCAN ç®—æ³•ï¼Œå¹¶ä½¿ç”¨æåæ ‡æ–¹å¼ç”Ÿæˆæµ‹è¯•æ ·æœ¬æ•°æ®é›†è¿›è¡ŒéªŒè¯ã€‚   "></a>DBSCANï¼ˆDensity-Based Spatial Clustering of Applications with Noiseï¼‰æ˜¯ä¸€ç§åŸºäºå¯†åº¦çš„èšç±»ç®—æ³•ï¼Œèƒ½å¤Ÿå‘ç°ä»»æ„å½¢çŠ¶çš„ç°‡ï¼Œå¹¶ä¸”èƒ½è¯†åˆ«å‡ºå™ªå£°ç‚¹ã€‚æœ¬ç¯‡åšå®¢å°†å¸¦ä½ ä¸€æ­¥æ­¥å®ç°ä¸€ä¸ªé«˜æ•ˆçš„ <strong>è‡ªå®šä¹‰ DBSCAN ç®—æ³•</strong>ï¼Œå¹¶ä½¿ç”¨æåæ ‡æ–¹å¼ç”Ÿæˆæµ‹è¯•æ ·æœ¬æ•°æ®é›†è¿›è¡ŒéªŒè¯ã€‚   </h2><h2 id="ğŸ“¦-ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡-1"><a href="#ğŸ“¦-ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡-1" class="headerlink" title="ğŸ“¦ ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡"></a>ğŸ“¦ ä¸€ã€ç¯å¢ƒä¾èµ–ä¸æ•°æ®å‡†å¤‡</h2><p>æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹åº“ï¼š   </p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-title">from</span> scipy.spatial.distance <span class="hljs-keyword">import</span> cdist<br><br></code></pre></td></tr></table></figure><h3 id="âœ…-ç”Ÿæˆæµ‹è¯•æ ·æœ¬"><a href="#âœ…-ç”Ÿæˆæµ‹è¯•æ ·æœ¬" class="headerlink" title="âœ… ç”Ÿæˆæµ‹è¯•æ ·æœ¬"></a>âœ… ç”Ÿæˆæµ‹è¯•æ ·æœ¬</h3><p>æˆ‘ä»¬é€šè¿‡æåæ ‡ç”Ÿæˆä¸¤ä¸ªä¸åŒåŠå¾„èŒƒå›´å†…çš„æ ·æœ¬ç‚¹ï¼Œæ¨¡æ‹Ÿç¯å½¢åˆ†å¸ƒçš„æ•°æ®ï¼š   </p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs scss">def <span class="hljs-built_in">generate_sample</span>():<br>    number_of_samples = <span class="hljs-number">1000</span><br>    # å†…éƒ¨å°åœ†ï¼š<span class="hljs-number">20%</span> æ•°æ®<br>    theta = np.random.<span class="hljs-built_in">uniform</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>*np.pi, <span class="hljs-built_in">int</span>(<span class="hljs-number">0.2</span>*number_of_samples))<br>    r = np.<span class="hljs-built_in">sqrt</span>(np.random.<span class="hljs-built_in">uniform</span>(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-built_in">int</span>(<span class="hljs-number">0.2</span>*number_of_samples)))<br>    x = r * np.<span class="hljs-built_in">cos</span>(theta)<br>    y = r * np.<span class="hljs-built_in">sin</span>(theta)<br>    X_1 = np.<span class="hljs-built_in">column_stack</span>((x, y))<br><br>    # å¤–éƒ¨å¤§åœ†ï¼š<span class="hljs-number">80%</span> æ•°æ®<br>    theta = np.random.<span class="hljs-built_in">uniform</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>*np.pi, number_of_samples)<br>    r = np.<span class="hljs-built_in">sqrt</span>(np.random.<span class="hljs-built_in">uniform</span>(<span class="hljs-number">25</span>, <span class="hljs-number">36</span>, number_of_samples))<br>    x = r * np.<span class="hljs-built_in">cos</span>(theta)<br>    y = r * np.<span class="hljs-built_in">sin</span>(theta)<br>    X_2 = np.<span class="hljs-built_in">column_stack</span>((x, y))<br><br>    # å¯è§†åŒ–<br>    plt.<span class="hljs-built_in">figure</span>(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))<br>    plt.<span class="hljs-built_in">scatter</span>(X_1[:, <span class="hljs-number">0</span>], X_1[:, <span class="hljs-number">1</span>], color=<span class="hljs-string">&#x27;r&#x27;</span>)<br>    plt.<span class="hljs-built_in">scatter</span>(X_2[:, <span class="hljs-number">0</span>], X_2[:, <span class="hljs-number">1</span>], color=<span class="hljs-string">&#x27;b&#x27;</span>)<br>    plt.<span class="hljs-built_in">title</span>(<span class="hljs-string">&#x27;Generated Sample Data (Polar Coordinates)&#x27;</span>)<br>    plt.<span class="hljs-built_in">xlabel</span>(<span class="hljs-string">&#x27;X&#x27;</span>)<br>    plt.<span class="hljs-built_in">ylabel</span>(<span class="hljs-string">&#x27;Y&#x27;</span>)<br>    plt.<span class="hljs-built_in">show</span>()<br><br>    return np.<span class="hljs-built_in">vstack</span>((X_1, X_2))<br><br></code></pre></td></tr></table></figure><blockquote><p>âœ… è¯¥æ–¹æ³•å‚è€ƒäº†éšæœºé‡‡æ ·ç­–ç•¥ï¼Œé€‚ç”¨äºæµ‹è¯•å’Œå¯è§†åŒ–åˆ†æã€‚   </p></blockquote><hr><h2 id="âš™ï¸-äºŒã€DBSCAN-ç±»è®¾è®¡ä¸å®ç°"><a href="#âš™ï¸-äºŒã€DBSCAN-ç±»è®¾è®¡ä¸å®ç°" class="headerlink" title="âš™ï¸ äºŒã€DBSCAN ç±»è®¾è®¡ä¸å®ç°"></a>âš™ï¸ äºŒã€DBSCAN ç±»è®¾è®¡ä¸å®ç°</h2><h3 id="1-åˆå§‹åŒ–å‚æ•°"><a href="#1-åˆå§‹åŒ–å‚æ•°" class="headerlink" title="1. åˆå§‹åŒ–å‚æ•°"></a>1. åˆå§‹åŒ–å‚æ•°</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">class</span> <span class="hljs-variable constant_">DBSCAN</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, eps=<span class="hljs-number">3</span></span>):<br>        <span class="hljs-variable language_">self</span>.eps = eps<br>        <span class="hljs-variable language_">self</span>.value_threshold = <span class="hljs-number">750</span><br>        <span class="hljs-variable language_">self</span>.labels = <span class="hljs-title class_">None</span><br>        <span class="hljs-variable language_">self</span>.cluster_centers = []<br><br></code></pre></td></tr></table></figure><table><thead><tr><th align="left">å‚æ•°</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><code>eps</code></td><td align="left">é‚»åŸŸåŠå¾„ï¼Œç”¨äºåˆ¤æ–­é‚»è¿‘ç‚¹</td></tr><tr><td align="left"><code>value\_threshold</code></td><td align="left">å¯†åº¦å³°å€¼é€‰æ‹©é˜ˆå€¼</td></tr></tbody></table><hr><h3 id="2-è®¡ç®—è·ç¦»ä¸å¯†åº¦"><a href="#2-è®¡ç®—è·ç¦»ä¸å¯†åº¦" class="headerlink" title="2. è®¡ç®—è·ç¦»ä¸å¯†åº¦"></a>2. è®¡ç®—è·ç¦»ä¸å¯†åº¦</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">distances</span> = cdist(X, X, metric=<span class="hljs-string">&#x27;euclidean&#x27;</span>)<br><span class="hljs-attr">density</span> = np.sum(distances &lt; self.eps, axis=<span class="hljs-number">1</span>)<br><br></code></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ <code>cdist</code> ä¸€æ¬¡æ€§è®¡ç®—æ‰€æœ‰ç‚¹ä¹‹é—´çš„æ¬§æ°è·ç¦»   </li><li>æ¯ä¸ªç‚¹çš„å±€éƒ¨å¯†åº¦æ˜¯å…¶é‚»åŸŸå†…ç‚¹çš„æ•°é‡</li></ul><hr><h3 id="3-è®¡ç®—æœ€å°è·ç¦»"><a href="#3-è®¡ç®—æœ€å°è·ç¦»" class="headerlink" title="3. è®¡ç®—æœ€å°è·ç¦»"></a>3. è®¡ç®—æœ€å°è·ç¦»</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs stylus">min_distances = <span class="hljs-selector-attr">[]</span><br><span class="hljs-keyword">for</span> <span class="hljs-selector-tag">i</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_samples):<br>    greater_density_indices = np<span class="hljs-selector-class">.where</span>(density &gt; density<span class="hljs-selector-attr">[i]</span>)<span class="hljs-selector-attr">[0]</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(greater_density_indices) &gt; <span class="hljs-number">0</span>:<br>        min_distance = np<span class="hljs-selector-class">.min</span>(distances<span class="hljs-selector-attr">[i, greater_density_indices]</span>)<br>        min_distances<span class="hljs-selector-class">.append</span>(min_distance)<br>    <span class="hljs-keyword">else</span>:<br>        min_distances<span class="hljs-selector-class">.append</span>(np<span class="hljs-selector-class">.max</span>(distances<span class="hljs-selector-attr">[i]</span>))<br><br></code></pre></td></tr></table></figure><ul><li>å¯¹æ¯ä¸ªç‚¹ï¼Œæ‰¾åˆ°æ¯”å®ƒå¯†åº¦é«˜çš„ç‚¹ï¼Œå¹¶è®¡ç®—åˆ°è¿™äº›ç‚¹çš„æœ€å°è·ç¦»</li></ul><hr><h3 id="4-é€‰å–èšç±»ä¸­å¿ƒ"><a href="#4-é€‰å–èšç±»ä¸­å¿ƒ" class="headerlink" title="4. é€‰å–èšç±»ä¸­å¿ƒ"></a>4. é€‰å–èšç±»ä¸­å¿ƒ</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ruby">density_times_min_distance = density * np.array(min_distances)<br>idx = np.argsort(density_times_min_distance)[<span class="hljs-symbol">:</span><span class="hljs-symbol">:-</span><span class="hljs-number">1</span>]<br><br>mask = density_times_min_distance[idx] &gt; <span class="hljs-variable language_">self</span>.value_threshold<br>selected_indices = idx[mask]<br><span class="hljs-variable language_">self</span>.labels[selected_indices] = selected_indices<br><span class="hljs-variable language_">self</span>.cluster_centers.<span class="hljs-keyword">extend</span>(selected_indices.tolist())<br><br></code></pre></td></tr></table></figure><ul><li>é€šè¿‡ <code>density Ã— min\_distance</code> æ’åºï¼Œç»“åˆé˜ˆå€¼ç­›é€‰èšç±»ä¸­å¿ƒ</li></ul><hr><h3 id="5-å¹¿åº¦ä¼˜å…ˆæ‰©å±•èšç±»"><a href="#5-å¹¿åº¦ä¼˜å…ˆæ‰©å±•èšç±»" class="headerlink" title="5. å¹¿åº¦ä¼˜å…ˆæ‰©å±•èšç±»"></a>5. å¹¿åº¦ä¼˜å…ˆæ‰©å±•èšç±»</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs stylus">Have_labeled = <span class="hljs-selector-attr">[]</span><br><span class="hljs-keyword">for</span> <span class="hljs-selector-tag">label</span> <span class="hljs-keyword">in</span> cluster_centers<span class="hljs-selector-class">.keys</span>():<br>    queue_center = cluster_centers<span class="hljs-selector-attr">[label]</span><span class="hljs-selector-class">.copy</span>()<br>    Have_labeled<span class="hljs-selector-class">.extend</span>(queue_center)<br><br>    while queue_center:<br>        current = queue_center<span class="hljs-selector-class">.pop</span>(<span class="hljs-number">0</span>)<br>        neighbors = np<span class="hljs-selector-class">.where</span>(distances<span class="hljs-selector-attr">[current]</span> &lt; self.eps)<span class="hljs-selector-attr">[0]</span><br>        <span class="hljs-keyword">for</span> neighbor <span class="hljs-keyword">in</span> neighbors:<br>            <span class="hljs-keyword">if</span> neighbor not <span class="hljs-keyword">in</span> Have_labeled:<br>                self<span class="hljs-selector-class">.labels</span><span class="hljs-selector-attr">[neighbor]</span> = self<span class="hljs-selector-class">.labels</span><span class="hljs-selector-attr">[current]</span><br>                Have_labeled<span class="hljs-selector-class">.append</span>(neighbor)<br>                queue_center<span class="hljs-selector-class">.append</span>(neighbor)<br><br></code></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ BFS æ‰©å±•ç°‡ï¼Œå°†é‚»åŸŸç‚¹æ ‡è®°ä¸ºç›¸åŒæ ‡ç­¾</li></ul><hr><h3 id="6-ç»Ÿä¸€æ ‡ç­¾ç¼–å·"><a href="#6-ç»Ÿä¸€æ ‡ç­¾ç¼–å·" class="headerlink" title="6. ç»Ÿä¸€æ ‡ç­¾ç¼–å·"></a>6. ç»Ÿä¸€æ ‡ç­¾ç¼–å·</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs maxima">final_labels = <span class="hljs-built_in">np</span>.<span class="hljs-built_in">unique</span>(self.<span class="hljs-built_in">labels</span>)<br>label_map = &#123;<span class="hljs-built_in">label</span>: i <span class="hljs-keyword">for</span> i, <span class="hljs-built_in">label</span> <span class="hljs-keyword">in</span> enumerate(final_labels)&#125;<br><span class="hljs-keyword">if</span> -<span class="hljs-number">1</span> <span class="hljs-keyword">in</span> label_map:<br>    label_map[-<span class="hljs-number">1</span>] = -<span class="hljs-number">1</span><br>self.<span class="hljs-built_in">labels</span> = <span class="hljs-built_in">np</span>.<span class="hljs-built_in">array</span>([label_map[<span class="hljs-built_in">label</span>] <span class="hljs-keyword">for</span> <span class="hljs-built_in">label</span> <span class="hljs-keyword">in</span> self.<span class="hljs-built_in">labels</span>])<br><br></code></pre></td></tr></table></figure><ul><li>å°†åŸå§‹ç´¢å¼•æ ‡ç­¾æ˜ å°„ä¸ºè¿ç»­æ•´æ•°ï¼Œä¾¿äºåç»­å¤„ç†</li></ul><hr><h2 id="ğŸ“Š-ä¸‰ã€å¯è§†åŒ–èšç±»ç»“æœ"><a href="#ğŸ“Š-ä¸‰ã€å¯è§†åŒ–èšç±»ç»“æœ" class="headerlink" title="ğŸ“Š ä¸‰ã€å¯è§†åŒ–èšç±»ç»“æœ"></a>ğŸ“Š ä¸‰ã€å¯è§†åŒ–èšç±»ç»“æœ</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs stylus">unique_labels = np<span class="hljs-selector-class">.unique</span>(labels)<br>colors = plt<span class="hljs-selector-class">.get_cmap</span>(<span class="hljs-string">&#x27;tab10&#x27;</span>, <span class="hljs-built_in">len</span>(unique_labels))<br><br>plt<span class="hljs-selector-class">.figure</span>(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>))<br><span class="hljs-keyword">for</span> idx, <span class="hljs-selector-tag">label</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(unique_labels):<br>    <span class="hljs-selector-tag">mask</span> = labels == <span class="hljs-selector-tag">label</span><br>    plt<span class="hljs-selector-class">.scatter</span>(X<span class="hljs-selector-attr">[mask, 0]</span>, X<span class="hljs-selector-attr">[mask, 1]</span>, s=<span class="hljs-number">10</span>, <span class="hljs-attribute">color</span>=<span class="hljs-built_in">colors</span>(idx),<br>                label=f<span class="hljs-string">&#x27;Cluster &#123;label&#125;&#x27;</span> <span class="hljs-keyword">if</span> <span class="hljs-selector-tag">label</span> != -<span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;Noise&#x27;</span>)<br><br>plt<span class="hljs-selector-class">.title</span>(<span class="hljs-string">&#x27;DBSCAN Clustering Result&#x27;</span>)<br>plt<span class="hljs-selector-class">.xlabel</span>(<span class="hljs-string">&#x27;X1&#x27;</span>)<br>plt<span class="hljs-selector-class">.ylabel</span>(<span class="hljs-string">&#x27;X2&#x27;</span>)<br>plt<span class="hljs-selector-class">.legend</span>()<br>plt<span class="hljs-selector-class">.show</span>()<br><br></code></pre></td></tr></table></figure><ul><li>ä¸åŒé¢œè‰²ä»£è¡¨ä¸åŒç°‡   </li><li><code>-1</code> è¡¨ç¤ºå™ªå£°ç‚¹</li></ul><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250523191402097.png" alt="Raw division"><br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250523191407495.png" alt="DBSCAN"></p><hr><h2 id="ğŸ“Œ-å››ã€æ€»ç»“ä¸ä¼˜åŒ–å»ºè®®"><a href="#ğŸ“Œ-å››ã€æ€»ç»“ä¸ä¼˜åŒ–å»ºè®®" class="headerlink" title="ğŸ“Œ å››ã€æ€»ç»“ä¸ä¼˜åŒ–å»ºè®®"></a>ğŸ“Œ å››ã€æ€»ç»“ä¸ä¼˜åŒ–å»ºè®®</h2><table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">æåæ ‡ç”Ÿæˆæ ·æœ¬</td><td align="left">æ›´é€‚åˆç¯å½¢æˆ–çƒå½¢æ•°æ®é›†</td></tr><tr><td align="left">å‘é‡åŒ–æ“ä½œ</td><td align="left">æå‡æ€§èƒ½ï¼Œé¿å…åŒé‡å¾ªç¯</td></tr><tr><td align="left">æ”¯æŒå™ªå£°è¯†åˆ«</td><td align="left">æ˜¯ DBSCAN çš„æ ¸å¿ƒä¼˜åŠ¿ä¹‹ä¸€</td></tr><tr><td align="left">å¯è§†åŒ–æ¸…æ™°</td><td align="left">å¸®åŠ©ç†è§£èšç±»æ•ˆæœ</td></tr></tbody></table><h3 id="âœ…-ä¼˜åŒ–å»ºè®®ï¼š"><a href="#âœ…-ä¼˜åŒ–å»ºè®®ï¼š" class="headerlink" title="âœ… ä¼˜åŒ–å»ºè®®ï¼š"></a>âœ… ä¼˜åŒ–å»ºè®®ï¼š</h3><ul><li>ä½¿ç”¨ <code>K-D Tree</code> æˆ– <code>Ball Tree</code> åŠ é€Ÿé‚»åŸŸæŸ¥è¯¢   </li><li>æ›¿æ¢å›ºå®šé˜ˆå€¼ä¸ºåŠ¨æ€é€‰æ‹©ç­–ç•¥   </li><li>æ”¯æŒè‡ªåŠ¨ç¡®å®š <code>eps</code> å’Œ <code>min\_samples</code>   </li><li>ä½¿ç”¨ <code>numba</code> æˆ– <code>Cython</code> åŠ é€Ÿæ ¸å¿ƒå¾ªç¯éƒ¨åˆ†</li></ul><hr><h2 id="ğŸ“š-äº”ã€å‚è€ƒèµ„æ–™"><a href="#ğŸ“š-äº”ã€å‚è€ƒèµ„æ–™" class="headerlink" title="ğŸ“š äº”ã€å‚è€ƒèµ„æ–™"></a>ğŸ“š äº”ã€å‚è€ƒèµ„æ–™</h2><ul><li>[1] <code>scipy.spatial.distance.cdist</code> ç”¨æ³•   </li><li>[2] æµ‹è¯•æ ·æœ¬ç”Ÿæˆæ–¹æ³•   </li><li>[3] èšç±»ç®—æ³•åœ¨æœºå™¨å­¦ä¹ ä¸­çš„åº”ç”¨   </li><li>[4] DBSCAN ç®—æ³•åŸç†è¯¦è§£</li></ul><hr><p>ğŸ‰ æ„Ÿ**è°¢é˜…è¯»ï¼Œå¸Œæœ›è¿™ç¯‡åšå®¢å¯¹ä½ ç†è§£å’Œå®ç° DBSCAN èšç±»æœ‰æ‰€å¸®åŠ©ï¼   </p>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>AI</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>3Då»ºæ¨¡ä¸‹çš„å‚æ•°ä¼°è®¡</title>
    <link href="/2025/05/20/3D_Positioning_estimation/"/>
    <url>/2025/05/20/3D_Positioning_estimation/</url>
    
    <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>åœ¨ä¿¡å·å¤„ç†é¢†åŸŸï¼Œå‚æ•°ä¼°è®¡æ˜¯å®ç°ç›®æ ‡è¯†åˆ«ä¸å®šä½çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ã€‚ç»å…¸è®ºæ–‡ã€ŠESPRIT: Estimation of Signal Parameters via Rotational Invariance Techniquesã€‹æå‡ºäº†åŸºäºæ—‹è½¬ä¸å˜æ€§çš„è¶…åˆ†è¾¨ç‡å‚æ•°ä¼°è®¡ç®—æ³•ï¼Œè€Œã€ŠMultiple Emitter Location and Signal Parameter Estimationã€‹åˆ™è¿›ä¸€æ­¥æ‹“å±•äº†å¤šä¿¡å·æºå®šä½çš„ç†è®ºæ¡†æ¶ã€‚æœ¬æ–‡ç»“åˆåŸå§‹æ€æƒ³ä¸æœ€æ–°æ”¹è¿›ç®—æ³•ï¼Œæ¢è®¨3Då»ºæ¨¡ä¸‹çš„å‚æ•°ä¼°è®¡æ–¹æ³•ã€‚</p><hr><h2 id="ESPRITç®—æ³•æ ¸å¿ƒæ€æƒ³"><a href="#ESPRITç®—æ³•æ ¸å¿ƒæ€æƒ³" class="headerlink" title="ESPRITç®—æ³•æ ¸å¿ƒæ€æƒ³"></a>ESPRITç®—æ³•æ ¸å¿ƒæ€æƒ³</h2><h3 id="æ—‹è½¬ä¸å˜æ€§åŸç†"><a href="#æ—‹è½¬ä¸å˜æ€§åŸç†" class="headerlink" title="æ—‹è½¬ä¸å˜æ€§åŸç†"></a>æ—‹è½¬ä¸å˜æ€§åŸç†</h3><p>ESPRITç®—æ³•çš„æ ¸å¿ƒåœ¨äºåˆ©ç”¨ä¿¡å·å­ç©ºé—´çš„æ—‹è½¬ä¸å˜æ€§[[4]]ã€‚é€šè¿‡æ„å»ºä¸¤ä¸ªå­˜åœ¨ä½ç§»å…³ç³»çš„ä¼ æ„Ÿå™¨é˜µåˆ—ï¼Œå…¶æ¥æ”¶ä¿¡å·æ»¡è¶³ï¼š<br>$$<br>\mathbf{X}_2 &#x3D; \mathbf{X}_1 \mathbf{\Phi}<br>$$<br>å…¶ä¸­ $\mathbf{\Phi}$ ä¸ºåŒ…å«ä¿¡å·åˆ°è¾¾è§’ï¼ˆDOAï¼‰ä¿¡æ¯çš„å¯¹è§’çŸ©é˜µã€‚é€šè¿‡å¯¹ä¿¡å·å­ç©ºé—´è¿›è¡Œå¥‡å¼‚å€¼åˆ†è§£ï¼ˆSVDï¼‰ï¼Œå¯ç›´æ¥ä»çŸ©é˜µ $\mathbf{\Phi}$ ä¸­æå–ä¿¡å·å‚æ•°[[4]]ã€‚</p><h3 id="å­ç©ºé—´åˆ†è§£"><a href="#å­ç©ºé—´åˆ†è§£" class="headerlink" title="å­ç©ºé—´åˆ†è§£"></a>å­ç©ºé—´åˆ†è§£</h3><p>åŸå§‹ESPRITé€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°å‚æ•°ä¼°è®¡ï¼š</p><ol><li>æ„é€ é˜µåˆ—åæ–¹å·®çŸ©é˜µå¹¶è¿›è¡Œç‰¹å¾å€¼åˆ†è§£ï¼›</li><li>åˆ†ç¦»ä¿¡å·å­ç©ºé—´ä¸å™ªå£°å­ç©ºé—´ï¼›</li><li>åˆ©ç”¨å­é˜µåˆ—é—´çš„å¹³ç§»å…³ç³»æ±‚è§£æ—‹è½¬çŸ©é˜µ $\mathbf{\Psi}$ï¼›</li><li>é€šè¿‡ç‰¹å¾åˆ†è§£è·å¾—ä¿¡å·çš„æ³¢è¾¾æ–¹å‘ï¼ˆDOAï¼‰[[4]]ã€‚</li></ol><hr><h2 id="MUSICç®—æ³•æ ¸å¿ƒæ€æƒ³"><a href="#MUSICç®—æ³•æ ¸å¿ƒæ€æƒ³" class="headerlink" title="MUSICç®—æ³•æ ¸å¿ƒæ€æƒ³"></a>MUSICç®—æ³•æ ¸å¿ƒæ€æƒ³</h2><h3 id="æ ¸å¿ƒæ€æƒ³"><a href="#æ ¸å¿ƒæ€æƒ³" class="headerlink" title="æ ¸å¿ƒæ€æƒ³"></a>æ ¸å¿ƒæ€æƒ³</h3><ol><li><p><strong>ä¿¡å·å­ç©ºé—´ä¸å™ªå£°å­ç©ºé—´åˆ†ç¦»</strong><br>è®ºæ–‡æå‡ºåˆ©ç”¨åæ–¹å·®çŸ©é˜µç‰¹å¾å€¼åˆ†è§£ï¼Œå°†ä¿¡å·ç©ºé—´åˆ’åˆ†ä¸ºä¿¡å·å­ç©ºé—´ï¼ˆç”±å¤§ç‰¹å¾å€¼å¯¹åº”ç‰¹å¾å‘é‡å¼ æˆï¼‰å’Œå™ªå£°å­ç©ºé—´ï¼ˆç”±å°ç‰¹å¾å€¼å¯¹åº”ç‰¹å¾å‘é‡å¼ æˆï¼‰ã€‚ä¸¤è€…æ­£äº¤çš„ç‰¹æ€§æˆä¸ºå‚æ•°ä¼°è®¡çš„å…³é”® [[2]][[9]]ã€‚</p></li><li><p><strong>ç©ºé—´è°±æœç´¢</strong><br>é€šè¿‡æ„å»ºå¦‚ä¸‹MUSICè°±å‡½æ•°å®ç°ä¿¡å·æºå®šä½ï¼š<br>$$<br>P_{\text{MUSIC}}(\theta) &#x3D; \frac{1}{\mathbf{a}(\theta)^H \mathbf{E}_n \mathbf{E}_n^H \mathbf{a}(\theta)}<br>$$<br>å…¶ä¸­ $\mathbf{E}_n$ ä¸ºå™ªå£°å­ç©ºé—´ï¼Œ$\mathbf{a}(\theta)$ ä¸ºé˜µåˆ—æµå½¢å‘é‡ã€‚å½“ $\theta$ æ‰«æåˆ°çœŸå®ä¿¡å·æ–¹å‘æ—¶ï¼Œåˆ†æ¯è¶‹è¿‘äºé›¶ï¼Œè°±å³°ä½ç½®å³å¯¹åº”ä¿¡å·æºæ–¹å‘ [[3]][[9]]ã€‚</p></li></ol><hr><h2 id="æ‰©å±•åˆ°ä¸‰ç»´ç©ºé—´ä¸‹çš„ä¼°è®¡"><a href="#æ‰©å±•åˆ°ä¸‰ç»´ç©ºé—´ä¸‹çš„ä¼°è®¡" class="headerlink" title="æ‰©å±•åˆ°ä¸‰ç»´ç©ºé—´ä¸‹çš„ä¼°è®¡"></a>æ‰©å±•åˆ°ä¸‰ç»´ç©ºé—´ä¸‹çš„ä¼°è®¡</h2><p>éšç€5Gé€šæ„Ÿä¸€ä½“åŒ–å’Œæ™ºèƒ½æ„ŸçŸ¥çš„å‘å±•ï¼Œå®é™…åº”ç”¨ä¸­å¯¹ä¸‰ç»´ç©ºé—´ï¼ˆæ–¹ä½è§’ã€ä¿¯ä»°è§’ã€è·ç¦»ç­‰ï¼‰å‚æ•°çš„é«˜ç²¾åº¦ä¼°è®¡æå‡ºäº†æ›´é«˜è¦æ±‚ã€‚ä¼ ç»ŸMUSICå’ŒESPRITç®—æ³•ä¸»è¦é’ˆå¯¹äºŒç»´ï¼ˆå¦‚ä»…ä¼°è®¡æ–¹ä½è§’ï¼‰ï¼Œè€Œä¸‰ç»´åœºæ™¯ä¸‹éœ€è¦å¯¹ä¿¡å·çš„å¤šä¸ªç©ºé—´å‚æ•°è¿›è¡Œè”åˆä¼°è®¡ã€‚</p><h3 id="ä¸‰ç»´ESPRITç®—æ³•"><a href="#ä¸‰ç»´ESPRITç®—æ³•" class="headerlink" title="ä¸‰ç»´ESPRITç®—æ³•"></a>ä¸‰ç»´ESPRITç®—æ³•</h3><p>ä¸‰ç»´ESPRITç®—æ³•éœ€è¦å¹³é¢æˆ–è€…ç«‹ä½“çš„å¤©çº¿é˜µåˆ—æµå½¢ï¼Œè¿™é‡Œæˆ‘ä»¬ä»¥å¹³é¢é˜µåˆ—æµå½¢ä¸ºä¾‹ï¼Œä¸”ç›¸é‚»çš„å¤©çº¿ä¹‹é—´çš„é—´è·ç›¸ç­‰ï¼Œå³å‡åŒ€å¹³é¢å¤©çº¿ï¼ˆUPAï¼‰ï¼›</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250520101247882.png" alt="UPA"></p><p>é€šè¿‡å°†ä¿¡å·çš„æ³¢è¾¾è§’åˆ†è§£ä¸ºæ°´å¹³çš„æ–¹ä½è§’ä»¥åŠå‚ç›´çš„ä¿¯ä»°è§’ï¼Œå¯ä»¥å°†ä¿¡å·åˆ°è¾¾ä¸åŒå¤©çº¿çš„è·¯ç¨‹å·®é€šè¿‡å¤©çº¿é—´è·$d$ã€æ–¹ä½è§’$\phi$ä»¥åŠä¿¯ä»°è§’$\theta$è”åˆè¡¨ç¤ºï¼š</p><p>$$<br>\Delta \lambda_{m,n} &#x3D; d \left[ (m-1)\sin\theta\cos\phi + (n-1)\sin\theta\sin\phi \right]<br>$$</p><p>ç”±äºå¤©çº¿ä¹‹é—´çš„é—´éš”ä»¥åŠæ³¢è¾¾è§’å¯¼è‡´çš„ä¿¡å·åˆ°è¾¾å¤©çº¿é˜µåˆ—æ‰€ç»å†çš„æ—¶é—´ä¸åŒï¼Œæ„å‘³ç€ä¿¡å·åˆ°è¾¾ä¸åŒå¤©çº¿çš„ç›¸ä½ä¹Ÿä¸ä¸€æ ·ã€‚ç”±äºæ˜¯å‡åŒ€åˆ†å¸ƒçš„å¤©çº¿ï¼Œæˆ‘ä»¬å¯ä»¥æ¨æµ‹ï¼Œç›¸é‚»å¤©çº¿ä¹‹é—´çš„ç›¸ä½å·®æ˜¯ä¸€ä¸ªå®šå€¼ï¼Œå› æ­¤å¯ä»¥é€šè¿‡é€‰æ‹©å¤©çº¿å¯¹ï¼Œç„¶åç”±ESPRITçš„ç®—æ³•å¾—åˆ°æ—‹è½¬ä¸å˜æ€§ï¼Œä»è€Œè®¡ç®—å¾—åˆ°ä¸¤ä¸ªå‚æ•°ï¼š$\sin\theta\cos\phi$ ä»¥åŠ $\sin\theta\sin\phi$ï¼Œä¹‹åä¾¿å¯ä»¥è½»æ¾çš„è®¡ç®—å‡ºæˆ‘ä»¬éœ€è¦çš„æ–¹ä½è§’$\phi$ä»¥åŠä¿¯ä»°è§’$\theta$ã€‚</p><h3 id="ä¸‰ç»´ESPRITç®—æ³•çš„éš¾ç‚¹"><a href="#ä¸‰ç»´ESPRITç®—æ³•çš„éš¾ç‚¹" class="headerlink" title="ä¸‰ç»´ESPRITç®—æ³•çš„éš¾ç‚¹"></a>ä¸‰ç»´ESPRITç®—æ³•çš„éš¾ç‚¹</h3><p>è¿™é‡Œçš„éš¾ç‚¹åœ¨äºï¼Œå¯¹æ¥æ”¶åˆ°çš„ä¿¡å·åšä¿¡é“ä¼°è®¡ä»¥åŠä¿¡é“è¡¥å¿ä¸€ç³»åˆ—æ“ä½œåå¾—åˆ°çš„ä¿¡é“å“åº”æ˜¯æ‰€æœ‰å¤©çº¿é˜µåˆ—æ¥æ”¶ä¿¡é“çš„å åŠ ï¼Œä»ä¿¡é“å“åº”çš„å½¢çŠ¶ä¸Šæ¥è¯´å·²ç»æ²¡æœ‰äº†å¤©çº¿é˜µåˆ—çš„å½¢çŠ¶ä¿¡æ¯ï¼Œ<strong>å¦‚ä½•å°†ä¿¡é“å“åº”$H$é‡æ–°å¡‘å½¢</strong>åˆ™æ˜¯ä¸€å¤§éš¾é¢˜ã€‚</p><p>å¯¹äºå¦‚ä½•è·å¾—ä¿¡é“å“åº”ï¼Œä»æ„ŸçŸ¥çš„è§’åº¦è€Œè¨€ï¼Œå°†ä¸åŒå‚æ•°å¯¹åº”çš„å¯¼å‘çŸ¢é‡åšå…‹ç½—å†…å…‹ç§¯ä¾¿å¾—åˆ°äº†ä¿¡é“å“åº”ï¼š</p><p>$$<br>H &#x3D; a_{aoa} \otimes a_{zoa}<br>$$</p><p>è¿™é‡Œçš„$\otimes$ä»£è¡¨å…‹ç½—å†…å…‹ç§¯ï¼ˆkronecker productï¼‰ï¼Œ$a_{x}$è¡¨ç¤ºä¸ºæŸä¸ªå‚æ•°çš„å¯¼å‘çŸ¢é‡ã€‚è¿™é‡Œå¾—åˆ°çš„æ˜¯ç†æƒ³ä¿¡é“å“åº”ï¼Œå¯ä»¥æ·»åŠ åŠ æ€§é«˜æ–¯ç™½å™ªå£°ä»¥æ¨¡ä»¿å®é™…çš„ä¿¡é“å“åº”ã€‚</p><h3 id="ä¸‰ç»´ESPRITç®—æ³•çš„å…·ä½“å®ç°"><a href="#ä¸‰ç»´ESPRITç®—æ³•çš„å…·ä½“å®ç°" class="headerlink" title="ä¸‰ç»´ESPRITç®—æ³•çš„å…·ä½“å®ç°"></a>ä¸‰ç»´ESPRITç®—æ³•çš„å…·ä½“å®ç°</h3><p>è”åˆå¯¼å‘çŸ¢é‡çš„å®šä¹‰å¯ä»¥ç”¨xæ–¹å‘å¤©çº¿çš„å¯¼å‘çŸ¢é‡ä¸yæ–¹å‘å¤©çº¿çš„å¯¼å‘çŸ¢é‡åšå…‹ç½—å†…å…‹ç§¯å¾—åˆ°</p><p>$$ A &#x3D; A_{x} \otimes A_{y} $$</p><p>ä¹Ÿå¯ä»¥é€šè¿‡ç›´æ¥çš„å®šä¹‰å¾—åˆ°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ„å»ºäºŒç»´é˜µåˆ—å“åº”</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">steering_vector_2d</span>(<span class="hljs-params">az_deg, el_deg</span>):<br>    <span class="hljs-comment">#^ è§’åº¦å€¼è½¬å¼§åº¦åˆ¶</span><br>    az = np.radians(az_deg) <span class="hljs-comment"># æ–¹ä½è§’</span><br>    el = np.radians(el_deg) <span class="hljs-comment"># ä¿¯ä»°è§’</span><br>    kx = np.sin(el) * np.cos(az)<br>    ky = np.sin(el) * np.sin(az)<br>    a = np.zeros((Mx, My), dtype=<span class="hljs-built_in">complex</span>)<br>    <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(Mx):<br>        <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(My):<br>            a[m, n] = np.exp(-<span class="hljs-number">1j</span> * <span class="hljs-number">2</span> * np.pi * (dx * m * kx + dy * n * ky) / wavelength)<br>    <span class="hljs-keyword">return</span> a.flatten()<br></code></pre></td></tr></table></figure><p>æ¥æ”¶ä¿¡å·çŸ©é˜µå¯ä»¥å…·ä½“è¡¨ç°ä¸º</p><p>$$ X &#x3D; AS + N $$</p><p>å…¶ä¸­çš„$A_{M, K}$ä¸ºæ¥æ”¶çŸ©é˜µçš„é˜µåˆ—å“åº”ï¼Œ$S_{K, snapshots}$ä¸º$N$ä¸ªä¿¡å·æºåœ¨æ¥æ”¶å¤©çº¿çš„é‡‡æ ·å€¼ï¼Œ$N_{M, snapshots}$ä¸ºå™ªå£°ã€‚</p><p>å¯¹æ¥æ”¶ä¿¡å·ç›´æ¥åšSVDï¼Œå¯ä»¥å¾—åˆ°æ¥æ”¶ä¿¡å·çš„åæ–¹å·®çŸ©é˜µä»¥åŠä¿¡å·å­ç©ºé—´å’Œå™ªå£°å­ç©ºé—´çš„åŸº</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åæ–¹å·®çŸ©é˜µä¼°è®¡ä¸SVDåˆ†è§£</span><br>R = X @ X.conj().T / snapshots  <span class="hljs-comment">#^ [M, M]çš„åæ–¹å·®çŸ©é˜µ</span><br>U, _, _ = svd(R)<br>Us = U[:, :K]                   <span class="hljs-comment">#^ [M, K]çš„ä¿¡å·å­ç©ºé—´çŸ©é˜µ</span><br></code></pre></td></tr></table></figure><p>å…¶ä¸­ç‰¹å¾å‘é‡çš„é€‰æ‹©å–å†³äºä¿¡å·æºçš„ä¸ªæ•°ï¼Œä¸”å½¢çŠ¶ä¸º<strong>å¤©çº¿æ•°Xä¿¡å·æºæ•°</strong>,å¯¹æ¯ä¸€ä¸ªç‰¹å¾å‘é‡è¿›è¡Œé‡æ–°å¡‘å½¢ï¼Œå…·ä½“æ€æƒ³ä¸ºé€‰æ‹©å‰$row - 1$å¤©çº¿é˜µå…ƒçš„å“åº”å’Œå$row - 1$å¤©çº¿é˜µå…ƒçš„å“åº”ï¼Œé€šè¿‡ESPRITç®—æ³•å¯ä»¥å¾—åˆ°ç›¸ä½åå·®ï¼Œå¯¹åº”äºxè½´æ–¹å‘å¤©çº¿é˜µå…ƒä¹‹é—´çš„ç›¸ä½åç§»$\sin\theta\cos\phi$ã€‚åŒç†é€‰æ‹©å‰$col - 1$å¤©çº¿é˜µå…ƒçš„å“åº”å’Œå$col - 1$å¤©çº¿é˜µå…ƒçš„å“åº”å¯ä»¥è®¡ç®—å‡ºyè½´æ–¹å‘å¤©çº¿é˜µå…ƒä¹‹é—´çš„ç›¸ä½åç§»$\sin\theta\sin\phi$ï¼Œä»è€Œå¾—åˆ°æ³¢è¾¾è§’ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ„é€ ç§»ä½å­é˜µåˆ—ç´¢å¼•</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">shift_indices</span>(<span class="hljs-params">dim_x, dim_y, axis</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    å‡½æ•°ä½œç”¨: å…ˆæ„å»ºä¸€ä¸ªdim_x * dim_yçš„äºŒç»´çŸ©é˜µ ç´¢å¼•ä»(0, 0)åˆ°(dim_x-1, dim_y-1)</span><br><span class="hljs-string"></span><br><span class="hljs-string">    å¦‚æœä¼ å…¥axis=0 åˆ™å°†è¡Œè¿›è¡Œåˆ é™¤æ“ä½œ ç„¶åæŒ‰ç…§è¡Œçš„é¡ºåº é¡ºæ¬¡å­˜å–ä¸ºä¸€ä¸ªä¸€ç»´çš„index å¦‚0ã€1ã€2ã€...æˆ–è€…6ã€7ã€8ã€...</span><br><span class="hljs-string">    å¦‚æœä¼ å…¥axis=1 åˆ™å°†åˆ—è¿›è¡Œåˆ é™¤æ“ä½œ ç„¶åæŒ‰ç…§è¡Œçš„é¡ºåº é¡ºæ¬¡å­˜å–ä¸ºä¸€ä¸ªä¸€ç»´çš„index å¦‚0ã€1ã€2ã€3ã€4ã€6ã€...æˆ–è€…1ã€2ã€3ã€4ã€5ã€7ã€...</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> axis == <span class="hljs-number">0</span>:  <span class="hljs-comment"># x æ–¹å‘ï¼ˆå‚ç›´æ–¹å‘ï¼‰ç§»ä½</span><br>        rows = np.arange(dim_x - <span class="hljs-number">1</span>)<br>        idx1 = np.ravel_multi_index(np.meshgrid(rows, np.arange(dim_y), indexing=<span class="hljs-string">&#x27;ij&#x27;</span>), (dim_x, dim_y))<br>        idx2 = np.ravel_multi_index(np.meshgrid(rows + <span class="hljs-number">1</span>, np.arange(dim_y), indexing=<span class="hljs-string">&#x27;ij&#x27;</span>), (dim_x, dim_y))<br>    <span class="hljs-keyword">elif</span> axis == <span class="hljs-number">1</span>:  <span class="hljs-comment"># y æ–¹å‘ï¼ˆæ°´å¹³æ–¹å‘ï¼‰ç§»ä½</span><br>        cols = np.arange(dim_y - <span class="hljs-number">1</span>)<br>        idx1 = np.ravel_multi_index(np.meshgrid(np.arange(dim_x), cols, indexing=<span class="hljs-string">&#x27;ij&#x27;</span>), (dim_x, dim_y))<br>        idx2 = np.ravel_multi_index(np.meshgrid(np.arange(dim_x), cols + <span class="hljs-number">1</span>, indexing=<span class="hljs-string">&#x27;ij&#x27;</span>), (dim_x, dim_y))<br>    <span class="hljs-keyword">return</span> idx1.flatten(), idx2.flatten()<br><br><span class="hljs-comment"># è·å–ä¸¤ä¸ªæ–¹å‘çš„å­é˜µåˆ—</span><br>Ux1_idx, Ux2_idx = shift_indices(Mx, My, axis=<span class="hljs-number">0</span>)<br>Uy1_idx, Uy2_idx = shift_indices(Mx, My, axis=<span class="hljs-number">1</span>)<br><br>Ux1 = Us[Ux1_idx, :]<br>Ux2 = Us[Ux2_idx, :]<br>Uy1 = Us[Uy1_idx, :]<br>Uy2 = Us[Uy2_idx, :]<br><br><span class="hljs-comment"># åˆ†åˆ«è®¡ç®—xæ–¹å‘å’Œyæ–¹å‘çš„PsiçŸ©é˜µ</span><br>Psi_x = pinv(Ux1) @ Ux2<br>Psi_y = pinv(Uy1) @ Uy2<br><br><span class="hljs-comment"># æ±‚è§£ç‰¹å¾å€¼å¹¶ä¼°è®¡æ–¹å‘ä½™å¼¦</span><br>eigvals_x, _ = eig(Psi_x)<br>eigvals_y, _ = eig(Psi_y)<br><br>angles_x = np.angle(eigvals_x)<br>angles_y = np.angle(eigvals_y)<br><br>kx_est = angles_x * wavelength / (<span class="hljs-number">2</span> * np.pi * dx)<br>ky_est = angles_y * wavelength / (<span class="hljs-number">2</span> * np.pi * dy)<br></code></pre></td></tr></table></figure><p>ä»£ç ä¸­å®šä¹‰çš„å‡½æ•°<code>shift_indices</code>ä¸­æ ¹æ®æ¥æ”¶å¤©çº¿çš„å½¢çŠ¶å®šä¹‰æ¯æ ¹å¤©çº¿çš„ç´¢å¼•ï¼Œxæ–¹å‘å’Œyæ–¹å‘ä¸Šåˆ†åˆ«å–å­é˜µåˆ—çš„é˜µå…ƒç´¢å¼•ï¼Œå…·ä½“å¯ä»¥çœ‹å‡½æ•°çš„è§£æã€‚å†é€šè¿‡ç´¢å¼•é€‰å–ç‰¹å¾å‘é‡ä¸­çš„å…ƒç´ ï¼Œé€šè¿‡ESPRITçš„ç®—æ³•ä¾¿å¯ä»¥å¾—åˆ°ä¸åŒæ–¹å‘ä¸Šå¤©çº¿é˜µå…ƒä¹‹é—´çš„ä¿¡å·ç›¸ä½å·®ï¼Œå†ç”±ç›¸ä½å·®ä¾¿å¯ä»¥è½»æ¾çš„å¾—åˆ°æ³¢è¾¾è§’ã€‚</p><h3 id="ä¸‰ç»´MUSICç®—æ³•"><a href="#ä¸‰ç»´MUSICç®—æ³•" class="headerlink" title="ä¸‰ç»´MUSICç®—æ³•"></a>ä¸‰ç»´MUSICç®—æ³•</h3><p>ä¸‰ç»´MUSICç®—æ³•é€šå¸¸åŸºäºä¸‰ç»´é˜µåˆ—ï¼ˆå¦‚å¹³é¢é˜µåˆ—æˆ–ç«‹ä½“é˜µåˆ—ï¼‰ï¼Œå…¶æ ¸å¿ƒæ€æƒ³ä¸äºŒç»´ç±»ä¼¼ï¼Œä½†éœ€è¦æ„é€ ä¸‰ç»´ç©ºé—´çš„é˜µåˆ—æµå½¢å‘é‡ $\mathbf{a}(\theta, \phi, r)$ï¼Œå¹¶åœ¨ä¸‰ç»´å‚æ•°ç©ºé—´å†…è¿›è¡Œè°±å³°æœç´¢ï¼š</p><p>$$<br>P_{\text{MUSIC}}(\theta, \phi, r) &#x3D; \frac{1}{\mathbf{a}(\theta, \phi, r)^H \mathbf{E}_n \mathbf{E}_n^H \mathbf{a}(\theta, \phi, r)}<br>$$</p><p>å…¶ä¸­ï¼Œ$\theta$ ä¸ºæ–¹ä½è§’ï¼Œ$\phi$ ä¸ºä¿¯ä»°è§’ï¼Œ$r$ å¯ä¸ºè·ç¦»æˆ–æåŒ–ç­‰å‚æ•°ã€‚é€šè¿‡åœ¨ä¸‰ç»´å‚æ•°ç©ºé—´å†…æœç´¢è°±å³°ï¼Œå®ç°å¯¹ä¿¡å·æºç©ºé—´ä½ç½®çš„ç²¾ç¡®ä¼°è®¡ã€‚è¯¥æ–¹æ³•åˆ†è¾¨ç‡é«˜ï¼Œä½†è®¡ç®—é‡å¤§ï¼Œå¸¸éœ€ç»“åˆé™ç»´æˆ–å¹¶è¡Œè®¡ç®—ä¼˜åŒ–ã€‚</p><h3 id="äº’ç´ é˜µåˆ—æµå½¢â€”â€”é™ç»´MUSICç®—æ³•"><a href="#äº’ç´ é˜µåˆ—æµå½¢â€”â€”é™ç»´MUSICç®—æ³•" class="headerlink" title="äº’ç´ é˜µåˆ—æµå½¢â€”â€”é™ç»´MUSICç®—æ³•"></a>äº’ç´ é˜µåˆ—æµå½¢â€”â€”é™ç»´MUSICç®—æ³•</h3><p>å‡åŒ€å¹³é¢é˜µåˆ—(Uniform Planar Array, UPA)  æ˜¯ä¸€ç§ç»å…¸æ¨¡å‹,å…¶ç›¸é‚»é˜µå…ƒé—´è·å‡ä¸ºåŠæ³¢é•¿,è¯¥  æ¨¡å‹åœ¨3ç»´ä¿¡æºå®šä½æ—¶ç²¾åº¦è¾ƒé«˜,ä½†åœ¨é˜µåˆ—å£å¾„è¾ƒ  å¤§æ—¶,è¾ƒé«˜çš„ç»“æ„å¤æ‚åº¦é™åˆ¶äº†è¯¥æ¨¡å‹çš„åº”ç”¨ã€‚ä¸º  äº†å®ç°ä½å¤æ‚åº¦çš„3ç»´ä¿¡æºç²¾ç¡®å®šä½,æœ¬æ–‡æå‡º  CLACS-SPAç»“æ„,å…¶ä¸»è¦ç‰¹å¾æ˜¯å°†ä¸€åˆ—äº’ç´ çº¿é˜µ  (Coprime Linear Array, CLA)æ²¿ç€ä¸ä¹‹å‚ç›´çš„æ–¹  å‘æŒ‰ç…§ç›¸åŒçš„äº’ç´ è§„å¾‹è¿›è¡Œå¹³ç§»è€Œå¾—åˆ° [[5]]ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250520134601234.png" alt="äº’ç´ é¢é˜µ"></p><p>å›¾ä¸­å·¦å›¾$ULA1$ä¸ºé—´éš”ä¸º$a$çš„å‡åŒ€çº¿é˜µï¼Œ$ULA2$ä¸ºé—´éš”ä¸º$b$çš„å‡åŒ€çº¿é˜µï¼Œå°†ä¸¤ä¸ªçº¿é˜µæ‹¼æ¥åœ¨ä¸€èµ·ä¸”é—´éš”äº’ä¸ºç´ æ•°åˆ™å¾—åˆ°äº†äº’ç´ çº¿é˜µï¼›æœ‰å›¾ä¸­å°†è¿™æ ·çš„äº’ç´ çº¿é˜µåœ¨å‚ç›´çš„æ–¹å‘ä¸Šæ‹¼æ¥å°±å¾—åˆ°äº†äº’ç´ é¢é˜µã€‚</p><p>å¯¹äºè¿™æ ·çš„äº’ç´ é¢é˜µï¼Œä¿¡æºåˆ°ä¸åŒå¤©çº¿ä¹‹é—´ç›¸ä½å·®å¯ä»¥å¦‚ä¸‹é¢è¿™æ ·è¡¨ç¤ºï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250520135243124.png" alt="ç›¸ä½å·®è®¡ç®—"></p><p>åˆ†åˆ«ä»xè½´æ–¹å‘å’Œyè½´æ–¹å‘è®¡ç®—ç›¸é‚»ä¸¤ä¸ªå¤©çº¿ä¹‹é—´çš„ä¿¡æºæ³¢ç¨‹å·®å¯ä»¥å¾—åˆ°</p><p>$$<br>\begin{align}<br>\Delta_{x,k} &amp;&#x3D; \sqrt{r^2 + l_{x,k}^2 - 2l_{x,k}r \sin\varphi \cos\theta} - r \tag{2} \<br>\Delta_{y,k} &amp;&#x3D; \sqrt{r^2 + l_{y,k}^2 - 2l_{y,k}r \sin\varphi \sin\theta} - r \tag{3}<br>\end{align}<br>$$</p><p>æœ‰å‰é¢æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çŸ¥é“ï¼Œæ³¢ç¨‹å·®ä¸€å®šç¨‹åº¦ä¸Šç­‰ä»·äºç›¸ä½å·®ï¼Œè€Œæ³¢ç¨‹å·®åˆå–å†³äºæ³¢è¾¾è§’ä»¥åŠè·ç¦»ï¼ˆé£è¡Œæ—¶é—´ï¼‰ã€‚æ‰€ä»¥ï¼Œç›¸ä½å·®æ˜¯ç”±ä¸‰ç»´å‚æ•°å…±åŒå†³å®šçš„ï¼Œè¿™ä¹Ÿå°±æ˜¯è¯´é€šè¿‡MUSICç®—æ³•éå†ä¸‰ç»´ç©ºé—´è®¡ç®—é‡ååˆ†åºå¤§ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å‡å°‘è®¡ç®—å‘¢ï¼Ÿ</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250520140147302.png" alt="æ³°å‹’å±•å¼€é™ç»´"></p><p>ä¸Šè¿°å¼å­å±•ç¤ºäº†å°†xæˆ–è€…yæ–¹å‘çš„æ³¢ç¨‹å·®é€šè¿‡æ³°å‹’å…¬å¼å±•å¼€ï¼Œå¯¹é«˜é˜¶é¡¹ç›´æ¥èˆå»ä¾¿å¾—åˆ°äº†<br>$\gamma_x &#x3D; -\frac{2\pi \sin\varphi \cos\theta}{\lambda}, \quad<br>\phi_x &#x3D; \pi \left(1 - \frac{\sin^2\varphi \cos^2\theta}{\lambda r}\right); \quad$</p><p>å…¶ä¸­çš„$\gamma_x$åªè·Ÿæ³¢è¾¾è§’æœ‰å…³ï¼Œåœ¨æ±‚å‡ºæ³¢è¾¾è§’å$\phi_x$å°±åªè·Ÿè·ç¦»æœ‰å…³ï¼Œå¦‚æ­¤ä¾¿å°†ä¸€ä¸ªä¸‰ç»´çš„æœç´¢è½¬æ¢ä¸ºäºŒç»´çš„æœç´¢<strong>åŠ ä¸Š</strong>ä¸€ç»´çš„æœç´¢ï¼Œå¤§å¤§é™ä½äº†è®¡ç®—å¤æ‚åº¦ã€‚</p><h3 id="äº’ç´ é˜µåˆ—æµå½¢MUSICç®—æ³•å…·ä½“å®ç°"><a href="#äº’ç´ é˜µåˆ—æµå½¢MUSICç®—æ³•å…·ä½“å®ç°" class="headerlink" title="äº’ç´ é˜µåˆ—æµå½¢MUSICç®—æ³•å…·ä½“å®ç°"></a>äº’ç´ é˜µåˆ—æµå½¢MUSICç®—æ³•å…·ä½“å®ç°</h3><p>é¦–å…ˆæ˜¯æ ¹æ®æ³°å‹’å±•å¼€åçš„ç¬¬ä¸€é¡¹æ„å»ºæœç´¢å¯¼å‘çŸ¢é‡$\hat{A}_{x}$ï¼Œåœ¨ä¸€å®šçš„è§’åº¦èŒƒå›´å†…éå†$\theta, \phi$å¹¶è®¡ç®—è°±å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ³°å‹’è¿‘ä¼¼æ–¹å‘å¯¼å‘é¡¹æ„é€ å‡½æ•°</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">xi</span>(<span class="hljs-params">l, gamma</span>):<br>    <span class="hljs-keyword">return</span> np.exp(<span class="hljs-number">1j</span> * gamma * l)<br><br><span class="hljs-comment">#^ ç¬¬ä¸€é˜¶æ®µï¼šäºŒç»´è§’åº¦æœç´¢ æ³°å‹’å±•å¼€åçš„é›¶æ¬¡é¡¹ä½œä¸ºé¢„æµ‹çš„å¯¼å‘çŸ¢é‡ä¼°è®¡ZOAã€AOA</span><br><span class="hljs-keyword">for</span> i, phi <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(phi_scan):<br>    <span class="hljs-keyword">for</span> j, theta <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(theta_scan):<br>        <span class="hljs-comment">#^ æ³°å‹’å±•å¼€çš„é›¶æ¬¡é¡¹</span><br>        gamma_x = -k * np.sin(phi) * np.cos(theta)<br>        gamma_y = -k * np.sin(phi) * np.sin(theta)<br>        <br>        xi_x = xi(Lx, gamma_x)  <span class="hljs-comment">#^ [9, 1] æ¨ªå‘çš„å¤©çº¿å“åº”</span><br>        xi_y = xi(Ly, gamma_y)  <span class="hljs-comment">#^ [9, 1] çºµå‘çš„å¤©çº¿å“åº”</span><br>        xi_xy = np.kron(xi_x, xi_y).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)          <span class="hljs-comment">#^ [81, 1] é™ç»´åxæ–¹å‘çš„å¯¼å‘æœç´¢çŸ¢é‡</span><br>        <br>        <span class="hljs-comment">#^ éå†è§’åº¦ æ„å»ºå¯¼å‘çŸ¢é‡ è®¡ç®—ä¸å™ªå£°å­ç©ºé—´çš„è·ç¦» </span><br>        psi = xi_xy.conj().T @ Un @ Un.conj().T @ xi_xy     <br>        Pmap[i, j] = <span class="hljs-number">1</span> / np.real(psi)                       <span class="hljs-comment">#^ è®¡ç®—è°±å€¼ 1/psi æœ€å¤§å€¼ä¸ºæ³¢è¾¾è§’</span><br><br></code></pre></td></tr></table></figure><p>æ‰¾åˆ°æœ€å¤§çš„è°±å€¼å¯¹åº”çš„æ³¢è¾¾è§’ï¼Œå°†æ³¢è¾¾è§’å¸¦å…¥åˆ°ç¬¬äºŒé¡¹ä¸­ï¼Œå°±å˜æˆäº†è·ç¦»$r$çš„å•ä¸€æ±‚è§£ï¼Œæ„å»ºæœç´¢å¯¼å‘çŸ¢é‡å¹¶åœ¨ç»™å®šçš„èŒƒå›´å†…æœç´¢è°±å€¼çš„æœ€å¤§å€¼ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">upsilon</span>(<span class="hljs-params">l, phi_term</span>):<br>    <span class="hljs-keyword">return</span> np.exp(<span class="hljs-number">1j</span> * phi_term * l**<span class="hljs-number">2</span>)<br><br><span class="hljs-comment">#^ æ³°å‹’å±•å¼€çš„ä¸€æ¬¡é¡¹ å¸¦å…¥ä¼°è®¡çš„æ³¢è¾¾è§’</span><br><span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> r_scan:<br>    phi_x = np.pi / (lam * r) * (<span class="hljs-number">1</span> - np.sin(phi_est)**<span class="hljs-number">2</span> * np.cos(theta_est)**<span class="hljs-number">2</span>)<br>    phi_y = np.pi / (lam * r) * (<span class="hljs-number">1</span> - np.sin(phi_est)**<span class="hljs-number">2</span> * np.sin(theta_est)**<span class="hljs-number">2</span>)<br>    <br>    upsilon_x = upsilon(Lx, phi_x)<br>    upsilon_y = upsilon(Ly, phi_y)<br>    upsilon_xy = np.kron(upsilon_x, upsilon_y).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>    <br>    <span class="hljs-comment"># éœ€è¦å¸¦ä¸Šé›¶æ¬¡é¡¹è¿›è¡Œä¼°è®¡</span><br>    xi_x = xi(Lx, -<span class="hljs-number">2</span> * np.pi / lam * np.sin(phi_est) * np.cos(theta_est))<br>    xi_y = xi(Ly, -<span class="hljs-number">2</span> * np.pi / lam * np.sin(phi_est) * np.sin(theta_est))<br>    xi_xy = np.kron(xi_x, xi_y).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>    <br>    <span class="hljs-comment"># æŒ‡æ•°ç›¸ä¹˜ç­‰äºç›¸ä½ç›¸åŠ  å¯¹åº”æ³°å‹’å±•å¼€çš„é¡¹</span><br>    A_est = xi_xy * upsilon_xy<br>    pseudospectrum = <span class="hljs-number">1</span> / np.real((A_est.conj().T @ Un @ Un.conj().T @ A_est))<br>    P_r.append(pseudospectrum[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>])<br></code></pre></td></tr></table></figure><p>æœ€åä¾¿å¯ä»¥åœ¨ä¿æŒé«˜ç²¾åº¦çš„å‰æä¸‹ç®€åŒ–è®¡ç®—å¤æ‚åº¦æé«˜é€Ÿåº¦</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250520144154490.png" alt="å‚æ•°ä¼°è®¡"></p><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä»æœ€åˆçš„ç»å…¸ESPRITå’ŒMUSICç®—æ³•ï¼Œåˆ°è¿‘å¹´æ¥é¢å‘ä¸‰ç»´å»ºæ¨¡å’Œ5Gé€šæ„Ÿä¸€ä½“åŒ–çš„å¤šç»´å‚æ•°ä¼°è®¡ç®—æ³•ï¼Œå‚æ•°ä¼°è®¡æŠ€æœ¯æ­£ä¸æ–­å‘é«˜ç²¾åº¦ã€é«˜åˆ†è¾¨ç‡å’Œå¼ºé²æ£’æ€§æ–¹å‘æ¼”è¿›ã€‚éšç€é˜µåˆ—ç»“æ„çš„åˆ›æ–°ï¼ˆå¦‚äº’ç´ é˜µã€ç¨€ç–é˜µåˆ—ï¼‰å’Œä¿¡å·å¤„ç†æ‰‹æ®µçš„æå‡ï¼ˆå¦‚ç©ºé—´å¹³æ»‘ã€æåŒ–ä¿¡æ¯èåˆã€é™ç»´æœç´¢ç­‰ï¼‰ï¼Œæ”¹è¿›ç®—æ³•ä¸ä»…åœ¨ä½ä¿¡å™ªæ¯”ã€å¼ºå¹²æ‰°ç­‰å¤æ‚ç¯å¢ƒä¸‹å±•ç°å‡ºæ›´ä¼˜çš„æ€§èƒ½ï¼Œè¿˜æ˜¾è‘—é™ä½äº†è®¡ç®—å¤æ‚åº¦ï¼Œæå‡äº†å®æ—¶æ€§å’Œå·¥ç¨‹å¯ç”¨æ€§ã€‚è¿™äº›è¿›æ­¥ä¸º5Gé€šæ„Ÿä¸€ä½“åŒ–ã€æ™ºèƒ½æ„ŸçŸ¥ã€æ— äººç³»ç»Ÿç­‰å‰æ²¿åº”ç”¨æä¾›äº†åšå®çš„æŠ€æœ¯åŸºç¡€å’Œå¹¿é˜”çš„å‘å±•ç©ºé—´[[1]][[2]][[4]]ã€‚</p><blockquote><p>å‚è€ƒèµ„æ–™ï¼š<br>[[1]] åŸºäºæ”¹è¿›3D-ESPRITçš„GTDæ¨¡å‹å‚æ•°ä¼°è®¡<br>[[2]] ä¸‰ç»´GTDæ¨¡å‹å‚æ•°ä¼°è®¡çš„æ”¹è¿›ç®—æ³•<br>[[3]] CN111781573A ä¸“åˆ©æ–‡æ¡£<br>[[4]] TLS-ESPRITæ”¹è¿›ç©ºé—´å¹³æ»‘ç®—æ³•<br>[[5]] åŸºäºç¨€ç–é¢é˜µçš„ä½å¤æ‚åº¦ä¸‰ç»´ä¿¡æºå®šä½ç®—æ³•</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>5G é€šæ„Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäº5Gé€šä¿¡çš„å®šä½æ„ŸçŸ¥â€”â€”AOAè§£ç®—</title>
    <link href="/2025/04/24/AOA_Positioning/"/>
    <url>/2025/04/24/AOA_Positioning/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><em><strong>5G-NR</strong></em>ï¼Œå…·æœ‰â¾¼é€Ÿã€ä½å»¶è¿Ÿçš„ç‰¹æ€§ï¼Œæ˜¯ç°ä»£é€šä¿¡å¼ºæœ‰â¼’çš„æŠ€æœ¯ä¹‹ä¸€ã€‚åˆå› å¹¿æ³›çš„åŸºç«™å»ºè®¾ï¼Œ5Gé€æ¸è¦†ç›–æ—¥å¸¸ç”Ÿæ´»ä¸­çš„æ¯ä¸ªè§’è½ï¼Œéšç€è¦†ç›–èŒƒå›´çš„æ‰©å¼ ï¼Œä¸ä»…æ„å‘³ç€è¶Šæ¥è¶Šç¨³å®šçš„é€šä¿¡ï¼Œæ„ŸçŸ¥ï¼Œæ›´æ˜¯éšä¹‹ä¸æ–­çš„å‘å±•ã€‚</p><p>ä¸‹â¾¯ï¼Œæœ¬æ–‡å°†é’ˆå¯¹æ— äººæœºå‘5GåŸºç«™é€šä¿¡è¿™ä¸€åº”ç”¨åœºæ™¯ï¼Œå°è¯•é€šè¿‡ä»¿çœŸéªŒè¯åˆ©ç”¨æ— äººæœºä¸5GåŸºç«™çš„é€šä¿¡èƒ½å¤Ÿå®ç°åˆ©ç”¨ <em><strong>CSI</strong></em> è§£ç®—å‡ºæ— äººæœºçš„ä½ç½®ä¿¡æ¯ï¼Œå¦‚ <em><strong>AOAã€AODã€ToF</strong></em> ç­‰å‚æ•°ï¼ŒéªŒè¯ <em><strong>MUSIC</strong></em> ç®—æ³•çš„å¯è¡Œæ€§ã€‚ä¸‹é¢æ˜¯å¯¹å¦‚ä½•é€šè¿‡é€šä¿¡çš„ <em><strong>CSI</strong></em> å®ç°å¯¹ä½ç½®ä¿¡æ¯æ„ŸçŸ¥çš„ç†è®ºæè¿°ã€‚</p><h1 id="ç†è®ºç¯‡"><a href="#ç†è®ºç¯‡" class="headerlink" title="ç†è®ºç¯‡"></a>ç†è®ºç¯‡</h1><h2 id="ä¿¡å·åœ¨å‘é€ç«¯å¤©çº¿çš„ä¼ æ’­ç‰¹æ€§"><a href="#ä¿¡å·åœ¨å‘é€ç«¯å¤©çº¿çš„ä¼ æ’­ç‰¹æ€§" class="headerlink" title="ä¿¡å·åœ¨å‘é€ç«¯å¤©çº¿çš„ä¼ æ’­ç‰¹æ€§"></a>ä¿¡å·åœ¨å‘é€ç«¯å¤©çº¿çš„ä¼ æ’­ç‰¹æ€§</h2><p>å‘é€ç«¯ï¼ˆæ— äººæœºï¼‰ä»…è€ƒè™‘å•æ ¹å¤©çº¿è¿›è¡Œæ”¶å‘ï¼Œä¸”å¤©çº¿æ˜¯å…¨å‘æåŒ–å¤©çº¿ã€‚ä¿¡å·ç”±æ— äººæœºå‘å‡ºï¼Œå‘å››é¢å…«æ–¹å‘é€ä¿¡å·ï¼Œè¿™äº›ä¿¡å·åœ¨Txå¤©çº¿å¤„å‘å‡ºæ—¶å¯¹åº”çš„è§’åº¦æˆ‘ä»¬ç§°ä¸º <em><strong>AODï¼ˆAngle of Departureï¼‰</strong></em>ã€‚åœ¨ <em><strong>Tx</strong></em> å¤„çš„AODæœ‰å¾ˆå¤šä¸åŒçš„å€¼ï¼Œæˆ‘ä»¬è¿‘ä¼¼è®¤ä¸ºèŒƒå›´ä¸º <em><strong>[0, 2*pi]</strong></em>ã€‚</p><p><img src="https://raw.github.com/allforkarina/embadded_image/refs/heads/master/20250425123140384.png" alt="æ— äººæœºå‘é€å¤©çº¿"></p><p>ç”±äºå‘é€ç«¯ â€”&gt; æ¥æ”¶ç«¯çš„è·ç¦»å¾ˆè¿œï¼Œä¿¡å·åœ¨ä¿¡é“ä¸­ä¼ è¾“ä¹‹ååœ¨åˆ°è¾¾5GåŸºç«™çš„å¤©çº¿é˜µåˆ—æ—¶ï¼Œæˆ‘ä»¬è¿‘ä¼¼è®¤ä¸ºè¿™äº›ä¿¡å·å¯ä»¥è¢«è§†ä¸ºå¹³â¾æ³¢ã€‚</p><h2 id="æ¥æ”¶ç«¯å¤©çº¿é˜µåˆ—æ¥æ”¶ä¿¡å·"><a href="#æ¥æ”¶ç«¯å¤©çº¿é˜µåˆ—æ¥æ”¶ä¿¡å·" class="headerlink" title="æ¥æ”¶ç«¯å¤©çº¿é˜µåˆ—æ¥æ”¶ä¿¡å·"></a>æ¥æ”¶ç«¯å¤©çº¿é˜µåˆ—æ¥æ”¶ä¿¡å·</h2><p>ç”±äºä¿¡å·åœ¨ä¿¡é“ä¸­ä¼ é€’æœ‰å¤šå¾„ç‰¹æ€§ï¼Œå…¶ä¸­æŸâ¼€ä¸ªå•å¾„ä¸Šçš„ä¿¡å·åœ¨åˆ°è¾¾å¤©çº¿é˜µåˆ—æ—¶å¯ä»¥è¢«è§†ä¸ºâ¼€ç»„å¹³â¾æ³¢ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250425123346494.png" alt="æ¥æ”¶å¤©çº¿é˜µåˆ—"></p><p>ä¸‹é¢æˆ‘ä»¬ä»…è€ƒè™‘æŸä¸€ä¸ªå•å¾„ä¸Šçš„ä¿¡å·ï¼Œè¿™ä¸ªä¿¡å·ä»¥ä¸€ç»„å¹³è¡Œæ³¢çš„å½¢å¼è¢«æ¥æ”¶ç«¯çš„å¤©çº¿é˜µåˆ—æ¥æ”¶ã€‚ä½œâ¼€æ¡å‚ç›´äºå¹³â¾æ³¢çš„è™šçº¿ï¼Œæˆ‘ä»¬å¯ä»¥è¿‘ä¼¼è®¤ä¸ºå®ƒä¸è¿™ä¸€ç»„å¹³â¾æ³¢çš„äº¤ç‚¹æ‰€å¯¹åº”çš„ä¿¡å·ç›¸ä½ç›¸åŒï¼Œå³è¿™ä¸ªè™šçº¿æ˜¯ä¸€ä¸ªç­‰ç›¸çº¿ã€‚ç”±ä¸Šå›¾å¯â»…ç›¸é‚»ä¸¤æ ¹å¤©çº¿ä¹‹é—´ä¿¡å·ä¼ æ’­è·ç¦»ç›¸å·® <em><strong>L</strong></em>ï¼Œåˆå› ä¸ºæ³¢â»“ä¸ç›¸åº”é—´å­˜åœ¨æŸç§å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºï¼Œä¼ æ’­çš„è·ç¦»å·® <em><strong>L</strong></em> ç­‰ä»·äºä¿¡å·åˆ°è¾¾å¤©çº¿çš„ç›¸ä½å·® <em><strong>Ï†</strong></em>ã€‚å› æ­¤å¯ä»¥è¯´,ç›¸é‚»ä¸¤æ¦‚å¤©çº¿åœ¨åŒæ—¶æ¥æ”¶åˆ°çš„ä¿¡å·ä¹‹é—´å·®â¼€ä¸ªæ’å®šçš„ <em><strong>Ï†</strong></em> ã€‚ä»¥å¦â¼€ä¸ªâ»†åº¦ä¸Šè¯´ï¼ŒåŒæ—¶æ¥æ”¶ <em><strong>N</strong></em> ä¸ªå¤©çº¿ä¸Šçš„ä¿¡å·ä¸”ç›¸é‚»ä¿¡å·ä¹‹é—´å·®â¼€ä¸ª <em><strong>Ï†</strong></em>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å‹ç¼©å¤©çº¿ï¼Œæˆ‘åªå¯¹ç¬¬â¼€æ ¹å¤©çº¿æ¥æ”¶çš„ä¿¡å·é‡‡æ ·ï¼Œé‡‡æ ·é—´éš” <em><strong>t &#x3D; L&#x2F;c &#x3D; Ï†&#x2F;f</strong></em> ï¼ˆ <em><strong>c</strong></em> æ˜¯å…‰é€Ÿï¼Œ<em><strong>f</strong></em> æ˜¯ä¿¡å·çš„é¢‘ç‡ï¼‰ã€‚</p><p>ä»¥ç¬¬â¼€æ ¹å¤©çº¿æ¥æ”¶çš„ä¿¡å·ä¸ºåŸºå‡†å®šä¹‰ä¸º <em><strong>S0 &#x3D; exp(j*2*pi*d*cosx)</strong></em>,å¦‚æ­¤å…¶ä½™å¤©çº¿æ¥æ”¶çš„ä¿¡å·å°±èƒ½å¤Ÿå®šä¹‰ä¸º <em><strong>Sk &#x3D; exp(j*2*pi*k*d*cosx) &#x3D; ï¼ˆexp(j*2*pi*d*cosx)ï¼‰^k</strong></em> ç­‰ç­‰ï¼Œç¬¬kæ ¹å¤©çº¿çš„ä¿¡å·æ˜¯ç¬¬ä¸€æ ¹å¤©çº¿çš„kæ¬¡æ–¹ï¼Œåˆå› ä¸ºç¬¬kæ ¹å¤©çº¿ç›¸è¾ƒäºç¬¬ä¸€æ ¹å¤©çº¿æœ‰ <em><strong>k * d</strong></em> çš„è·ç¦»å·®ï¼Œè¡¨ç°åœ¨ä¿¡å·ä¸Šæœ‰kæ¬¡æ–¹çš„å…³ç³»ï¼Œäºæ˜¯æˆ‘ä»¬è®¤ä¸ºï¼Œç¬¬kæ ¹å¤©çº¿ç›¸è¾ƒäºç¬¬ä¸€æ ¹å¤©çº¿æœ‰ <em><strong>Ï†^k</strong></em> çš„ç›¸ä½å»¶è¿Ÿã€‚è‹¥æˆ‘ä»¬å®šä¹‰ç¬¬ä¸€æ ¹å¤©çº¿æ²¡æœ‰å»¶è¿Ÿï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºç¬¬ä¸€æ¡å•å¾„å¯¹åº”ä¿¡å·çš„å¯¼å‘çŸ¢é‡</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250425123744616.png" alt="å¯¼å‘çŸ¢é‡"></p><p>åˆå› ä¸ºå¤šå¾„ï¼Œä¸åŒAOAçš„ä¿¡å·åŒæ—¶åˆ°è¾¾æ¥æ”¶å¤©çº¿é˜µåˆ—ï¼Œå½¼æ­¤å åŠ ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨å¤©çº¿å¤„é‡‡æ ·å¾—åˆ°çš„ä¿¡å·ï¼Œæ˜¯Kä¸ªä¸åŒAOAè·¯å¾„ä¿¡å·çš„å åŠ ã€‚æˆ‘ä»¬å¤šæ¬¡è¿›è¡Œé‡‡æ ·ï¼Œä¸€å…±é‡‡æ · <em><strong>M</strong></em> æ¬¡å°±å¯ä»¥å¾—åˆ° <em><strong>MxN</strong></em> çš„å¯¼å‘çŸ©é˜µã€‚</p><p>åˆå› ä¸ºæ¯ä¸ªåˆ—å‘é‡ï¼ˆå¯¼å‘çŸ¢é‡ï¼‰çš„å…ƒç´ ä¹‹é—´æ˜¯æˆæŒ‡æ•°é€’å¢çš„å…³ç³»ï¼Œå› æ­¤æ ¹æ®çŸ©é˜µè®ºçš„ç›¸å…³çŸ¥è¯†ï¼Œè¯¥å¯¼å‘çŸ©é˜µæ˜¯æ»¡ç§©çš„ã€‚</p><h2 id="AOAè§£ç®—"><a href="#AOAè§£ç®—" class="headerlink" title="AOAè§£ç®—"></a>AOAè§£ç®—</h2><p>è¿™é‡Œæˆ‘ä»¬å‡è®¾ä¸€å…±æœ‰ä¸€æ ¹ <em><strong>Tx</strong></em> ï¼Œ3æ ¹ <em><strong>Rx</strong></em>ï¼Œè¿™é‡Œæˆ‘ä»¬è€ƒè™‘ä¸¤æ¡å¤šå¾„ï¼ˆä¸€æ¡ç›´å°„ã€ä¸€æ¡åå°„ï¼‰ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250425123355885.png" alt="å¤šå¾„æ¨¡å‹"></p><p>å¯¹å¤©çº¿ä¸Šæ¥æ”¶çš„ä¿¡å·è¿›è¡Œé‡‡æ ·ï¼Œæ¯ä¸€æ¬¡é‡‡æ ·è®¡ç®—å‡ºæ¥çš„å¯¼å‘çŸ¢é‡æ˜¯ç”±ä¸¤æ¡è·¯å¾„å¯¹åº”ä¸åŒçš„å¯¼å‘çŸ¢é‡å åŠ å¾—åˆ°ã€‚æˆ‘ä»¬å¤šæ¬¡è¿›è¡Œé‡‡æ ·ï¼Œè¿™äº›é‡‡æ ·å¾—åˆ°çš„æ‰€æœ‰å¯¼å‘çŸ¢é‡æ„æˆä¸€ä¸ªå¯¼å‘çŸ©é˜µï¼Œè¯¥å¯¼å‘çŸ©é˜µä¸€å®šæ˜¯æ»¡ç§©çš„ã€‚</p><p>æ¯ä¸€ä¸ªå¯¼å‘çŸ¢é‡ï¼Œxyzä¸‰ä¸ªåæ ‡ï¼Œå¯¹åº”åœ¨ä¸€ä¸ªä¸‰ç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªä½ç½®ï¼Œé‡‡æ ·äº† <em><strong>m</strong></em> æ¬¡ï¼Œåˆ™ä¸€å…±æœ‰ <em><strong>m</strong></em> ä¸ªä¸‰ç»´ç©ºé—´ä¸­çš„çŸ¢é‡ï¼Œæ¯ä¸€ä¸ªçŸ¢é‡åˆæ˜¯ç”±ä¸¤æ¡è·¯å¾„å¯¹åº”çš„å¯¼å‘çŸ¢é‡é€šè¿‡å¹³è¡Œå››è¾¹å½¢æ³•åˆ™å åŠ å¾—åˆ°ã€‚ä¸¤æ¡è·¯å¾„çš„å¯¼å‘çŸ¢é‡ä¸åŒæ˜¯å› ä¸ºä¸åŒè·¯å¾„åˆ°è¾¾æ¥æ”¶å¤©çº¿é˜µåˆ—çš„AOAä¸åŒï¼Œå› æ­¤å¯¼å‘çŸ¢é‡ä¹Ÿä¸åŒã€‚æˆ‘ä»¬å¯ä»¥å‡è®¾ï¼Œå¦‚æœæœ‰æ— æ•°æ¡è·¯å¾„ï¼Œè¿™äº›è·¯å¾„å¯¹åº”çš„AOAä¹Ÿä¸åŒï¼Œæ„å‘³ç€æœ‰æ— æ•°æ¡ä¸åŒçš„å¯¼å‘çŸ¢é‡ï¼Œè¿™äº›å¯¼å‘çŸ¢é‡çš„æœ«ç«¯è¿èµ·æ¥å¿…ç„¶æ˜¯ä¸€ä¸ªå°é—­çš„ç©ºé—´æ›²çº¿ï¼ˆå› ä¸ºAOAæœ‰ç•Œï¼‰ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250425123406300.png" alt="ç©ºé—´å°é—­æ›²çº¿"></p><p>å·²çŸ¥æ¯ä¸€ä¸ªå¯¼å‘çŸ¢é‡å¯¹åº”ä¸€ä¸ªAOAï¼Œå¯¼å‘çŸ¢é‡çš„æ¨¡é•¿å—åˆ°å¯¹åº”ä¿¡é“æ—¶å˜è¡°è½çš„å½±å“ï¼Œå› æ­¤æ¯ä¸€ä¸ªå¯¼å‘çŸ¢é‡æ˜¯å¯¹åº”æ–¹å‘å»¶é•¿çº¿ä¸Šçš„ç‚¹ã€‚ç”±äºä¸åŒAOAçš„ä¿¡å·åœ¨å¤©çº¿å¤„å åŠ ï¼Œé‡‡æ ·å¾—åˆ°çš„å¯¼å‘çŸ¢é‡å¯¹åº”åœ¨ç©ºé—´ä¸­æ˜¯ä¸åŒAOAå¯¼å‘çŸ¢é‡çš„åŠ æƒï¼ˆä¿¡é“è¡°è½ï¼‰å’Œã€‚</p><p>å¦‚æœæ¯æ¬¡é‡‡æ ·çš„ä¿¡å·æ˜¯ç”±ä¸¤ä¸ªå¤šå¾„ä¿¡å·å åŠ ï¼Œé‚£ä¹ˆé‡‡æ ·ä¿¡å·çš„å¯¼å‘çŸ¢é‡å°±æ˜¯è¿™ä¸¤ä¸ªå¤šå¾„ä¿¡å·çš„å¯¼å‘çŸ¢é‡åŠ æƒå’Œã€‚åˆä¸¤ä¸ªå‘é‡å¯ä»¥å¼ æˆä¸€ä¸ªäºŒç»´çš„å¹³é¢ï¼ˆå­ç©ºé—´ï¼‰ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªå­ç©ºé—´ä¸º <strong>ä¿¡å·å­ç©ºé—´</strong>ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250425123415468.png" alt="ä¿¡å·å­ç©ºé—´"></p><p>å‡è®¾ä½ çš„ä¿¡é“ä¸­æ²¡æœ‰å™ªå£°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ¨æ–­å‡ºï¼Œæ— è®ºé‡‡æ ·å¤šå°‘æ¬¡ï¼Œæ¯æ¬¡é‡‡æ ·çš„ä¿¡å·å¯¹åº”çš„å¯¼å‘çŸ¢é‡ä¸€å®šå±äºè¿™ä¸ªä¿¡å·å­ç©ºé—´ã€‚<em><strong>n</strong></em> æ¡è·¯å¾„ <em><strong>m</strong></em> æ ¹æ¥æ”¶å¤©çº¿å¯¹åº”çš„ä¿¡å·å­ç©ºé—´ç»´æ•°ä¸º <em><strong>R_min &#x3D; min(n, m)</strong></em>ã€‚å› ä¸ºä¿¡å·å­ç©ºé—´çš„ç»´æ•°ä¸€å®šå°äºæˆ–è€…ç­‰äºæ•´ä¸ªå¯¼å‘çŸ¢é‡çš„ç©ºé—´ç»´æ•°ï¼Œå› æ­¤ä¸€å®šå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå‚ç›´äºä¿¡å·å­ç©ºé—´çš„åŸºï¼Œè¿™ä¸ªåŸºå¯¹åº”çš„ç©ºé—´æˆ‘ä»¬ç§°ä¸º <strong>å™ªå£°å­ç©ºé—´</strong>ã€‚å¦‚æœä½ çš„ä¿¡é“ä¸­æœ‰å™ªå£°ï¼Œä½ çš„å¯¼å‘çŸ¢é‡åœ¨ç©ºé—´ä¸­è¡¨ç°ä¸ºåœ¨å‚ç›´ä¿¡å·å­ç©ºé—´çš„æ–¹å‘ä¸Šæœ‰ä¸€å®šçš„åç§»</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/20250425123421082.png" alt="æ­£äº¤å™ªå£°å­ç©ºé—´"></p><h2 id="å®é™…è§£ç®—è¿‡ç¨‹"><a href="#å®é™…è§£ç®—è¿‡ç¨‹" class="headerlink" title="å®é™…è§£ç®—è¿‡ç¨‹"></a>å®é™…è§£ç®—è¿‡ç¨‹</h2><ol><li><p>åŒæ—¶å¯¹ <em><strong>N</strong></em> ä¸ªå¤©çº¿é˜µå…ƒé‡‡æ ·å¾—ç¬¬â¼€ä¸ªå¯¼å‘çŸ¢é‡ï¼›å¤šæ¬¡é‡‡æ ·å¾— <em><strong>M</strong></em> ä¸ªå¯¼å‘çŸ¢é‡ï¼›æ¯ä¸€ä¸ªå¯¼å‘çŸ¢é‡æ˜¯æ¥è‡ª <em><strong>K</strong></em> ä¸ªè·¯å¾„çš„ä¿¡å·å åŠ ï¼ˆæ¯ä¸ªè·¯å¾„çš„AOAä¸åŒï¼‰ã€‚</p></li><li><p>å¾—åˆ°å¯¼å‘çŸ¢é‡çŸ©é˜µ <em><strong>A &#x3D; [P_1, P_2, â€¦, P_n]</strong></em> ï¼ŒçŸ©é˜µçš„å½¢çŠ¶ä¸º <em><strong>M x N</strong></em> ä¸”ä¸€å®šæ˜¯æ»¡ç§©çš„ï¼Œä¿¡å·å­ç©ºé—´ä¸ºç»´åº¦ä¸ºå¤©çº¿é˜µå…ƒæ•°é‡ä¸å¤šå¾„æ•°é‡ä¸­çš„è¾ƒå°å€¼ã€‚å‡è®¾ä¿¡å·å­ç©ºé—´ä¸º <em><strong>K</strong></em> ç»´ï¼Œå¯¼å‘çŸ¢é‡çš„ç©ºé—´ç»´åº¦ä¸º <em><strong>N</strong></em> ç»´ï¼Œå¯¹å¯¼å‘çŸ¢é‡çŸ©é˜µåšç‰¹å¾å€¼åˆ†è§£ï¼Œèƒ½å¤Ÿå¾—åˆ° <em><strong>N</strong></em> ä¸ªç‰¹å¾çŸ¢é‡ï¼Œå…¶ä¸­ <em><strong>K</strong></em> ä¸ªæ„æˆäº†ä¿¡å·å­ç©ºé—´ï¼Œä¹Ÿå¯¹åº”ç€ <em><strong>K</strong></em> ä¸ªå¤šå¾„å„è‡ªçš„ <em><strong>AOA</strong></em>ã€‚</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>5G é€šæ„Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é˜…è¯»æœ­è®°â€”â€”â€œ5Gä¿¡é“çš„ä¼°è®¡ä¸å‡è¡¡â€</title>
    <link href="/2025/04/02/Channel-state-info/"/>
    <url>/2025/04/02/Channel-state-info/</url>
    
    <content type="html"><![CDATA[<h1 id="5Gé€šä¿¡ä¿¡é“ä¼°è®¡"><a href="#5Gé€šä¿¡ä¿¡é“ä¼°è®¡" class="headerlink" title="5Gé€šä¿¡ä¿¡é“ä¼°è®¡"></a>5Gé€šä¿¡ä¿¡é“ä¼°è®¡</h1><h2 id="ä¸€ã€MIMOâ€”â€”OFDMæŠ€æœ¯ç®€ä»‹"><a href="#ä¸€ã€MIMOâ€”â€”OFDMæŠ€æœ¯ç®€ä»‹" class="headerlink" title="ä¸€ã€MIMOâ€”â€”OFDMæŠ€æœ¯ç®€ä»‹"></a>ä¸€ã€MIMOâ€”â€”OFDMæŠ€æœ¯ç®€ä»‹</h2><h3 id="MIMOï¼š"><a href="#MIMOï¼š" class="headerlink" title="MIMOï¼š"></a>MIMOï¼š</h3><p>å¤šè¾“å…¥-å¤šè¾“å‡ºï¼Œå³å¤§è§„æ¨¡å¤©çº¿é˜µåˆ—ç”¨äºå‘é€ä»¥åŠæ¥æ”¶ã€‚</p><p>ç”¨åŸºç«™ç«¯å¤©çº¿æ•°é‡çš„æ‰©å±•ä»£æ›¿åŸºç«™æ•°é‡çš„æ‰©å±•ã€‚</p><p>å‡å°‘åŸºç«™æ•°é‡æ„å‘³ç€å¤šå¾„æ•ˆåº”çš„å‰Šå¼±ï¼Œæœ‰åˆ©äºå‡å°‘å°å°ºåº¦è¡°å‡å¯¹ä¿¡å·ä¼ è¾“çš„å½±å“ã€‚</p><h3 id="OFDMï¼š"><a href="#OFDMï¼š" class="headerlink" title="OFDMï¼š"></a>OFDMï¼š</h3><p>åœ¨ä¼ ç»Ÿçš„é¢‘åˆ†ä¼ è¾“åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥èŠ‚çœé¢‘å¸¦èµ„æºï¼Œå®ç°æ­£äº¤é¢‘åˆ†è°ƒåˆ¶ã€‚</p><h2 id="è™½ç„¶OFDMå„ä¸ªå­è½½æ³¢å­˜åœ¨æœ‰é¢‘è°±äº¤å çš„éƒ¨åˆ†ï¼Œä½†æ˜¯ç”±äºæ˜¯æ­£äº¤çš„ï¼Œæ¥æ”¶ç«¯ä»èƒ½å¤Ÿè§£è°ƒä¿¡å·å¹¶ä¸”å¯ä»¥é«˜æ•ˆçš„åˆ©ç”¨é¢‘è°±ã€‚"><a href="#è™½ç„¶OFDMå„ä¸ªå­è½½æ³¢å­˜åœ¨æœ‰é¢‘è°±äº¤å çš„éƒ¨åˆ†ï¼Œä½†æ˜¯ç”±äºæ˜¯æ­£äº¤çš„ï¼Œæ¥æ”¶ç«¯ä»èƒ½å¤Ÿè§£è°ƒä¿¡å·å¹¶ä¸”å¯ä»¥é«˜æ•ˆçš„åˆ©ç”¨é¢‘è°±ã€‚" class="headerlink" title="è™½ç„¶OFDMå„ä¸ªå­è½½æ³¢å­˜åœ¨æœ‰é¢‘è°±äº¤å çš„éƒ¨åˆ†ï¼Œä½†æ˜¯ç”±äºæ˜¯æ­£äº¤çš„ï¼Œæ¥æ”¶ç«¯ä»èƒ½å¤Ÿè§£è°ƒä¿¡å·å¹¶ä¸”å¯ä»¥é«˜æ•ˆçš„åˆ©ç”¨é¢‘è°±ã€‚"></a>è™½ç„¶OFDMå„ä¸ªå­è½½æ³¢å­˜åœ¨æœ‰é¢‘è°±äº¤å çš„éƒ¨åˆ†ï¼Œä½†æ˜¯ç”±äºæ˜¯æ­£äº¤çš„ï¼Œæ¥æ”¶ç«¯ä»èƒ½å¤Ÿè§£è°ƒä¿¡å·å¹¶ä¸”å¯ä»¥é«˜æ•ˆçš„åˆ©ç”¨é¢‘è°±ã€‚</h2><p>MIMOåœ¨ç©ºé—´åŸŸä¸ŠèŠ‚çœèµ„æºï¼›OFDMè°ƒåˆ¶åœ¨é¢‘åŸŸä¸ŠèŠ‚çœèµ„æºã€‚</p><h2 id="äºŒã€mMIMOâ€”â€”Massive-MIMO"><a href="#äºŒã€mMIMOâ€”â€”Massive-MIMO" class="headerlink" title="äºŒã€mMIMOâ€”â€”Massive MIMO"></a>äºŒã€mMIMOâ€”â€”Massive MIMO</h2><h3 id="MIMOçš„ä¿¡é“å¢ç›Š"><a href="#MIMOçš„ä¿¡é“å¢ç›Š" class="headerlink" title="MIMOçš„ä¿¡é“å¢ç›Š"></a>MIMOçš„ä¿¡é“å¢ç›Š</h3><p>å¤šç”¨æˆ·å¤§è§„æ¨¡MIMOï¼Œé¢å‘äºå¤šä¸ªç”¨æˆ·æ¥å…¥ï¼Œå•ä¸ªåŸºç«™ç«¯é…å¤‡æœ‰å‡ åä¸Šç™¾è·Ÿå¤©çº¿ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image001.png" alt="MIMO and UE"></p><p>æ¯ä¸ªç”¨æˆ·ç«¯åªæœ‰ä¸€æ ¹å¤©çº¿ï¼ŒåŸºç«™ç«¯é…å¤‡æœ‰å¤šæ ¹å¤©çº¿ä¸ç”¨æˆ·ç›¸åŒ¹é…ã€‚å…¶ä¸­ï¼Œç¬¬mæ ¹å¤©çº¿æ¥æ”¶åˆ°æ¥è‡ªç¬¬Kä¸ªç”¨æˆ·çš„ä¿¡å·Im,Kåœ¨ä¿¡é“ä¸­çš„å¢ç›Šç­‰äºï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image002.png" alt="signal amp"></p><p>å¤§å°ºåº¦çš„è¡°å‡ä¸å°å°ºåº¦çš„è¡°å‡ç›¸ä¹˜å¾—åˆ°ã€‚å…¶ä¸­ï¼Œå°å°ºåº¦çš„è¡°å‡ç³»æ•°å—å¤©çº¿çš„å½±å“æœ€å¤§ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å¤šä¸ªç”¨æˆ·å¯¼è‡´çš„ç”¨æˆ·é—´ä¸²æ‰°ï¼ˆIUI-interUser interferenceï¼‰å¯¹äºæœ‰Mæ ¹å¤©çº¿é˜µåˆ—çš„åŸºç«™æ¥è¯´ï¼Œæ¯æ ¹å¤©çº¿æ¥æ”¶åˆ°Kä¸ªç”¨æˆ·ä¼ æ¥çš„ä¿¡å·ï¼Œå°†è¿™<img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image003.png" alt="Channel Matrix">çš„ä¿¡å·ç»„æˆçŸ©é˜µï¼Œå¯¹åº”æ¯ä¸ªä¿¡å·çš„ä¿¡é“å¢ç›Šå°±æ„æˆäº†ä¿¡é“çŸ©é˜µã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image005.png" alt="Channel Matrix"></p><p>è¿™ä¹Ÿæ˜¯CSIæœ€ç»ˆæˆ‘ä»¬è¦å¾—åˆ°çš„å‚æ•°ï¼ˆçŸ©é˜µï¼‰ã€‚</p><h3 id="MIMOçš„ä¿¡é“åˆ†æ"><a href="#MIMOçš„ä¿¡é“åˆ†æ" class="headerlink" title="MIMOçš„ä¿¡é“åˆ†æ"></a>MIMOçš„ä¿¡é“åˆ†æ</h3><p>å·²çŸ¥ä¸åŒä¿¡é“ã€ä¸åŒä¿¡å·çš„ä¿¡é“ä¼°è®¡å¢ç›Šéƒ½ä¸ä¸€æ ·ï¼Œè¿™å–å†³äºå¤§å°ºåº¦è¡°å¼±å åŠ ä¸Šå°å°ºåº¦å¹²æ‰°ï¼›å› æ­¤ä¸ºäº†å¢å¼ºä¿¡å·çš„ä¿¡å™ªæ¯”ä»¥åŠå‰Šå¼±ç”¨æˆ·é—´çš„å¹²æ‰°ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨æœ€å¤§åˆå¹¶æ¯”ä»¥åŠæœ€å¤§æ¯”å‘é€å®ç°ï¼Œå…·ä½“çš„æ€æƒ³å°±æ˜¯æ ¹æ®CSIä¼°è®¡çš„ä¿¡é“è¡°å‡åé¦ˆåœ¨æ¥æ”¶ç«¯æˆ–è€…å‘é€ç«¯æ·»åŠ ä¸€ä¸ªå¢ç›Šï¼Œä»¥è¿½æ±‚æ‰€æœ‰å¤©çº¿çš„ä¿¡å™ªæ¯”ä¹‹å’Œæœ€å¤§ã€‚é€šå¸¸ä¸åŒå¤©çº¿çš„å¢ç›Šæ»¡è¶³ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image006.png" alt="MRC"></p><p>å³å¢ç›Šä¸ä¿¡é“è¡°å‡æˆæ­£æ¯”ï¼Œä¸ä¸Šè¿°çš„æè¿°ç›¸ç¬¦ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•é€šè¿‡CSIè§£å¾—çš„ä¿¡é“çŸ©é˜µæ±‚å‡ºæœ€å¤§æ¯”åˆå¹¶çš„æƒé‡ï¼Ÿæˆ‘ä»¬å°†çŸ©é˜µå†™æˆåˆ—å‘é‡çŸ©é˜µï¼Œæ¯ä¸€åˆ—è¡¨ç¤ºä¸€ä¸ªç”¨æˆ·å‘å‡ºçš„ä¿¡å·è¢«Mæ ¹å¤©çº¿æ¥å—çš„ä¿¡é“è¡°å‡ç³»æ•°ï¼Œå±äºå°å°ºåº¦è¡°å‡ã€‚æˆ‘ä»¬å¯¹ä¿¡é“çŸ©é˜µå–æ¨¡è®¡ç®—è¡°å‡å¯ä»¥å¾—åˆ°ä¸‹é¢å¼å­ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image007.png" alt="MRC"></p><p>ä¸­é—´çš„å±•å¼€å¼æš‚æ—¶ä¸ç†è§£ä¸ºä»€ä¹ˆç­‰äºè¿™ä¸ªç»“æœï¼Œä½†æ˜¯ç›´æ¥è€ƒè™‘åˆ°å±•å¼€ä¹‹å‰çš„éƒ¨åˆ†ï¼Œç”±äºç©ºé—´åŸŸçš„å¤æ‚æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾ä¸åŒå¤©çº¿çš„ä¿¡é“ä¹‹é—´æ˜¯äº’ä¸ç›¸å…³çš„ï¼Œç”±æ­¤æˆ‘ä»¬å°±èƒ½çŸ¥é“ä¸€ä¸ªä¿¡é“çš„å…±è½­è½¬ç½®ä¹˜ä¸Šå¦ä¸€ä¸ªä¿¡é“å¯ä»¥ç†è§£æ±‚å–ä¸ºä¸¤ä¸ªä¿¡é“çš„ç›¸å…³æ€§ï¼Œå› æ­¤å¯ä»¥è¿‘ä¼¼äº0ï¼›å¼å­1çš„ç»“æœæ˜¯å› ä¸ºå½“å‰ä¿¡é“å’Œè‡ªå·±çš„ç›¸å…³æ€§å›ºç„¶ä¸º1.è¿™æ ·æˆ‘ä»¬åªéœ€è¦é‡‡ç”¨çº¿æ€§çš„å¤„ç†æ–¹å¼å³æœ€å¤§æ¯”åˆå¹¶å°±å¯ä»¥å®ç°å¤§è§„æ¨¡MIMOä¸­å¤šä¸ªç”¨æˆ·çš„ä¼ æ’­ã€‚</p><h3 id="MIMOä¼˜ç¼ºç‚¹"><a href="#MIMOä¼˜ç¼ºç‚¹" class="headerlink" title="MIMOä¼˜ç¼ºç‚¹"></a>MIMOä¼˜ç¼ºç‚¹</h3><p>MIMOå®ç°äº†åœ¨åŒæ—¶ã€åŒé¢‘è¿›è¡Œå¤šç”¨æˆ·ä¼ æ’­ï¼ˆåˆ©ç”¨æ³¢æŸç©ºé—´å¤ç”¨ï¼‰ï¼Œå¼€å‘äº†ç©ºé—´åŸŸçš„èµ„æºåˆ©ç”¨ï¼Œæé«˜äº†å®¹é‡ã€‚ä½†æ˜¯äºæ­¤åŒæ—¶ï¼Œéšç€ç”¨æˆ·æ•°é‡å¤§é‡å¢åŠ ï¼Œä¿¡é“æ•°é‡æ ¹æ®åŸºç«™ä¾§çš„å¤©çº¿æ•°é‡å°ºåº¦è¿›è¡Œæ‰©å¼ ï¼Œè¿™ä¹Ÿä¼šå¯¼è‡´å¯¼é¢‘èµ„æºçš„ç´§ç¼ºï¼ˆä¸–é—´çœŸç†ï¼Œä¸€ä»¶äº‹ç‰©çš„å®½è£•ä¼šå¯¼è‡´å¦ä¸€ä»¶äº‹ç‰©çš„ç´§ç¼ºï¼‰ï¼Œå¯¼è‡´å¯¼é¢‘æ±¡æŸ“ã€‚å°±åƒåŸæœ¬æ˜¯ä¸€ä¸ª8x8çš„è±¡æ£‹æ ¼ï¼ŒåŸæœ¬æ˜¯é”™å¼€çš„æ’åˆ—ï¼Œå½“ç”¨æˆ·ï¼ˆåˆ—æ•°ï¼‰å¢åŠ æ—¶ï¼Œå°±ä¼šå‡ºç°æŸä¸€è¡Œæœ‰ä¸¤ä¸ªç”¨æˆ·ï¼Œè¿™ä¹Ÿå°±é€ æˆäº†å¯¼é¢‘æ±¡æŸ“ã€‚</p><h2 id="OFDMè°ƒåˆ¶"><a href="#OFDMè°ƒåˆ¶" class="headerlink" title="OFDMè°ƒåˆ¶"></a>OFDMè°ƒåˆ¶</h2><h3 id="ä»€ä¹ˆæ˜¯OFDMè°ƒåˆ¶"><a href="#ä»€ä¹ˆæ˜¯OFDMè°ƒåˆ¶" class="headerlink" title="ä»€ä¹ˆæ˜¯OFDMè°ƒåˆ¶"></a>ä»€ä¹ˆæ˜¯OFDMè°ƒåˆ¶</h3><p>OFDMï¼šæ­£äº¤é¢‘åˆ†å¤ç”¨ï¼Œé€šè¿‡å¤šè½½æ³¢è°ƒåˆ¶ï¼ˆåŠ è½½åœ¨ä¸åŒçš„é¢‘æ®µä¸Šï¼‰å®ç°å¯¹é¢‘ç‡é€‰æ‹©æ€§è¡°å¼±ä¸€å®šçš„æŠµæŠ—ï¼ŒåŒæ—¶å®ç°ä¸²è¡Œä¿¡å·å¹¶è¡Œä¼ è¾“ï¼Œæé«˜é€Ÿç‡ä¸”å°½é‡èŠ‚çœé¢‘å¸¦èµ„æºã€‚å¹¶è¡Œä¼ è¾“çš„ä¼˜åŠ¿è¿˜åœ¨äºå»¶é•¿äº†å•ä¸ªç¬¦å·çš„æŒç»­æ—¶é—´ï¼Œå‡è®¾æˆ‘éœ€è¦ä¼ è¾“å››ä¸ªç¬¦å·ï¼Œæ¯ä¸ªç¬¦å·æŒç»­0.25nsï¼Œé‚£ä¹ˆä¸€å…±ä¼ è¾“1nsï¼›å¦‚æœæˆ‘ä½¿ç”¨OFDMå¹¶è¡Œä¼ è¾“çš„è¯ï¼Œä½¿ç”¨4ä¸ªå­è½½æ³¢è¿›è¡Œè°ƒåˆ¶ï¼Œé‚£ä¹ˆåœ¨åŸæ¥çš„ä¼ è¾“æ—¶é—´1nså†…æˆ‘å¯ä»¥æ¯ä¸ªç¬¦å·ä¼ è¾“1nså¹¶è¡Œä¼ è¾“ï¼Œè¿™æ ·æˆ‘å•ä¸ªç¬¦å·çš„é•¿åº¦æ˜¯åŸæ¥çš„4å€ï¼Œé€šè¿‡ä¸€äº›çº é”™ç å¯ä»¥æ›´å®¹æ˜“æ ¡éªŒç¬¦å·ã€çº é”™ï¼Œæé«˜ç³»ç»Ÿå¯¹ISIçš„æŠµæŠ—æ€§ã€‚</p><p>OFDMå®ä¿¡å·çš„è°ƒåˆ¶è¡¨è¾¾å¼å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image008.png" alt="MRC"><br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image009.png" alt="MRC"></p><p>Nä¸ºå­è½½æ³¢çš„ä¸ªæ•°ã€‚åœ¨æ¥æ”¶ç«¯ç”±äºæ¯ä¸ªå­è½½æ³¢åœ¨é¢‘åŸŸä¸Šæ˜¯ç›¸äº’æ­£äº¤çš„ï¼Œå¯ä»¥å®¹æ˜“çš„é€šè¿‡ç›¸å¹²è§£è°ƒåˆ†ç¦»å‡ºæ¯ä¸€ä¸ªå­è½½æ³¢æ‰¿è½½çš„ä¿¡å·ï¼Œæœ€åå†å¹¶ä¸²è½¬æ¢å°±å¯ä»¥å¾—åˆ°ä¿¡é“ä¼ è¾“åçš„æ¥æ”¶ä¿¡å·ã€‚å½“ç„¶å®é™…çš„è°ƒåˆ¶è¿‡ç¨‹æ›´åŠ å¤æ‚ï¼Œä¸€ä¸ªå¯èƒ½çš„æ¡†å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image010.png" alt="MRC"></p><h3 id="OFDMçš„æŠ€æœ¯ç‰¹ç‚¹"><a href="#OFDMçš„æŠ€æœ¯ç‰¹ç‚¹" class="headerlink" title="OFDMçš„æŠ€æœ¯ç‰¹ç‚¹"></a>OFDMçš„æŠ€æœ¯ç‰¹ç‚¹</h3><p>ç”±äºä¿¡é“çš„ä¸ç¡®å®šæ€§ï¼Œå¦‚å¤šæ™®å‹’é¢‘ç§»å¯¼è‡´çš„éæ­£äº¤æ€§éƒ½ä¼šå¯¹OFDMä¼ é€’çš„ç¬¦å·é—´äº§ç”Ÿä¸¥é‡çš„å¹²æ‰°ï¼›æˆ–è€…æ™®éå­˜åœ¨çš„ç¬¦å·é—´å¹²æ‰°éƒ½ä¼šå¯¼è‡´OFDMçš„æ­£å¸¸ä¼ è¾“ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ä¼ è¾“çš„ç¬¦å·ä¹‹é—´æ’å…¥ä¸€æ®µé—´éš”ç§°ä¸ºä¿æŠ¤é—´éš”ï¼Œé€šè¿‡ç‰ºç‰²ä¸€éƒ¨åˆ†èµ„æºæ¢å–é€šä¿¡çš„ç¨³å®šæ€§ã€‚</p><p>åœ¨æ’å…¥ä¿æŠ¤é—´éš”çš„åŒæ—¶æ‰‹åŠ¨å¼•å…¥äº†æ—¶å»¶ï¼Œå†åŠ ä¸Šå¤šæ™®å‹’é¢‘ç§»å¯¼è‡´å­è½½æ³¢é—´ä¸å†æ˜¯ä¸¥æ ¼çš„æ­£äº¤ï¼Œå­è½½æ³¢ä¿¡é“ä¹‹é—´ä¼šäº§ç”Ÿå¹²æ‰°ï¼ŒICIå³ä¿¡é“é—´å¹²æ‰°ã€‚äºæ˜¯æ·»åŠ äº†å¾ªç¯å‰ç¼€ï¼Œè¡¥å…¨ä¿æŠ¤é—´éš”çš„ç©ºç¼ºï¼Œæ˜¯ä¸åŒä¿¡é“çš„ç¬¦å·ä¹‹é—´å¯¹é½ï¼Œä¿æŒå­è½½æ³¢ä¹‹é—´çš„æ­£äº¤æ€§ï¼Œå½“ç„¶ï¼Œè¿™æ ·ä¹Ÿå¯¼è‡´äº†èµ„æºçš„æµªè´¹ï¼Œä½†æ˜¯ä¹Ÿèƒ½å¤Ÿå‡å°‘å¤æ‚ä¿¡å·å¤„ç†çš„å¼€é”€ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image012.png" alt="MRC"></p><h2 id="ä¿¡é“ä¼°è®¡"><a href="#ä¿¡é“ä¼°è®¡" class="headerlink" title="ä¿¡é“ä¼°è®¡"></a>ä¿¡é“ä¼°è®¡</h2><p>ä¿¡é“ä¼°è®¡å³æ˜¯é€šè¿‡ä¿¡é“ä¼°è®¡ç®—æ³•ç­‰æ•°å­¦åˆ†ææ‰‹æ®µç ”ç©¶æ—¶å˜æ— çº¿ä¿¡é“çš„ä¿¡é“ç›¸å…³å‚æ•°ï¼Œè¿™äº›å‚æ•°å¯¹äºæ¥æ”¶ç«¯çš„æ•°æ®æ¢å¤æœ‰å¾ˆé‡è¦çš„ä½œç”¨ã€‚ä¿¡é“ä¼°è®¡ç®—æ³•å¤§è‡´ä¸Šå¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼Œéç›²ä¼°è®¡ã€åŠç›²ä¼°è®¡å’Œç›²ä¼°è®¡ã€‚è¿™é‡Œçš„â€œç›²â€æ˜¯æŒ‡å‘é€ç«¯çš„ä¿¡å·æ˜¯å¦å«æœ‰å¯¼é¢‘ï¼Œæ‰€è°“å¯¼é¢‘æ˜¯ä¸€æ®µæ¥æ”¶æ–¹å’Œå‘é€æ–¹çº¦å®šå¥½çš„ä¿¡å·ï¼Œé€šè¿‡è§‚æµ‹å¯¼é¢‘å‘ç”Ÿçš„å˜åŒ–å¯ä»¥è§£å‡ºä¿¡é“å¯¹å½“å‰ä¿¡å·çš„å“åº”ã€‚å› æ­¤æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨éç›²ä¼°è®¡çš„æ–¹æ³•ã€‚</p><h3 id="ä¼ ç»Ÿä¿¡é“ä¼°è®¡ç®—æ³•"><a href="#ä¼ ç»Ÿä¿¡é“ä¼°è®¡ç®—æ³•" class="headerlink" title="ä¼ ç»Ÿä¿¡é“ä¼°è®¡ç®—æ³•"></a>ä¼ ç»Ÿä¿¡é“ä¼°è®¡ç®—æ³•</h3><p>æ¥æ”¶ç«¯çš„ä¿¡å·æ˜¯ä¼ è¾“ä¿¡å·é€šè¿‡ä¿¡é“çš„å†²æ¿€å“åº”åå åŠ ä¸€ä¸ªåŠ æ€§é«˜æ–¯ç™½å™ªå£°çš„ç»“æœï¼Œé€šè¿‡ç®—æ³•å°†æ¥æ”¶ä¿¡å·è¿˜åŸæ¥è¿‘å‘é€ä¿¡å·ï¼Œè€Œä¼°è®¡ä¸å®é™…ä¹‹é—´çš„è¯¯å·®å°±æ˜¯è¡¡é‡ç®—æ³•ä¼˜è¶Šæ€§çš„ä¸€ä¸ªæŒ‡æ ‡ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image013.png" alt="MRC"></p><p>éç›²ä¼°è®¡æ˜¯åŸºäºå¯¼é¢‘çš„ä¿¡é“ä¼°è®¡ç®—æ³•ï¼Œå…¶ä¸­æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æœ‰LSç®—æ³•ã€‚å³æœ€å°äºŒä¹˜æ³•ï¼Œå…¶ä¼˜ç‚¹æ˜¯å¤æ‚åº¦ä½ï¼Œæ˜“å®ç°ã€‚ä¿¡é“æ¨¡å‹å¦‚ä¸‹</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image014.png" alt="MRC"><br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image015.png" alt="MRC"></p><p>ä¸Šè¿°æ•°å­¦è¡¨è¾¾å¼æ˜¯ä¿¡å·ç»è¿‡FFTåçš„é¢‘åŸŸè¡¨è¾¾ï¼ŒLSçš„ä¼°è®¡ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªä¿¡é“å“åº”èƒ½å¤Ÿä½¿HXå³ä¼°è®¡å€¼ä¸Yå®é™…æ¥æ”¶å€¼ä¹‹é—´çš„æ®‹å·®æœ€å°ï¼Œæ•°å­¦è¡¨ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image016.png" alt="MRC"></p><p>ç¬¬ä¸€è¡Œå°±æ˜¯æ±‚å–ä¸¤è€…çš„æ®‹å·®ï¼ŒçŸ©é˜µè¿ç®—ä¹Ÿå°±ç­‰äºå…±è½­è½¬ç½®Ã—åŸçŸ©é˜µã€‚æœ€åçš„å±•å¼€å¼æ˜¯ä¸€ä¸ªå…³äºHLSçš„ä¸€ä¸ªæ–¹ç¨‹ï¼Œæˆ‘ä»¬æƒ³è¦è®©æ®‹å·®æœ€å°ï¼Œä¹Ÿå°±æ˜¯åœ¨æ–¹ç¨‹çš„æå°å€¼å¤„å–å€¼ï¼Œå› æ­¤æˆ‘ä»¬å¯¹ä¸Šå¼æ±‚åå¯¼ä»¤ç­‰å¼ä¸¤è¾¹ä¸ºé›¶ï¼Œæœ€ç»ˆçš„ç»“æœæ˜¯ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image017.png" alt="MRC"><br><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image018.png" alt="MRC"></p><p>å…¶ä¸­<img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image019.png" alt="MRC">è¡¨ç¤ºä¸ºXçš„ä¼ªé€†çŸ©é˜µã€‚å¯¹LSç®—æ³•æ±‚ä¸€ä¸‹å‡æ–¹è¯¯å·®å¯ä»¥å¾—åˆ°ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image021.png" alt="MRC"></p><p>ç»“æœæ˜¯ä¿¡å™ªæ¯”ï¼ˆSNRï¼‰çš„å€’æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´å½“ä¿¡é“çš„ä¿¡å™ªæ¯”è¶Šé«˜ï¼ŒLSç®—æ³•çš„ä¼°è®¡æ•ˆæœè¶Šå¥½ï¼Œåè¿‡æ¥ä¹Ÿæ„å‘³ç€LSç®—æ³•æ˜“å—å™ªå£°å¹²æ‰°ã€‚ä»æ¨¡å‹çš„å»ºç«‹ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œè‹¥å¿½ç•¥åŠ æ€§ç™½å™ªå£°é‚£ä¸€é¡¹ï¼Œä¼°è®¡å€¼å°±ç­‰äºå®é™…å€¼ã€‚</p><p>ç”±äºLSç®—æ³•å¯¹å™ªå£°çš„å¿½ç•¥ï¼Œå¯¼è‡´LSåœ¨å®é™…çš„åº”ç”¨ä¸Šä¼°è®¡è¯¯å·®è¾ƒå¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬è€ƒè™‘å¦ä¸€ç§ç®—æ³•å³MMSEç®—æ³•ã€‚ä¸åƒLSç®—æ³•é€šè¿‡å¯¹å¯¼é¢‘ä¿¡å·çš„ä¼°è®¡ä¸åŸä¿¡å·ä¹‹é—´çš„å·®å€¼æ¥å–å¾—ä¿¡é“ä¼°è®¡çš„æœ€ä½³ï¼ŒMMSEç›´æ¥å¯¹ä¿¡é“çš„å†²æ¿€å“åº”è¿›è¡Œä¼°è®¡ï¼Œç„¶åé€šè¿‡ä¿¡é“å“åº”çš„ä¼°è®¡ä¸çœŸå®ä¿¡é“å“åº”ä¹‹é—´çš„å·®å€¼æ¥å–å¾—æœ€ä½³ï¼Œè¿™ä¹Ÿå°±è€ƒè™‘åˆ°ä¿¡é“çš„å¤šç§ç‰¹è´¨ï¼ˆåŒ…æ‹¬å™ªå£°ï¼‰ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image022.png" alt="MRC"></p><p>æœ€å°å‡æ–¹è¯¯å·®ç®—æ³•çš„æ€è·¯å°±æ˜¯å®ç°ä¿¡é“ä¼°è®¡ç»“æœä¸ä¿¡é“å“åº”çš„çœŸå®å€¼ä¹‹é—´çš„å‡æ–¹è¯¯å·®è¾¾åˆ°æœ€ä½å€¼ã€‚æˆ‘ä»¬å‡è®¾ä¸€ä¸ªçŸ©é˜µMä½¿å¾—MYèƒ½å¤Ÿé€¼è¿‘å‘å°„ä¿¡å·Xï¼Œä»¤ä¿¡é“å“åº”ä¼°è®¡çŸ©é˜µHMMSEä¸ºMYï¼Œå‡æ–¹å·®ä¹Ÿå°±æ˜¯</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image023.png" alt="MRC"></p><p>è¿™æ˜¯ä¸€ä¸ªå…³äºMçŸ©é˜µçš„å‡½æ•°ï¼Œæˆ‘ä»¬æƒ³è®©å‡æ–¹å·®å–å¾—æå°å€¼ä¹Ÿå°±æ˜¯è¦ä»¤åå¯¼ä¸º0ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image024.png" alt="MRC"></p><p>å‘ç°MçŸ©é˜µæ˜¯çœŸå®ä¿¡é“çŸ©é˜µå†²æ¿€å“åº”ä¸æ¥æ”¶ç«¯ä¿¡å·çš„äº’ç›¸å…³çŸ©é˜µä¹˜ä¸Šæ¥æ”¶ç«¯ä¿¡å·è‡ªç›¸å…³çŸ©é˜µçš„é€†ã€‚æœ€åä¿¡é“å“åº”ä¼°è®¡çŸ©é˜µç”±ç­‰å¼HMMSE &#x3D; MYå¾—å‡º</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image025.png" alt="MRC"></p><p>MMSE ä¿¡é“ä¼°è®¡ç®—æ³•ç›¸å¯¹äºå‰é¢çš„ LS ç®—æ³•,æœ€å¤§çš„æ”¹è¿›ä¹‹å¤„åœ¨äºæ¶ˆé™¤å™ªå£°å¯¹ä¿¡é“ä¼°è®¡çš„ä¸è‰¯å½±å“,èƒ½å¤Ÿå®ç°æ›´ä¸ºç²¾å‡†çš„ä¿¡é“ä¼°è®¡æ•ˆæœã€‚ä½†æ˜¯æˆ‘ä»¬ä»ç®—æ³•çš„æ€æƒ³ä¸­ä¹Ÿå¯ä»¥å‘ç°ï¼ŒMMSEç®—æ³•æ˜¯åŸºäºçœŸå®ä¿¡é“çš„è‡ªç›¸å…³çŸ©é˜µå®ç°çš„ï¼Œç®—æ³•è¦æ±‚ä¿¡é“çš„ç»Ÿè®¡å…ˆéªŒä¿¡æ¯ï¼Œè€Œè¿™å¾€å¾€éœ€è¦å¾ˆå¤§çš„å·¥ä½œé‡ï¼Œè€Œä¸”å¤§é‡çš„çŸ©é˜µè¿ç®—ä¹Ÿå¯¼è‡´è¿ç®—çš„å¤æ‚åº¦å¢å¤§ä»¥åŠç®—åŠ›çš„éœ€æ±‚ã€‚</p><hr><p>æ€»ç»“ä¸€ä¸‹ï¼Œä¸Šé¢ä¸¤ç§ç®—æ³•å¯¹äºä¿¡é“ä¼°è®¡åœ¨æŸäº›å±‚é¢ä¸Šéƒ½æœ‰è¾ƒå¥½çš„è¡¨ç°ï¼ŒLSç®—æ³•æ˜¯é€šè¿‡å‡å®šä¸€ä¸ªä¿¡é“å“åº”HLSï¼Œé€šè¿‡å°†å¯¼é¢‘é€šè¿‡å‡è®¾çš„ä¿¡é“å“åº”ä¸æ¥æ”¶ç«¯å®é™…æ¥æ”¶çš„å¯¼é¢‘ä¹‹é—´çš„å‡æ–¹å·®æ¥ä¼°è®¡ä¿¡é“å“åº”ï¼Œè¿™ç§å‡è®¾å¿½ç•¥äº†ä¿¡é“ä¸­å™ªå£°çš„å½±å“ã€‚è€ŒMMSEç®—æ³•é€šè¿‡å‡è®¾ä¸€ä¸ªçŸ©é˜µMï¼Œå‡å®šä¿¡é“å“åº”ç­‰äºæ¥æ”¶ç«¯çš„å¯¼é¢‘ä¹˜ä¸ŠçŸ©é˜µMå³MYï¼Œé€šè¿‡çœŸå®ä¿¡é“å“åº”ä¸ä¼°è®¡çš„ä¿¡é“å“åº”ä¹‹é—´çš„å‡æ–¹å·®æ¥ä¼°è®¡ä¿¡é“å“åº”ï¼Œè¿™ç§å‡è®¾è€ƒè™‘åˆ°ä¿¡é“ä¸­çš„å™ªå£°æé«˜äº†ç²¾åº¦ï¼Œä½†æ˜¯éœ€è¦å…ˆéªŒæ¡ä»¶å³çœŸæ˜¯ä¿¡é“çš„è‡ªç›¸å…³çŸ©é˜µã€‚</p><h2 id="å‹ç¼©æ„ŸçŸ¥"><a href="#å‹ç¼©æ„ŸçŸ¥" class="headerlink" title="å‹ç¼©æ„ŸçŸ¥"></a>å‹ç¼©æ„ŸçŸ¥</h2><p>å‹ç¼©æ„ŸçŸ¥åŸºäºä¿¡å·çš„ç¨€ç–æ€§ã€‚è¯¥æŠ€æœ¯çš„åŸç†æ˜¯:é¦–å…ˆæ±‚å–å¾—åˆ°ä¸€ä¸ªåŸŸ,å®ƒå¯ä»¥å®ç°å°†åŸå§‹ä¿¡å·è½¬æ¢è‡³æ­¤åŸŸåèƒ½å±•ç°å‡ºä¿¡å·çš„ç¨€ç–æ€§è´¨,å®ŒæˆåŸå§‹ä¿¡å·çš„ç¨€ç–å˜æ¢;ç„¶åä¸ºå˜æ¢å¾—æ¥çš„ç¨€ç–ä¿¡å·å¯»æ‰¾åˆé€‚çš„è§‚æµ‹çŸ©é˜µ,å½¢æˆè¾ƒä½ç»´åº¦çš„ä¿¡å·;æœ€åä»¥ä½é‡‡æ ·çš„ä»£ä»·,åº”ç”¨é‡æ„ç®—æ³•æŠŠåŸæ¥çš„ä¿¡å·ä¼°è®¡å‡ºæ¥,å›åˆ°ç¨€ç–åŸŸè¿›è¡Œå¤„ç†ã€‚ä¾‹å¦‚ï¼Œä¿¡å·é€šè¿‡æ— çº¿ä¿¡é“åˆ°è¾¾åŸºç«™çš„å¤©çº¿é˜µåˆ—ï¼Œä»åˆ°è¾¾çš„è§’åº¦è€ƒè™‘ï¼Œå®é™…ä¿¡å·åˆ°è¾¾çš„è§’åº¦å¾ˆæœ‰é™ï¼Œåœ¨è§’åº¦åŸŸä¸Šå‘ˆç°å‡ºç¨€ç–æ€§ã€‚</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image026.png" alt="MRC"></p><p>å¦‚æœä¿¡å·æœ¬èº«ä¸å…·æœ‰æŸäº›ç¨€ç–æ€§ï¼Œåˆ™åˆ©ç”¨æŸä¸€æ­£äº¤åŸºå®ç°çº¿æ€§çš„ç¨€ç–è½¬å˜ï¼š</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image028.png" alt="MRC"></p><p>Xæ˜¯åŸå§‹çš„Nä¸ºä¿¡å·å‘é‡ï¼Œ<img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image029.png" alt="thi">æ˜¯ç¨€ç–å˜åŒ–çŸ©é˜µï¼Œ<img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image031.png" alt="theta">æ˜¯å®Œæˆè½¬å˜çš„ç¨€ç–ä¿¡å·ã€‚å®Œæˆä¿¡å·çš„ç¨€ç–è½¬å˜åçš„ç¬¬äºŒéƒ¨å°±æ˜¯è¿›è¡Œæµ‹é‡çŸ©é˜µçš„è®¾è®¡é—®é¢˜ï¼Œå°†ä¸Šä¸€æ­¥å®Œæˆçš„ç¨€ç–ä¿¡å·ä¸æµ‹é‡çŸ©é˜µç›¸ä¹˜çš„ç›®çš„æ˜¯å°†ä¿¡å·é™ç»´ã€‚ï¼ˆå»é™¤å†—ä½™çš„ä¿¡æ¯ï¼‰</p><p><img src="https://raw.githubusercontent.com/allforkarina/embadded_image/refs/heads/master/image033.png" alt="MRC"></p><p>æµ‹é‡çŸ©é˜µÃ—ç¨€ç–å˜æ¢çŸ©é˜µå¾—åˆ°äº†Aå³æ„ŸçŸ¥çŸ©é˜µã€‚åŸä¿¡å·æ˜¯ä¸€ä¸ªNç»´çš„ä¿¡å·ï¼Œè€Œæ„ŸçŸ¥çŸ©é˜µæ˜¯ä¸€ä¸ªMÃ—Nçš„çŸ©é˜µï¼Œä¹Ÿå°±æ˜¯è¯´å®ç°äº†é™ç»´ï¼Œåç»­åªéœ€è¦å€ŸåŠ©Mç»´ä¿¡å·å°±å¯ä»¥å®ç°æœ€ç»ˆçš„åŸå§‹ä¿¡å·çš„æ¢å¤ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>5G, é€šæ„Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>5G, Channel state infomation(CSI)</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åˆè¯†æ— çº¿é€šä¿¡â€”â€”5G ä¿¡é“ä¼°è®¡</title>
    <link href="/2025/04/02/Knowing_5G/"/>
    <url>/2025/04/02/Knowing_5G/</url>
    
    <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯æ— çº¿é€šä¿¡"><a href="#ä»€ä¹ˆæ˜¯æ— çº¿é€šä¿¡" class="headerlink" title="ä»€ä¹ˆæ˜¯æ— çº¿é€šä¿¡"></a>ä»€ä¹ˆæ˜¯æ— çº¿é€šä¿¡</h1><p>ä½ åœ¨ä½ çš„æ‰‹æœºå¾®ä¿¡ä¸Šç¼–è¾‘äº†ä¸€æ®µæ–‡å­—ï¼Œè½»ç‚¹å‘é€ï¼Œè¿œåœ¨å¤©è¾¹çš„äº²æœ‹å¥½å‹ä¾¿èƒ½å¤Ÿå‡ ä¹ç¬æ—¶çš„æ¥æ”¶åˆ°ä½ è®¯æ¯ï¼Œè¿™å›ºç„¶å¾ˆå¥½ã€‚ä½†æ˜¯ä½ æ˜¯å¦æƒ³è±¡è¿‡ï¼Œè¿™ä¸ªä¼ è¾“çš„è¿‡ç¨‹æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿå¯èƒ½ä½ çŸ¥é“ï¼Œæ‰‹æœºå‘æ‰‹æœºåŸºç«™å‘é€ä¿¡æ¯ï¼Œç„¶ååŸºç«™ä¹‹é—´å†è¿›è¡Œä¼ è¾“ï¼Œæœ€åç”±åŸºç«™å‘æ‰‹æœºå¯¹é¢çš„äººå‘é€æ¶ˆæ¯ã€‚é‚£ä¹ˆï¼Œç°åœ¨è¯·ä½ æŠ¬å¤´ï¼Œçœ‹çœ‹ä½ å‘¨å›´ï¼Œä½ æ˜¯å¦ç”Ÿæ´»åœ¨â€œç›˜ä¸æ´â€ä¹‹ä¸­ã€‚æˆ‘ç›¸ä¿¡æ­£å¸¸çš„ç­”æ¡ˆæ˜¯å¦çš„ï¼ˆå¦‚æœä½ è¯´yesï¼Œé‚£ä½ å¾ˆå‰å®³å“Ÿï¼‰ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„æ— çº¿é€šä¿¡ã€‚è¿™æ˜¯ä¸€ä¸ªå ªç§°ä¼Ÿå¤§çš„ç§‘æŠ€æ‰‹æ®µï¼Œè¦æ˜¯ä¿¡å·éƒ½åªèƒ½é€šè¿‡å…‰çº¤ã€ä¿¡å·çº¿ä¼ è¾“ï¼Œé‚£æˆ‘ä»¬å°±çœŸçš„ç”Ÿæ´»åœ¨ç›˜ä¸æ´ä¹‹ä¸­äº†ï¼ˆ!_!ï¼‰æˆ‘ä»¬ç°åœ¨å¸¸ç”¨çš„ç§»åŠ¨è®¾å¤‡åƒæ‰‹æœºã€ç”µè„‘ã€ç”µè§†è¿™äº›ï¼Œéƒ½é…å¤‡æœ‰å¤©çº¿ï¼Œåœ¨åŸºç«™å®‰è£…è¿™å‡ åä¸Šç™¾çš„å¤©çº¿æ„æˆé˜µåˆ—æ¥æ¥å—æˆ‘ä»¬å‘ä»–å‘é€çš„ä¿¡æ¯ï¼ˆåé¢ç»Ÿç§°ä¸ºä¿¡å·ï¼‰ã€‚</p><p>é‚£ä½ å¯èƒ½ä¼šè¯´ï¼Œå°±è¿™ï¼Ÿä½ ä¸€æ ¹å¤©çº¿ã€æˆ‘ä¸€æ ¹å¤©çº¿å°±èƒ½è§£å†³çš„äº‹æƒ…ï¼Œèƒ½ç§°å¾—ä¸Šä¼Ÿå¤§ï¼Ÿå½“ç„¶ä¸æ˜¯è¿™ä¹ˆç®€å•ï¼Œä½ åœ¨ç”Ÿæ´»ä¸­ä¸éš¾å‘ç°ï¼Œå‘å‰æ¨ä¸€è¾†è½¦ï¼Œè¿‡ä¸€ä¼šä»–å°±ä¼šè‡ªå·±åœä¸‹æ¥ï¼›å‘å‰è¯´è¯ï¼Œå£°éŸ³å´åƒæ˜¯ä»å‰é¢ä¼ æ¥ã€‚è¿™äº›è¯´æ˜ä¸¤ç‚¹ï¼š</p><ol><li>æ—¥å¸¸ç”Ÿæ´»ä¸­å­˜åœ¨é˜»åŠ›ï¼Œæˆ–è€…è¯´è¡°å‡ï¼Œç©ºä¸­ä¼ é€’çš„ä¿¡å·ä¹Ÿä¸ä¾‹å¤–ä¼šå—åˆ°è¡°å‡ï¼Œå¯¼è‡´ä»æ‰‹æœºåˆ°åŸºç«™çš„ä¿¡å·çš„è´¨é‡å¾€å¾€ä¸å¦‚æ‰‹æœºç«¯åˆšå‘å‡ºã€‚</li><li>ä¿¡å·ä¸æ˜¯åƒä¸€æ ¹çº¿ä¸€æ ·å›ºå®šä¸€ä¸ªæ–¹å‘ä¼ æ’­ï¼Œè€Œæ˜¯åƒå£°æ³¢ä¸€æ ·å‘å››å‘¨æ‰©æ•£çš„ä¼ æ’­ï¼Œç¢°åˆ°ç‰©ä½“ä¹Ÿä¼šåå°„ã€‚ç°å®ç”Ÿæ´»ä¸­çš„åå°„ç‰©æ›´åŠ å¤šï¼Œè¿™å¯¼è‡´ä½ å‘å‡ºçš„ä¿¡å·åœ¨ä¼ æ’­è¿‡ç¨‹ä¸­ä¼šå˜æˆ2ä¸ªã€4ä¸ªã€8ä¸ªç”šè‡³æ›´å¤šï¼Œè¿™äº›ä¿¡å·ä¼ è¾“åˆ°åŸºç«™å°±ä¼šäº§ç”Ÿè¯¸å¤šé—®é¢˜ï¼Œæ¯”å¦‚å“ªä¸ªä¿¡å·æ‰æ˜¯ä½ æ‰‹æœºå‘å‡ºçš„ï¼Ÿä¸åŒä¿¡å·ä¹‹é—´çš„åˆ°è¾¾æ—¶é—´è¿˜ä¸åŒï¼Œå¯èƒ½å¯¼è‡´é€šä¿¡çš„å»¶è¿Ÿã€‚</li></ol><p>æ— è®ºæ˜¯ä¸Šé¢ä¿¡å·çš„è¡°å‡è¿˜æ˜¯åå°„å¯¼è‡´å¤šå¾„ï¼ˆåç»­ç§°åå°„å¯¼è‡´çš„å¤šä¸ªä¿¡å·ä¸ºå¤šå¾„ï¼‰éƒ½ä¼šé€ æˆä¿¡å·å»¶æ—¶ã€ä¿¡å·é”™ä¹±æˆ–è€…ä¸¢åŒ…çš„ç°è±¡ã€‚è¿™ä¹Ÿå°±å¼•èµ·ç§‘å­¦å®¶ä»¬å¯¹æ— çº¿ä¿¡å·ä¼ è¾“çš„ä»‹è´¨ï¼ˆåç»­æˆ‘ä»¬ç§°ä¸ºä¿¡é“ï¼‰çš„ç ”ç©¶çƒ­æƒ…ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„ä¿¡é“ä¼°è®¡ã€‚</p><h1 id="ä»€ä¹ˆæ˜¯ä¿¡é“"><a href="#ä»€ä¹ˆæ˜¯ä¿¡é“" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¿¡é“"></a>ä»€ä¹ˆæ˜¯ä¿¡é“</h1><p>é€šè¿‡ä¸Šé¢çš„ç®€å•è®²è¿°ï¼Œæˆ‘ä»¬çŸ¥é“äº†ä¿¡å·ä¼ è¾“éœ€è¦å€ŸåŠ©ä¿¡é“æ¥è¿›è¡Œï¼Œä½†æ˜¯ä¿¡é“æ˜¯ä»€ä¹ˆï¼Ÿç®€å•æ¥è¯´ï¼Œä¿¡é“å°±æ˜¯ä¿¡æ¯ä¼ è¾“çš„â€œé“è·¯â€ï¼Œå®ƒå†³å®šäº†ä½ çš„ä¿¡å·åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å“ªäº›â€œå‘å‘æ´¼æ´¼â€ï¼Œä»¥åŠå®ƒæœ€ç»ˆèƒ½å¦é¡ºåˆ©åˆ°è¾¾ç»ˆç‚¹ã€‚ä¿¡é“å¯ä»¥æŒ‰ç…§ç‰©ç†æ€§è´¨è¿›ä¸€æ­¥ç»†åˆ†æˆä¸¤å¤§ç±»ï¼š</p><ol><li><strong>æœ‰çº¿ä¿¡é“</strong>ï¼šä½ å¯ä»¥æŠŠå®ƒç†è§£æˆç°å®ç”Ÿæ´»ä¸­çš„â€œé«˜é€Ÿå…¬è·¯â€ï¼Œå…‰çº¤ã€ç”µç¼†ç­‰ç‰©ç†ä»‹è´¨å°±åƒæ˜¯åšå›ºçš„å…¬è·¯ï¼Œä¿è¯äº†ä¿¡å·å¯ä»¥ç¨³å®šä¼ è¾“ã€‚</li><li><strong>æ— çº¿ä¿¡é“</strong>ï¼šå®ƒæ›´åƒæ˜¯ä¸€æ¡â€œç©ºä¸­èˆªçº¿â€ï¼Œä¿¡å·ä¾é ç”µç£æ³¢åœ¨ç©ºä¸­ä¼ æ’­ï¼Œä¸éœ€è¦ä»»ä½•å®ä½“çš„ä»‹è´¨æ”¯æ’‘ï¼Œä½†ä¹Ÿå› æ­¤å®¹æ˜“å—åˆ°å¹²æ‰°ã€‚</li></ol><p>è€Œæˆ‘ä»¬çš„æ‰‹æœºä¿¡å·åœ¨ç»å¤§éƒ¨åˆ†çš„æƒ…å†µä¸‹æ˜¯æŒ‰ç…§æ— çº¿çš„æ–¹å¼è¿›è¡Œä¼ è¾“çš„ï¼Œè€Œæ— çº¿ä¿¡é“ä¸åƒæœ‰çº¿ä¿¡é“é‚£æ ·å—ç‰©ç†çº¿è·¯ä¿æŠ¤ï¼Œå®ƒåœ¨ç°å®ç¯å¢ƒä¸­ä¼šå—åˆ°å„ç§å› ç´ çš„å½±å“ï¼Œå¯¼è‡´ä¿¡å·åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å˜å¾—â€œå´å²–ä¸å¹³â€ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸ºäº†æ›´å¥½çš„ä¼ è¾“ä¿¡å·ï¼Œæˆ‘ä»¬å°±éœ€è¦ç ”ç©¶æ— çº¿ä¿¡é“çš„ä¸€äº›ç‰¹æ€§ã€‚</p><h3 id="è¡°å¼±"><a href="#è¡°å¼±" class="headerlink" title="è¡°å¼±"></a><strong>è¡°å¼±</strong></h3><p>ä½ æœ‰æ²¡æœ‰è¯•è¿‡åœ¨ä¸€ä¸ªæˆ¿é—´é‡Œèµ°åŠ¨æ—¶ï¼Œæ‰‹æœºçš„ä¿¡å·æ—¶å¥½æ—¶åï¼Ÿè¿™å°±æ˜¯è¡°è½çš„è¡¨ç°ã€‚è¡°è½çš„åŸå› æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ä¿¡å·åœ¨ä¼ æ’­è¿‡ç¨‹ä¸­é‡åˆ°éšœç¢ç‰©ï¼ˆå¢™å£ã€å»ºç­‘ç‰©ç­‰ï¼‰ï¼Œæˆ–è€…éšç€ä¼ æ’­è·ç¦»çš„å¢åŠ ï¼Œèƒ½é‡é€æ¸å‡å°‘ã€‚æˆ‘ä»¬é€šå¸¸æŠŠè¡°è½åˆ†æˆä¸¤ç±»ï¼š</p><ol><li><strong>å¤§å°ºåº¦è¡°è½</strong>ï¼šå½±å“çš„æ˜¯ä¿¡å·çš„æ•´ä½“å¼ºåº¦ï¼Œå’Œä¼ æ’­è·ç¦»ã€ç¯å¢ƒå¯†é›†ç¨‹åº¦æœ‰å…³ã€‚æ¯”å¦‚ï¼Œä½ ç«™åœ¨ç©ºæ—·çš„è‰åŸä¸Šï¼Œæ‰‹æœºä¿¡å·å¯èƒ½å¾ˆå¥½ï¼›ä½†å¦‚æœä½ è¿›å…¥é«˜æ¥¼å¤§å¦çš„ç”µæ¢¯ï¼Œä¿¡å·å¯èƒ½ä¼šç¬é—´å˜å·®ã€‚</li><li><strong>å°å°ºåº¦è¡°è½</strong>ï¼šå½±å“çš„æ˜¯ä¿¡å·çš„ç»†å¾®æ³¢åŠ¨ï¼Œé€šå¸¸æ˜¯å› ä¸ºå¤šæ¡è·¯å¾„çš„ä¿¡å·ç›¸äº’å¹²æ‰°ï¼Œæ¯”å¦‚ä½ åœ¨åŸå¸‚çš„è¡—é“ä¸Šèµ°åŠ¨æ—¶ï¼Œä¿¡å·å¯èƒ½ä¼šåœ¨ä¸åŒå»ºç­‘ç‰©é—´åå°„ï¼Œå¯¼è‡´è´¨é‡ä¸ç¨³å®šã€‚</li></ol><h3 id="å¤šå¾„æ•ˆåº”"><a href="#å¤šå¾„æ•ˆåº”" class="headerlink" title="å¤šå¾„æ•ˆåº”"></a><strong>å¤šå¾„æ•ˆåº”</strong></h3><p>æƒ³è±¡ä¸€ä¸‹ä½ åœ¨å±±è°·ä¸­å¤§å–Šä¸€å£°ï¼Œä½ çš„å£°éŸ³ä¼šç»è¿‡ä¸åŒè·¯å¾„åå°„å›æ¥ï¼Œå½¢æˆâ€œå›å£°â€ã€‚æ— çº¿ä¿¡å·çš„æƒ…å†µä¹Ÿæ˜¯å¦‚æ­¤â€”â€”ä¿¡å·åœ¨ä¼ æ’­è¿‡ç¨‹ä¸­ï¼Œä¼šå› ä¸ºç¢°åˆ°å»ºç­‘ç‰©ã€æ ‘æœ¨ã€åœ°é¢ç­‰äº§ç”Ÿåå°„ã€æŠ˜å°„ã€æ•£å°„ç­‰ç°è±¡ï¼Œä»è€Œå½¢æˆå¤šä¸ªåˆ°è¾¾æ¥æ”¶ç«¯çš„è·¯å¾„ã€‚é—®é¢˜æ˜¯ï¼Œä¸åŒè·¯å¾„çš„ä¿¡å·ä¼ æ’­æ—¶é—´ä¸ä¸€æ ·ï¼Œåˆ°è¾¾æ¥æ”¶ç«¯æ—¶å¯èƒ½ä¼šç›¸äº’å åŠ æˆ–æŠµæ¶ˆï¼Œå¯¼è‡´ä¿¡å·å¤±çœŸã€‚è¿™ç§ç°è±¡è¢«ç§°ä¸ºå¤šå¾„æ•ˆåº”ã€‚å¤šå¾„æ•ˆåº”ä¼šå¯¼è‡´ä¸¤ç§è¡°è½ï¼š</p><ol><li>å¹³å¦è¡°è½ï¼šå¦‚æœä¿¡å·çš„å¸¦å®½è¾ƒå°ï¼Œæ•´ä¸ªé¢‘æ®µçš„ä¿¡é“å½±å“å‡ ä¹ç›¸åŒï¼Œè¡°è½ä¸ä¼šå¤ªä¸¥é‡ã€‚</li><li>é¢‘ç‡é€‰æ‹©æ€§è¡°è½ï¼šå¦‚æœä¿¡å·çš„å¸¦å®½è¾ƒå¤§ï¼Œä¸åŒé¢‘ç‡çš„ä¿¡å·åˆ†é‡ä¼šå—åˆ°ä¸åŒç¨‹åº¦çš„è¡°è½ï¼Œä»è€Œå¯¼è‡´æ¥æ”¶ä¿¡å·çš„ç•¸å˜ã€‚</li></ol><h3 id="å¤šæ™®å‹’æ•ˆåº”"><a href="#å¤šæ™®å‹’æ•ˆåº”" class="headerlink" title="å¤šæ™®å‹’æ•ˆåº”"></a><strong>å¤šæ™®å‹’æ•ˆåº”</strong></h3><p>å¦‚æœä½ ååœ¨è·¯è¾¹ï¼Œå¬ç€è¿œå¤„é©¶æ¥çš„æ•‘æŠ¤è½¦è­¦ç¬›å£°ï¼Œä½ ä¼šå‘ç°å£°éŸ³çš„é¢‘ç‡åœ¨æ¥è¿‘æ—¶å˜é«˜ï¼Œè¿œç¦»æ—¶å˜ä½ã€‚è¿™å°±æ˜¯å¤šæ™®å‹’æ•ˆåº”ã€‚åœ¨æ— çº¿é€šä¿¡ä¸­ï¼Œå¦‚æœä¿¡å·çš„å‘å°„ç«¯æˆ–æ¥æ”¶ç«¯åœ¨è¿åŠ¨ï¼ˆæ¯”å¦‚ä½ åœ¨å¼€è½¦æ—¶æ‰“ç”µè¯ï¼‰ï¼Œä¿¡å·çš„é¢‘ç‡ä¼šå‘ç”Ÿåç§»ï¼Œå½±å“é€šä¿¡è´¨é‡ã€‚å¤šæ™®å‹’æ•ˆåº”å¸¦æ¥çš„ä¸»è¦å½±å“æ˜¯ï¼š</p><ol><li><strong>é¢‘ç‡åç§»</strong>ï¼šä¿¡å·çš„é¢‘ç‡å‘ç”Ÿå˜åŒ–ï¼Œå¯èƒ½ä¼šå¯¼è‡´è§£è°ƒå›°éš¾ã€‚</li><li><strong>å¿«è¡°è½</strong>ï¼šå½“ä¿¡é“çš„å˜åŒ–é€Ÿåº¦æ¯”ä¿¡å·çš„å˜åŒ–å¿«æ—¶ï¼Œä½ åœ¨ä¼ è¾“ä¸€ä¸ªä¿¡å·ç¬¦å·çš„æ—¶å€™ï¼Œè¿˜æ²¡ä¼ å®Œä¿¡é“çš„æ€§è´¨å°±å‘ç”Ÿäº†æ”¹å˜ï¼Œä¿¡å·å°±ä¼šè¿…é€Ÿå¤±çœŸï¼Œå½±å“é€šä¿¡çš„ç¨³å®šæ€§ã€‚</li></ol><p>æ— çº¿ä¿¡é“æ˜¯ä¿¡æ¯ä¼ è¾“çš„â€œæ— å½¢é“è·¯â€ï¼Œä½†å®ƒå¹¶ä¸æ€»æ˜¯å¹³å¦é¡ºç•…çš„ã€‚è¡°è½ã€å¤šå¾„æ•ˆåº”ã€å¤šæ™®å‹’æ•ˆåº”è¿™äº›é—®é¢˜ï¼Œä½¿å¾—æ— çº¿ä¿¡å·åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¼šå‡ºç°å„ç§ä¸å¯é¢„æµ‹çš„å˜åŒ–ã€‚è¿™ä¹Ÿæ­£æ˜¯ç§‘å­¦å®¶ä»¬ç ”ç©¶ä¿¡é“ç‰¹æ€§çš„åŸå› â€”â€”ä»–ä»¬å¸Œæœ›æ‰¾åˆ°æ›´å¥½çš„æ–¹æ³•æ¥å¯¹æŠ—ä¿¡é“çš„ä¸åˆ©å½±å“ï¼Œè®©æ— çº¿é€šä¿¡å˜å¾—æ›´åŠ ç¨³å®šé«˜æ•ˆã€‚é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½è®©ä¿¡å·åœ¨å¤æ‚çš„æ— çº¿ç¯å¢ƒä¸‹ä¾ç„¶ä¿æŒè‰¯å¥½çš„è´¨é‡å‘¢ï¼Ÿåˆ«ç€æ€¥ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ä¸‹ä¸€æ­¥è¦è®¨è®ºçš„è¯é¢˜â€”â€”ä¿¡é“ä¼°è®¡ï¼</p><h1 id="ä»€ä¹ˆæ˜¯ä¿¡é“ä¼°è®¡ï¼ˆCSIï¼‰"><a href="#ä»€ä¹ˆæ˜¯ä¿¡é“ä¼°è®¡ï¼ˆCSIï¼‰" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¿¡é“ä¼°è®¡ï¼ˆCSIï¼‰"></a>ä»€ä¹ˆæ˜¯ä¿¡é“ä¼°è®¡ï¼ˆCSIï¼‰</h1><p>æˆ‘åœ¨ä¸Šé¢é€šè¿‡ä¸€ç§ä¸¾ä¾‹å­çš„æ–¹å¼å¸¦ä½ ç®€è¦çš„ç†è§£äº†ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ— çº¿é€šä¿¡ä»¥åŠæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦åšä¿¡é“ä¼°è®¡ï¼Œä¸‹é¢æˆ‘ä»å­¦æœ¯ä¸€ç‚¹çš„è§’åº¦ä¸Šè§£é‡Šä»€ä¹ˆæ˜¯ä¿¡é“ä¼°è®¡ã€ä¸ºä»€ä¹ˆéœ€è¦ä¿¡é“ä¼°è®¡ï¼Œä»¥åŠä¿¡é“ä¼°è®¡æœ‰ä»€ä¹ˆç”¨ï¼ˆä½œè€…ä¹Ÿæ˜¯åˆå­¦è€…ï¼Œä»…ä½œä¸ºå‚è€ƒä»¥åŠè¡¥å……ï¼‰ï¼Ÿä¿¡é“ä¼°è®¡ï¼Œé¡¾åæ€ä¹‰æ˜¯å¯¹ä¿¡é“å‚æ•°è¿›è¡Œçš„ä¸€ç§ä¼°è®¡ã€‚ç”±äºä¿¡é“çš„ä¸ç¡®å®šæ€§ï¼Œæˆ‘ä»¬é€šå¸¸é‡‡ç”¨ç»Ÿè®¡çš„è§’åº¦å¯¹ä¿¡é“çš„ä¸€äº›å½±å“ä¿¡å·ä¼ è¾“çš„å‚æ•°è¿›è¡Œä¼°è®¡ï¼Œæ¯”å¦‚è¡°å‡ã€æ—¶å»¶ç­‰ç­‰ã€‚é‚£æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ä¿¡é“ä¼°è®¡ï¼Ÿæˆ‘è¿˜æ˜¯ä¸¾ä¾‹è¿›è¡Œè¯´æ˜ï¼Œå‡è®¾ä¸€ä¸ªç”¨æˆ·å‘åŸºç«™ä¼ è¾“10ä¸ªä¿¡å·ï¼Œæ¯ä¸ªä¿¡å·ç»å†å®Œå…¨ç›¸åŒçš„ä¿¡é“ï¼ˆä¹Ÿå°±æ˜¯è¯´ä¿¡é“å¯¹ä¿¡å·çš„å½±å“å®Œå…¨ä¸€æ ·ï¼‰ï¼Œå¦‚æœæˆ‘ä¸åšä¿¡é“ä¼°è®¡ï¼Œé‚£åŸºç«™æ¯æ¥æ”¶ä¸€ä¸ªä¿¡å·éƒ½è¦å¯¹è¿™ä¸ªä¿¡å·è¿›è¡Œä¸€ä¸ªä¿¡é“å½±å“çš„æ¶ˆé™¤ï¼Œè¿™å¯¹äºåŸºç«™è¿™ç§å¤§ååé‡çš„åº”ç”¨åœºæ™¯æ˜¾ç„¶ä¸åˆç†ã€‚å¦‚æœåŸºç«™å¯¹ç¬¬ä¸€ä¸ªä¿¡å·åšä¿¡é“ä¼°è®¡ï¼ŒçŸ¥é“äº†ä¿¡é“å¯¹ä¿¡å·çš„å†²æ¿€å“åº”æ˜¯å¹…åº¦è¡°å‡ä¸º1&#x2F;2ã€ç›¸ä½å»¶å10ï¼Œé‚£ä¹ˆåç»­çš„9ä¸ªä¿¡å·åŸºç«™å¯ä»¥ç›´æ¥ç»™ä¸€ä¸ª2å€çš„å¢ç›Šï¼Œç„¶åå°†ç›¸ä½æå‰10ä»¥æ­¤æ¶ˆé™¤ä¿¡é“çš„å¹²æ‰°ï¼Œå¦‚æ­¤å°±èŠ‚çœäº†èµ„æºåˆæé«˜äº†æ•ˆç‡ã€‚</p><p>åç»­ç§‘å­¦å®¶ä»¬é€šè¿‡å¯¹ä¿¡é“ä¼°è®¡å¾—åˆ°çš„å‚æ•°è¿›è¡Œç ”ç©¶ï¼Œæ¨å‡ºäº†è®¸å¤šçš„ç®—æ³•ï¼Œå‘ç°å¯ä»¥é€šè¿‡CSIå¾—åˆ°ä¿¡å·ä»å‘å‡ºåˆ°è¾¾åŸºç«™çš„æ—¶é—´ã€ä¿¡å·åˆ°åŸºç«™ä½¿è¢«æ¥æ”¶çš„è§’åº¦ç­‰ï¼Œç”±æ­¤è¡ç”Ÿäº†CSIå¾—å‡ºä¿¡é“å“åº”ç”¨äºå®šä½ç”¨æˆ·çš„åŠŸèƒ½ç­‰ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>5G é€šæ„Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>5G Channel state infomation(CSI)</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Wi-Fi Backscatter communication</title>
    <link href="/2025/03/18/Wi-Fi%20Backscatter%20communication/"/>
    <url>/2025/03/18/Wi-Fi%20Backscatter%20communication/</url>
    
    <content type="html"><![CDATA[<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>This article is about a new way of communication for edge IoT devices. Aims at transmitting information of sensors without consuming energy or even store energy for sensing environment.</p><p>It is a great method to deal with situation which may encounter some problems like short-energy.</p><p>We realise this method based on 802.11.ac frame structure, using a mcu controling RFID switch to change the resist value, which cause the changing in phase of the Wi-Fi packets.</p><p>The <strong>180 degrees</strong> inversion in phase of Wi-Fi packets will destroy the mac frame of signal transmitted in Los(Line of sight) as superimposed by the inversed Wi-Fi packets, which cause the <strong>0 bits</strong> in ACK block.</p><p>So we can get the information that we modulated onto the Wi-Fi packets without transmitting it by decoding the ACK blocks. That is the main concept of what we do.</p><h2 id="ä»€ä¹ˆæ˜¯WiFiåå‘æ•£å°„ç³»ç»Ÿï¼ˆWiFi-BackScatter-Communication-Systemï¼‰"><a href="#ä»€ä¹ˆæ˜¯WiFiåå‘æ•£å°„ç³»ç»Ÿï¼ˆWiFi-BackScatter-Communication-Systemï¼‰" class="headerlink" title="ä»€ä¹ˆæ˜¯WiFiåå‘æ•£å°„ç³»ç»Ÿï¼ˆWiFi BackScatter Communication Systemï¼‰"></a>ä»€ä¹ˆæ˜¯WiFiåå‘æ•£å°„ç³»ç»Ÿï¼ˆWiFi BackScatter Communication Systemï¼‰</h2><p>ç›´è§‚ç‚¹è¯´ï¼ŒBackscatter é€šä¿¡æ˜¯ä¸€ç§æä½åŠŸè€—é€šä¿¡æ–¹å¼ï¼Œè®¾å¤‡ä¸ç”¨ä¸»åŠ¨â€œå‘å°„ä¿¡å·â€ï¼Œè€Œæ˜¯é€šè¿‡åå°„å·²æœ‰çš„æ— çº¿ä¿¡å·ï¼ˆæ¯”å¦‚WiFiï¼‰æ¥ä¼ é€’æ•°æ®ã€‚åŸºæœ¬åŸç†æ˜¯å‡è®¾ç©ºæ°”ä¸­å·²ç»å­˜åœ¨ä¸€ä¸ªæ— çº¿ä¿¡å·ï¼ˆæ¯”å¦‚ WiFi è·¯ç”±å™¨å‘å‡ºçš„ä¿¡å·ï¼‰ï¼ŒèƒŒæ•£å°„è®¾å¤‡ï¼ˆæ¯”å¦‚æ ‡ç­¾ï¼‰ä¸è‡ªå·±å‘å°„ä¿¡å·ï¼Œè€Œæ˜¯é€šè¿‡è°ƒèŠ‚å¤©çº¿çš„é˜»æŠ—ï¼Œé€‰æ‹©æ€§åœ°åå°„æˆ–ä¸åå°„è¿™äº›ä¿¡å·ã€‚æ¥æ”¶ç«¯è®¾å¤‡ï¼ˆæ¯”å¦‚æ™ºèƒ½æ‰‹æœºï¼‰æ£€æµ‹è¿™äº›å˜åŒ–ï¼Œä»ä¸­æ¢å¤å‡ºæ•°æ®ã€‚</p><p>å¯ä»¥ç†è§£ä¸ºæœ‰äººä¸€ç›´åœ¨ç”¨æ‰‹ç”µç­’ï¼ˆWiFi ä¿¡å·ï¼‰ç…§ä¸€ä¸ªé•œå­ï¼Œè¿™ä¸ªé•œå­ï¼ˆWiFi Tagï¼‰å¯ä»¥æ§åˆ¶è‡ªå·±æ˜¯åå…‰è¿˜æ˜¯å¸å…‰ï¼ˆåå°„æˆ–ä¸åå°„ä¿¡å·ï¼‰ï¼Œä½ ç«™åœ¨å¦ä¸€è¾¹çœ‹ï¼Œå°±èƒ½æ ¹æ®â€œäº®â€æˆ–â€œä¸äº®â€æ¥è§£ç ä¿¡æ¯ã€‚è¿™æ ·çš„é€šä¿¡æ–¹å¼å¯ä»¥å®ç°è¶…ä½åŠŸè€—ï¼ˆç”šè‡³å¯ä»¥å®Œå…¨æ— ç”µæ± ï¼‰ï¼Œå®Œå…¨é€‚é…ç‰©è”ç½‘ï¼ˆIoTï¼‰è®¾å¤‡ã€RFID æ ‡ç­¾ç­‰ã€‚</p><h2 id="å¦‚ä½•ç†è§£WiFi-Backscatteræ‰€è°“çš„ç ´å"><a href="#å¦‚ä½•ç†è§£WiFi-Backscatteræ‰€è°“çš„ç ´å" class="headerlink" title="å¦‚ä½•ç†è§£WiFi Backscatteræ‰€è°“çš„ç ´å"></a>å¦‚ä½•ç†è§£WiFi Backscatteræ‰€è°“çš„ç ´å</h2><ol><li><p>ç†è§£WiFi Tagçš„å·¥ä½œæ–¹å¼æˆ‘ä»¬å°±éœ€è¦å…ˆçŸ¥é“WiFiæ˜¯æ€ä¹ˆä¼ è¾“æ•°æ®çš„ã€‚æˆ‘ä»¬éƒ½çŸ¥é“æ•°æ®åœ¨ç”µè„‘ä¸­æ˜¯å‘ˆç°ä¸º0101è¿™æ ·çš„äºŒè¿›åˆ¶æ¯”ç‰¹æµçš„ï¼Œæ¯8ä¸ªbitæ„æˆä¸€ä¸ªå­—èŠ‚ã€‚è€ŒWiFiå°†è‡³å°‘ä¸€ä¸ªå­—èŠ‚åŒ…è£…æˆä¸€ä¸ªå­å¸§ï¼ˆsubFrameï¼‰ï¼ŒTagå°±æ˜¯ä»¥å­å¸§ä¸ºåŸºæœ¬å•ä½å®ç°ç ´åçš„åŠŸèƒ½çš„ï¼ˆä¹Ÿå°±æ˜¯è¯´ç ´åå¾ˆå¤šä¸ªbitï¼‰ã€‚å·²çŸ¥æˆ‘ä»¬æ‰‹æœºï¼ˆUEï¼‰å‘è·¯ç”±å™¨å‘é€æ•°æ®ï¼Œå¦‚æœè·¯ç”±å™¨æˆåŠŸæ¥æ”¶äº†é‚£ä¹ˆå°±ä¼šå›åº”UEä¸€ä¸ªBAï¼ˆBlock ACKï¼‰ã€‚å¦‚æœæ¥æ”¶åˆ°äº†ï¼Œåœ¨BAå¯¹åº”çš„å¸§ä½ç½®ä¸Šä¼šæ˜¾ç¤ºä¸º1.å‡è®¾æˆ‘ä»¬åŸæœ¬è¦ä¼ è¾“ä¸€å…±10ä¸ªå­å¸§ï¼Œå¦‚æœAPï¼ˆä¾‹å¦‚è·¯ç”±å™¨ï¼‰å…¨éƒ¨éƒ½æ¥æ”¶åˆ°äº†ï¼Œé‚£ä¹ˆåœ¨Wiresharkï¼ˆä¸€ä¸ªæŠ“åŒ…è½¯ä»¶ï¼‰ä¸Šå°±ä¼šæ˜¾ç¤ºBAå¯¹åº”ä½ç½®æœ‰10ä¸ª1ï¼ˆ1è¡¨ç¤ºæˆåŠŸæ¥æ”¶ï¼‰ã€‚</p></li><li><p>æœ‰çš„äººæƒ³ä½ æŠŠç”¨æˆ·å‘å‡ºçš„æ•°æ®ç ´åäº†ï¼Œé‚£ç”¨æˆ·ä¸å°±ä¸¢åŒ…äº†å—ï¼Ÿè¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±è¦ç†è§£å¤šå¾„ã€‚ä¿¡å·åœ¨ç©ºæ°”ä¸­ä¸æ˜¯åªæ²¿ä¸€æ¡ç›´çº¿ä¼ æ’­çš„ï¼Œè€Œæ˜¯åœ¨ä¸€å®šèŒƒå›´çš„è§’åº¦èŒƒå›´å†…éƒ½æœ‰çš„ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†å¤šå¾„çš„äº§ç”Ÿã€‚å‡è®¾æˆ‘ä»¬ç°åœ¨å‘å‡ºçš„ä¿¡å·åªæœ‰ä¸¤æ¡è·¯å¾„</p></li></ol><p><img src="https://github.com/allforkarina/embadded_image/blob/master/20250406065801171.png?raw=true" alt="Multiple Path"></p><p>å…¶ä¸­ä»Helperåˆ°Readerçš„è·¯å¾„æ˜¯æœ€çŸ­çš„ç›´çº¿ï¼ˆç§°ä¸ºLOSï¼‰ã€‚å¦ä¸€æ¡è·¯å¾„çš„ä¿¡å·å¯èƒ½ç”±äºå¤–ç•Œç¯å¢ƒçš„åå°„ï¼ˆè·Ÿå£°æ³¢ä¸€æ ·ï¼‰ï¼Œè·¯å¾„é•¿åº¦æ›´é•¿ï¼Œä½¿å¾—ä¿¡å·åˆ°è¾¾Readeræ—¶ç›¸æ¯”äºLOSæœ‰ä¸€ä¸ªæ—¶å»¶ï¼Œè€Œè¿™ä¸ªæ—¶å»¶å°±ä¼šå¯¼è‡´ä¿¡å·çš„ç›¸ä½å‘ç”Ÿæ”¹å˜ï¼ˆæ”¹å˜180Â°å°±ç›¸å½“äºåå‘ï¼‰ã€‚</p><ol start="3"><li>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å®ç°è¿™ä¸ªç›¸ä½åå‘å‘¢ï¼Œé è¿æ°”ç­‰ç¯å¢ƒè‡ªå·±ä½¿ä¿¡å·ç›¸ä½æ”¹å˜å—ï¼Ÿä¸‹é¢æˆ‘ä»¬å°±è¦è®²ç¡¬ä»¶å®ç°æ€è·¯ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ä¿¡å·æ³¢é•¿ä¸é¢‘ç‡ä¹‹é—´çš„å…³ç³»ï¼š</li></ol><p><img src="https://github.com/allforkarina/embadded_image/blob/master/20250406065807770.png?raw=true" alt="Multiple Path"></p><p>ä¸€èˆ¬é¢‘ç‡æˆ‘ä»¬å·²çŸ¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå°±èƒ½å¤Ÿç®—å‡ºæ¥ä¿¡å·çš„æ³¢é•¿ã€‚ä¸€ä¸ªæ³¢é•¿ä»å…¬å¼çš„è§’åº¦ç­‰ä»·äºä¸€ä¸ªå®Œæ•´å‘¨æœŸï¼Œç­‰ä»·äºä¸€ä¸ª360Â°çš„ç›¸ä½åç§»ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ä¸ªæ ‡ç­¾æˆ‘ä»¬çš„Tagåœ¨ä¿¡å·çš„ä¼ è¾“è·¯å¾„ä¸­é—´ï¼Œç”¨ä¸€ä¸ªå¼€å…³åˆ‡æ¢è·¯å¾„ï¼Œä¸€å…±ä¸¤æ¡ï¼Œä¸€æ¡è·¯å¾„é•¿åº¦æ˜¯ä¸€ä¸ªå®Œæ•´æ³¢é•¿ï¼Œé‚£ä¹ˆä¿¡å·é€šè¿‡Tagçš„å¤©çº¿è¿›å…¥æ ‡ç­¾å†å‡ºæ¥ç»è¿‡äº†ä¸€ä¸ªå®Œæ•´çš„å‘¨æœŸï¼Œå¯ä»¥è®¤ä¸ºç›¸ä½ä¸å˜ï¼›å¦ä¸€æ¡è·¯å¾„çš„é•¿åº¦æ˜¯åŠä¸ªæ³¢é•¿ï¼ŒåŒç†ä¿¡å·è¿›å…¥Tagå†å‡ºæ¥ç›¸ä½æ”¹å˜äº†180Â°ï¼Œä¸åŸæ¥çš„ä¿¡å·åå‘ã€‚ç›¸å½“äºæˆ‘ä»¬äººä¸ºçš„å°†å¤šå¾„çš„é•¿åº¦å·®å˜æˆäº†ä¸€ä¸ªæ³¢é•¿ã€‚</p><h2 id="WiFi-Tagè°ƒåˆ¶çš„å…·ä½“å®ç°æµç¨‹"><a href="#WiFi-Tagè°ƒåˆ¶çš„å…·ä½“å®ç°æµç¨‹" class="headerlink" title="WiFi Tagè°ƒåˆ¶çš„å…·ä½“å®ç°æµç¨‹"></a>WiFi Tagè°ƒåˆ¶çš„å…·ä½“å®ç°æµç¨‹</h2><p>å‡è®¾æˆ‘ä»¬çš„æ‰‹æœºå’ŒWiFiè·¯ç”±å™¨åœ¨è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œåœ¨ä¸€ç§ç†æƒ³çš„æƒ…å†µä¸‹æˆ‘ä»¬çš„ä¿¡å·è´¨é‡å¾ˆå¥½ï¼Œæ²¡æœ‰ä¸¢åŒ…çš„æƒ…å†µã€‚æˆ‘ä»¬åœ¨ä¸­é—´åŠ å…¥WiFi Backscatter Tagï¼Œå¹¶ä¸”ä»¥10KHzçš„é¢‘ç‡å»åˆ‡æ¢å¼€å…³ã€‚å‡è®¾æˆ‘ä»¬æ‰‹æœºç½‘å¡å‘é€å­å¸§çš„é€Ÿç‡ä¹Ÿæ˜¯10Kä¸ªå­å¸§æ¯ç§’ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å‡è®¾åœ¨LOSï¼ˆå³å‰é¢è¯´çš„ç›´å°„è·¯å¾„ï¼‰ä¸­ä¼ è¾“çš„ä¿¡å·ï¼ˆè°ƒåˆ¶äº†10Kä¸ªå­å¸§ï¼‰çš„ç›¸ä½éƒ½æ˜¯0Â°ï¼ˆç›¸å¯¹çš„ï¼‰ã€‚ç„¶ååœ¨æœ‰WiFi Tagçš„å¦ä¸€æ¡è·¯å¾„ï¼Œä¿¡å·è°ƒåˆ¶çš„10Kä¸ªå­å¸§æœ‰5Kä¸ªç›¸ä½ä¸º360Â°ï¼Œæœ‰5Kä¸ªç›¸ä½ä¸º180Â°ã€‚ç›¸ä½ä¸º360Â°çš„è·ŸLOSçš„ä¿¡å·å åŠ åœ¨ä¸€èµ·ç”±äºåŒç›¸ï¼Œå¯¹åŸæ¥çš„ä¿¡å·èµ·åˆ°å¢å¼ºçš„ä½œç”¨ï¼Œæ¥æ”¶ç«¯å…¨æ˜¯1ï¼ˆå‚è€ƒåŸºç¡€çŸ¥è¯†1ï¼‰è€Œç›¸ä½ä¸º180Â°çš„è·ŸLOSçš„ä¿¡å·åå‘ï¼Œå åŠ åˆ°ä¸€èµ·åˆšå¥½ç›¸äº’æŠµæ¶ˆäº†ï¼Œé‚£ä¹ˆæ¥æ”¶ç«¯å°±æ˜¯å…¨0ï¼ˆç†æƒ³æƒ…å†µï¼‰ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™ä¸ª0ã€1ä¹‹é—´çš„äº¤æ›¿å¾—å‡ºæˆ‘ä»¬WiFi Tagè¦è°ƒåˆ¶çš„ä¿¡å·ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://github.com/allforkarina/embadded_image/blob/master/20250406065816107.png?raw=true" alt="Multiple Path"></p><hr><p>ä»¥ä¸‹æ˜¯ï¼Œæˆ‘ä»¬å¦‚ä½•é€šè¿‡è½¯ä»¶å®ç°å¯¹ä¸Šè¿°æµç¨‹çš„ä»¿çœŸä»¥åŠä½“ç°ã€‚</p><h2 id="Introduction-of-environment"><a href="#Introduction-of-environment" class="headerlink" title="Introduction of environment"></a>Introduction of environment</h2><p>In this section I will briefly give a introduction of the hardware requirement, software requirement and the system environment which we based on.</p><ul><li>Firstly, we setup ubuntu 22.04 version in real PC because one of the software we used requires real NIC(Network Interface Card).</li><li>Secondly, we need a low-speed, high-frequency RFID switch which also required low power consuming. Together with a mini-mcu to control it, which means you need a energy provided method.</li><li>thirdly, you may need wireshark to get packets info at initial, then you need PicoScenes as CSI Tool to get ACK block. Also you need pktgen which is provided by Linux kernel.</li></ul><h2 id="Process-of-experiment"><a href="#Process-of-experiment" class="headerlink" title="Process of experiment"></a>Process of experiment</h2><p>Letâ€™s start from equiping your computer with necessary software. First thing is that you need an PC with a Ubuntu system at version 22.04. Then after your configuration of basic settings, you can start from â€˜Pktgenâ€™ which is already in your system software and all you need to do is activate it using your root privacy. The detail of the overall process please follow the blog: <a href="https://blog.csdn.net/qq_41596356/article/details/134004341">How to use Pktgen-powerful Wlan test tools</a>. Notice: once you reboot your system, you need to activate the Pktgen using root privacy again.</p><p>Pktgen, used as packet genration and transmission tool, you can send packet which you configure. You then need a software to receive packet and evaluate the infomation of signal-channel through the packet you received. Here I recommend using wireshark to capture packet, and using PicoScenes to get CSI. The installation steps as followed.<br>For Wireshark, you can visit its <a href="https://github.com/wireshark/wireshark">github repository</a> and paste the command at your terminal. The second one PicoScenes, you can download it following this <a href="https://www.bing.com/search?form=QBLH&q=PicoScenes">blog</a>, or visit the <a href="https://ps.zpj.io/">official docs</a> to get to know how to install, how to use it and what is the meaning of CSI values.</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºåšå®¢çš„é‚£äº›äº‹o.O</title>
    <link href="/2025/03/18/hello-world/"/>
    <url>/2025/03/18/hello-world/</url>
    
    <content type="html"><![CDATA[<h1 id="Hexo-çš„ä½¿ç”¨æŒ‡å¼•"><a href="#Hexo-çš„ä½¿ç”¨æŒ‡å¼•" class="headerlink" title="Hexo çš„ä½¿ç”¨æŒ‡å¼•"></a><em>Hexo</em> çš„ä½¿ç”¨æŒ‡å¼•</h1><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><h1 id="å¦‚ä½•å¿«é€Ÿå…¥é—¨-Markdown"><a href="#å¦‚ä½•å¿«é€Ÿå…¥é—¨-Markdown" class="headerlink" title="å¦‚ä½•å¿«é€Ÿå…¥é—¨ Markdown"></a>å¦‚ä½•å¿«é€Ÿå…¥é—¨ <em><strong>Markdown</strong></em></h1><p><em>Markdown</em>ï¼Œä½œä¸ºä¸€ç§åŸºäºæ–‡æœ¬çš„å¿«é€Ÿæ ¼å¼åŒ–ç¼–å†™è¯­æ³•ï¼Œç›¸è¾ƒäºä¼ ç»Ÿçš„æ–‡æœ¬ç¼–è¯‘å™¨å¦‚ <em>Word</em>ã€<em>WPS</em> è¿™äº›åŸºäºå›¾å½¢åŒ–çš„ <em>format</em> å·¥å…·ï¼Œåªéœ€è¦ç®€å•çš„å‡ ä¸ªå­—ç¬¦ä¾¿å¯ä»¥ä¾¿å¯å®ç° <em>æ–œä½“</em>ã€<strong>ç²—ä½“</strong>ä»¥åŠ<code>é«˜äº®</code>ç­‰ç‰¹æ®Š <em>format</em>ã€‚</p><p>è€Œå¯¹æ¯”èµ· <em>Latex</em>ï¼Œ<em>Markdown</em> è™½ç„¶åŠŸèƒ½ä¸å¦‚å…¶å¼ºå¤§ï¼Œä½†æ˜¯ç”±äº <em>Latex</em> éœ€è¦æ›´é•¿çš„å­¦ä¹ å‘¨æœŸã€ç¹æ‚çš„å…¬å¼å’Œæ–‡æœ¬è¡¨è¾¾å¼ï¼Œä»¥åŠè¾ƒæ…¢çš„ç¼–è¯‘é€Ÿåº¦ï¼Œå¯¹äºæƒ³å¿«é€Ÿç¼–å†™ <em>blog</em> æˆ–è€… <em>diary</em> çš„æ–°æ‰‹ï¼Œæˆ‘ä¸ªäººæ›´åŠ æ¨èä½¿ç”¨ <em>Markdown</em>ã€‚ä¸‹é¢æˆ‘å°†å¸¦é¢†ä½ ä»¬å¿«é€Ÿå…¥æ‰‹ <em>Markdown</em>ï¼Œè®©æˆ‘ä»¬çœå»ä¸€äº›æ²¡ç”¨çš„åºŸè¯ï¼Œ<em><strong>Letâ€™s start it!!!</strong></em></p><h2 id="æ¸…æ™°åˆ†æ˜çš„æ ‡é¢˜åˆ†çº§"><a href="#æ¸…æ™°åˆ†æ˜çš„æ ‡é¢˜åˆ†çº§" class="headerlink" title="æ¸…æ™°åˆ†æ˜çš„æ ‡é¢˜åˆ†çº§"></a>æ¸…æ™°åˆ†æ˜çš„æ ‡é¢˜åˆ†çº§</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section"># | ## | ### | ####</span><br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ï¼Œä¾¿æ˜¯ <em>Markdown</em> ä¸­å®šä¹‰çš„æ ‡é¢˜åˆ†çº§æ–¹å¼ï¼Œæ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯éå¸¸çš„ç®€å•æ¸…æ™°ï¼åªè¦ä½ æƒ³ï¼Œä½ å¯ä»¥ä¸æ–­åœ°å åŠ <code>#</code>æ¥å®ç°å¤šçº§æ ‡é¢˜ï¼Œå½“ç„¶è¿™æ ·çš„ç»“æœå¯èƒ½åªæ˜¯æ ‡é¢˜æ¯”ä½ çš„æ­£æ–‡è¿˜è¦ä¸èµ·çœ¼ã€‚</p><h2 id="å¼ºå¤§ã€å¿«æ·çš„ç‰¹æ®Š-Format"><a href="#å¼ºå¤§ã€å¿«æ·çš„ç‰¹æ®Š-Format" class="headerlink" title="å¼ºå¤§ã€å¿«æ·çš„ç‰¹æ®Š Format"></a>å¼ºå¤§ã€å¿«æ·çš„ç‰¹æ®Š <em>Format</em></h2><p>å½“ä½ ä½¿ç”¨ <em>Word</em> æ’°å†™ä¸€ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œå¦‚æœä½ æƒ³å°†æŸæ®µæ–‡å­—å˜æˆç²—ä½“æ¥èµ·åˆ°å¼ºè°ƒçš„ä½œç”¨ï¼Œä½ å¤§æ¦‚ç‡ä¼šé€‰ä¸­æ–‡å­—ï¼Œç§»åŠ¨ä½ çš„é¼ æ ‡åˆ°<code>B</code>çš„ç²—ä½“æ ‡è¯†ä¸Šï¼ŒClickä¸€å£°ï¼Œå®ç°åŠ ç²—çš„æ•ˆæœï¼›å¦‚æœä½ æ˜¯é«˜æ‰‹ï¼Œé‚£ä¹ˆä½ å¯èƒ½ä¼šä½¿ç”¨å¿«æ·é”®æ¥åŠ ç²—æ–‡å­—ï¼Œä½†æ˜¯åœ¨ <em>Markdown</em> çš„ä¸–ç•Œé‡Œï¼Œä½ åªéœ€è¦</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-strong">**åŠ ç²—çš„æ–‡å­—**</span><br></code></pre></td></tr></table></figure><p>ä¾¿å¯ä»¥å®ç° <strong>åŠ ç²—</strong> çš„æ•ˆæœã€‚</p><hr><p>åŒç†ï¼Œåƒ <strong>åŠ ç²—</strong> è¿™æ ·çš„æ–¹ä¾¿å¿«æ·çš„ <em>Format</em> è¿˜æœ‰ <em>æ–œä½“</em>ã€<code>ä»£ç </code>ã€<del>åˆ é™¤çº¿</del>ç­‰ç­‰ã€‚ä»–ä»¬åˆ†åˆ«å¯¹åº”çš„æ ¼å¼ä¸º</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-emphasis">_æ–œä½“_</span> | <span class="hljs-code">`ä»£ç `</span> | ~~åˆ é™¤çº¿~~<br></code></pre></td></tr></table></figure><h2 id="å¸¸ç”¨çš„æ–‡æœ¬ç»“æ„"><a href="#å¸¸ç”¨çš„æ–‡æœ¬ç»“æ„" class="headerlink" title="å¸¸ç”¨çš„æ–‡æœ¬ç»“æ„"></a>å¸¸ç”¨çš„æ–‡æœ¬ç»“æ„</h2><p>è¿™æ—¶å€™æœ‰äººä¼šé—®äº†ï¼Œåšä¸»åšä¸»ï¼Œä½ çš„æ–‡æœ¬ <em><code>format</code></em> è¿˜æ˜¯å¤ªæ™®é€šäº†ï¼Œæœ‰æ²¡æœ‰ä¸åƒæ“ä½œæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Ÿæœ‰çš„æœ‰çš„ï¼æ¯”å¦‚ï¼Œä½ å¯ä»¥å¿«é€Ÿçš„è‡ªå®šä¹‰ä¸€ä¸ªåˆ—è¡¨ï¼š</p><table><thead><tr><th></th><th>col1</th><th>col2</th></tr></thead><tbody><tr><td>row1</td><td>â€”-</td><td>â€”-</td></tr><tr><td>row2</td><td>â€”-</td><td>â€”-</td></tr></tbody></table><p>åƒä¸Šé¢è¿™ä¸ª2x2çš„è¡¨æ ¼åªéœ€è¦ç®€å•çš„å®šä¹‰æ–¹å¼ï¼Œå¦‚ä¸‹</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs markdown">|      | col1 | col2 |<br>| ---- | ---- | ---- |<br>| row1 | ---- | ---- |<br>| row2 | ---- | ---- |<br></code></pre></td></tr></table></figure><p>å…¶ä¸­çš„<code>| ---- | ---- | ---- |</code>ï¼Œä¹Ÿå°±æ˜¯ç¬¬äºŒè¡Œï¼Œä½œç”¨æ˜¯åŒºåˆ†è¡¨æ ¼çš„å†…å®¹ä»¥åŠæ¯ä¸€åˆ—çš„Title. </p><hr><p>å½“ç„¶ï¼Œä½ å¯ç»“åˆæˆ‘ä»¬ä¸Šä¸€èŠ‚çš„ç‰¹æ®Šformatæ¥è‡ªå®šä¹‰ä½ çš„è¡¨æ ¼ï¼Œåƒ</p><table><thead><tr><th></th><th align="left">col1</th><th align="left">col2</th></tr></thead><tbody><tr><td>row1</td><td align="left"><code>code</code></td><td align="left"><em>Italic</em></td></tr><tr><td>row2</td><td align="left"><strong>Bold</strong></td><td align="left"><del>Dele</del></td></tr></tbody></table><hr><p>æˆ–è®¸ä½ æ­£åœ¨å°è¯•ç¼–å†™ä¸€ä¸ªæŠ€æœ¯æ€§çš„åšå®¢ï¼Œä½ å¯¹å¦‚ä½•å°†æºç å±•ç¤ºå¼€æºè€Œæ„Ÿåˆ°å¤´ç—›ã€‚ç›´æ¥å¤åˆ¶ç²˜è´´ï¼Œæ ¼å¼ä¸å¯¹ï¼Œä¸å¤Ÿä¼˜ç¾ï¼›æˆªå›¾å‘¢ï¼Œè™½ç„¶æœ‰é«˜äº®ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ³•<code>ctrl + c\v</code>. å¯¹æ­¤ï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ ä½¿ç”¨ <em>Markdonw</em> çš„ä»£ç å—Structure</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs markdown">$ <span class="hljs-code">``` (language)</span><br><span class="hljs-code">(Warning: $ åªæ˜¯ç”¨äºé˜²æ­¢ä»£ç å—åœ¨æˆ‘å®šä¹‰çš„markdownä»£ç å—ä¸­ç”Ÿæ•ˆï¼Œå®é™…ä½¿ç”¨åªéœ€è¦ä¸Šä¸‹ç”¨```</span>æ ‡æ³¨è¿™æ˜¯ä¸€ä¸ªä»£ç å—å³å¯ç”Ÿæ•ˆ)    <br>$ <span class="hljs-code">```</span><br></code></pre></td></tr></table></figure><p>æ‹¬å·å†…çš„Languageè¡¨ç¤ºï¼Œ<em>Markdown</em> çš„ä»£ç å—æ”¯æŒå¤šç§ä¸åŒçš„è¯­è¨€ï¼Œåƒpython</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br>a = np.random.randn(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<br></code></pre></td></tr></table></figure><hr><p>æˆ–è€…ä½ éœ€è¦ä¸€ä¸ª<code>TODO List</code>æ¥å¸®åŠ©ä½ ç®¡ç†ä½ çš„äº‹é¡¹ï¼Œé‚£ä¹ˆä½ å¯èƒ½éœ€è¦ä½¿ç”¨åˆ°åˆ—è¡¨ã€‚</p><p><em>Markdown</em> æ”¯æŒå¤šç§ä¸åŒçš„åˆ—è¡¨ï¼Œä¾‹å¦‚æ•°å­—åˆ—è¡¨ï¼š</p><ol><li>This is the first list.</li><li>This is the second list</li></ol><p>åˆæˆ–è€…æ˜¯ç‚¹åˆ—è¡¨ï¼š</p><ul><li>list here.</li><li>list here.</li></ul><h2 id="ç‰¹æ®Šçš„ç©æ³•"><a href="#ç‰¹æ®Šçš„ç©æ³•" class="headerlink" title="ç‰¹æ®Šçš„ç©æ³•"></a>ç‰¹æ®Šçš„ç©æ³•</h2><p><em>Markdown</em> ä¸ä»…ä»…æ˜¯æä¾›ä¸€ä¸ªæ–¹ä¾¿å¿«æ·çš„æ–‡æœ¬ç¼–è¾‘æ–¹å¼ï¼Œå®ƒè¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„ä½¿ç”¨æ–¹æ³•æ¥è£…ç‚¹ä½ çš„Markdownæ–‡æœ¬ã€‚</p><ul><li><em><strong>Emoji</strong></em>ï¼šâœ…ã€ğŸ˜¶â€ğŸŒ«ï¸ etc.</li></ul><hr><p>ä»¥ä¸Šå°±æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„Markdownä½¿ç”¨æ ¼å¼ï¼Œå¸Œæœ›è¿™ä¸ªæŒ‡å¼•èƒ½å¤Ÿå¯¹ä½ æœ‰å¸®åŠ©ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
